<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[하나씩 점을 찍어나가며 - Heumsi의 블로그 RSS]]></title><description><![CDATA[소프트웨어 엔지니어 흠시의 블로그 입니다.]]></description><link>https://heumsi.github.io/blog</link><generator>GatsbyJS</generator><lastBuildDate>Mon, 06 Jan 2025 06:36:09 GMT</lastBuildDate><item><title><![CDATA[2024년 회고]]></title><description><![CDATA[올해도 게으른 나머지, 12월 3…]]></description><link>https://heumsi.github.io/blog/posts/retrospective-2024/</link><guid isPermaLink="false">https://heumsi.github.io/blog/posts/retrospective-2024/</guid><pubDate>Tue, 31 Dec 2024 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;올해도 게으른 나머지, 12월 30일이 되어서야 회고 글 작성을 시작한다.
여전히 귀찮지만, 그래도 나중에 회고 글을 다시 읽어보며 그땐 이렇게 살았구나, 나는 어떻게 변해왔구나 살펴보는 것은 재밌기 때문에.&lt;/p&gt;&lt;p&gt;그랩과 함께 여수에 왔다.
잔잔한 바다와 서울보다 따뜻한 날씨 속에서 글을 작성한다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:91.8918918918919%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAABYlAAAWJQFJUiTwAAAEyUlEQVQ4yy2QWWzTBQDG/xE2GDB20DLGJYcQ0BgUQoTExMSoiTyIPsmbeBB9IYaYmHCMS2DCwB3tjl7r2q3rsdKu3dqt57r/ev3b9dpgiEC3qewgC7yob+ZnWHz48j19v+/LJ/TkXmDKPMOeW+Budg5LZo6u1DxaaQGNtIAqMU9HfI6O+FM08VkM8SKmZBGzVKQv9QSLVESfKKJLTGNIzSJ4Hjxn+NFfDNxfwjmxiKMwjzU3jyk7T29uHsvkEvap51gnFnDem8OS+wOdNIsuOUtncmYZ1JsuYssU6R6fQejQaHD6RxEfLhB5vERo6k8G783h+/UZkUcLDKcnkSYLvPj7Bf/yD8XFRXyTM7gL01iyM/Rlp/EUnuDIF7Hniwh1589y4fw5jLa7eJN50tOL/Da/RCg7hdps4+rNei5dv4qmS4szEMIhpolNFRl/PItn4gnu1CRuqUD0wSNSj58gfH3qK67UnePixQu0dfUgZiYI+r2oWhqo/6mOS1fquH7rGvWNN7nV0sCVO7eob9eiNdvpsthRGXpo1PWgtvXjFUWEDz/6gE+Pf8Kx459x4uQ3tCkbSI30kYu5SEddjAyZSSWHmZnJ8PtMmqmJIBazFofDiNNtIxAeZNhnZ8jXx4joQrh27gw/nDnNqe++5cQXX6Job+b+ZJRsTiSWCDKeDpMcGyIZHcI/4iUS9SHGAsRiQxSLKZ4+zTA1EWA05kFMDiN0d7Xh7NOj0ylpVDTRoFDQoutEabKiMNloMppo6bHQHRyjLz6OcSSBLhhfdlMkSXc4Rnc4Sm8kjmU0jvD92XOcvVbP5V+UNJn6MYt53Lki1uQD9CMZVL4E2pCEaSyNLTZOd0RCG0yiDiRp9UkofBKNgzHuuMe47RpFuHS7mRsKFbd1vSjtfmzRCQYzD7FECxhCKVReEUMogUvK4R2foC+WwSRm6RFzGMfyGEez6MPjaPwS6uEYgtLcj8bhp8s7hjGUxiQW6I3eRz+SR+VP0+qJofHF6BXT2KLjGELScrh9WKJ1OIXSm6TJHUPpeXmFhKDtD6B1hdENinT6ExjCWQyRPJpghnafhDqYwTCawxwrYIkXMIp5Ol+WhfK0B3K0+bO0eFMohyQ0AQlB7fChcvjRuMNoPGPo/Ek6Qxk0/vTyistqExcVauo1Rm51mflZb+WG3kpDt4P6bif1JjcNZjd3zC6arf0I6v4Aek8EvWcUnTeKallxdOEcP95Usla2l1c2HqKk5hCrag+z+n9t232UffuOsuW1I8h2H6Fi5xE27HoHod0RoMMRoNXuR+WK0DEwhsIZQRPKcuLUabbLt7B3z1tUb3qdVbL9lMnfYLX8TcpqDlBe+zZbtx1k187DVNYeZMWGAwgt5gGUFg/q/iBqVxj1wCgKRxCtX+Ljz09SUlLG9pqN7K2RsVNeTeW6ckpWraWkdA2r11Qgk9Uir5Kxe6Oc/bU1CK3WQRTWQZR2D613h2h3BWkbCNMTzfLesU8RhBVUybdSLduMrErO7k2bkVXKWFG6nlVllawrl7FuvZyKCjmVFTKERqOT2113aTK7abZ6aF0GBjGMJDj07vsIK6uoqK5hx4491NS+yuq11awsXc+KknJKSsspWyejSradTbJNVKzfwH9qJ+W/nqfccwAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;2025 01 06 01 02 26&quot; title=&quot;2025 01 06 01 02 26&quot; src=&quot;/blog/static/5e9ad215e93c7cbc4981b285b08747b2/fcda8/2025-01-06-01-02-26.png&quot; srcSet=&quot;/blog/static/5e9ad215e93c7cbc4981b285b08747b2/12f09/2025-01-06-01-02-26.png 148w,/blog/static/5e9ad215e93c7cbc4981b285b08747b2/e4a3f/2025-01-06-01-02-26.png 295w,/blog/static/5e9ad215e93c7cbc4981b285b08747b2/fcda8/2025-01-06-01-02-26.png 590w,/blog/static/5e9ad215e93c7cbc4981b285b08747b2/efc66/2025-01-06-01-02-26.png 885w,/blog/static/5e9ad215e93c7cbc4981b285b08747b2/0f246/2025-01-06-01-02-26.png 1118w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;여수, 카페에서&lt;/em&gt;&lt;/p&gt;&lt;h2 id=&quot;커리어&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%BB%A4%EB%A6%AC%EC%96%B4&quot; aria-label=&quot;커리어 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;커리어&lt;/h2&gt;&lt;h3 id=&quot;line을-퇴사하며&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#line%EC%9D%84-%ED%87%B4%EC%82%AC%ED%95%98%EB%A9%B0&quot; aria-label=&quot;line을 퇴사하며 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;LINE을 퇴사하며&lt;/h3&gt;&lt;p&gt;7월 16일. LINE에서의 마지막 출근을 했다. 입사한 지는 2년 1개월, 보통 말하는 &amp;quot;그래도 3년&amp;quot;을 못 채우긴 했지만, 후회는 없다. LINE 정도 되는 큰 IT 회사에서 데이터 플랫폼 팀은 어떤 책임을 가지고, 어떤 이슈들을 해결해나가는지 알 수 있었다. 다른 대기업과 합병이 되면 어떤 사내외 이슈가 있는지도 옆에서 슬쩍 볼 수 있었다. 그 밖에도, 입사 전 내가 궁금해하던 것들을 나름대로 해소해 볼 수 있는 기간이었다.&lt;/p&gt;&lt;p&gt;커리어를 쌓을수록, 나에 대해 점점 더 자세히 알아간다는 생각이 든다.
회사에서 내가 뭘 했는지는 이전 회고들에도 충분히 있는 거 같아서, 여기서는 LINE에서 알게 된 &amp;quot;나에 대한 것&amp;quot;을 적어보려고 한다.&lt;/p&gt;&lt;h4 id=&quot;큰-회사보다-작은-회사를&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%ED%81%B0-%ED%9A%8C%EC%82%AC%EB%B3%B4%EB%8B%A4-%EC%9E%91%EC%9D%80-%ED%9A%8C%EC%82%AC%EB%A5%BC&quot; aria-label=&quot;큰 회사보다 작은 회사를 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;큰 회사보다 작은 회사를.&lt;/h4&gt;&lt;blockquote&gt;&lt;p&gt;하디, 큰 회사 가도 어차피 같이 실무 하는 사람 수는 비슷해서, 일하는 거 크게 다를 거 없어요.&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;내 첫 직장이었던 쏘카에서 디케이가, 내 퇴사 면담에서 내가 이직하고자 하는 이유를 듣고 해준 말이다.&lt;/p&gt;&lt;p&gt;지금 보니, 그런 거 같다.
&lt;a href=&quot;https://heumsi.github.io/blog/posts/my-first-job-change/#%EB%B3%B4%EB%8B%A4-%ED%81%B0-%EC%A1%B0%EC%A7%81%EC%97%90%EC%84%9C-%EC%9D%BC%ED%95%9C%EB%8B%A4%EB%8A%94-%EA%B2%83%EC%97%90-%EB%8C%80%ED%95%9C-%ED%98%B8%EA%B8%B0%EC%8B%AC&quot;&gt;이전 이직 회고&lt;/a&gt;를 보면, 나는 LINE에 입사할 때 &amp;quot;보다 큰 조직에서 일한다는 것에 대한 호기심&amp;quot; 이 있었다.
그리고 이제 이 호기심은 꽤 해소되었다.&lt;/p&gt;&lt;p&gt;사실 LINE에서 일하면서, 일하는 방식이 쏘카를 다닐 때보다 훨씬 더 진보되어 있지는 않았다.
물론 전사 차원에서의 체계적인 작업들은 훨씬 더 자세하게 만들어져있었다.
예를 들어, HR에서 진행하는 주기적인 교육이라던가, 신입 프로세스, 평가 체계와 같은 것들 말이다.
정책이나 가이드들도 세밀하게 되어있고, 담당 전문 인력이 있어서 그들에게 쉽게 물어볼 수도 있었다.&lt;/p&gt;&lt;p&gt;그러나 실제 긴밀하게 협업하고 일을 하는 사람의 수는 3~4명, 많으면 8명 정도까지였다.
흔히 말하는 &amp;quot;피자 2판의 법칙&amp;quot;이 적용되고 있었다.&lt;/p&gt;&lt;p&gt;반대로, 실무 조직이 아닌 전체 조직이 크기 때문에 다른 것들이 있었다고 생각한다.
정확히 어떻게 표현해야 할지 모르겠지만, 내가 종종 들었던 질문들은 다음의 것들이다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;우리 팀에서 중요하게 생각하는 것을 회사에서도 정말 중요하게 생각할까?&lt;/li&gt;&lt;li&gt;여러 팀에서 오는 요청 중, 우리는 어떤 우선순위를 가지고 처리해야 할까? 그 근거는 무엇일까?&lt;/li&gt;&lt;li&gt;팀 별로 어디까지 공통 컴포넌트를 가지고, 어디까지 다르게 가져가야 할까?&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;내가 속한 팀이 여러 테넌트를 둔 플랫폼 팀이다 보니, 많은 사람들과 커뮤니케이션이 필요했고, 그러다 보니 효율적인 것들이 중요하다고 생각했다.
그런데 어려웠다.
나는 전체적인 그림을 보며, 모두가 큰 그림 안에서 얼라인(Aligned)이 되어야 효율성이 개선된다고 생각하는데, 애초에 전체라는 단위가 너무 크고, 사일로와 블랙박스가 많았다.&lt;/p&gt;&lt;p&gt;우리가 만드는 이 기능이, 이 행동이 정말 조직 차원에서 효율적일지 알 수 없었다.
우리와 비슷한 기능을 만드는 다른 팀의 문서를 살펴보며, 사내의 다른 팀에 대해 경쟁의식을 갖는 게 맞는 것일까 하는 생각이 들었다.
사내 밥그릇 싸움이란 게 이런 걸까 싶기도 하고 말이다.
하지만 그렇다고 어떤 대안이 떠오르지도 않았다.&lt;/p&gt;&lt;p&gt;이런 의문이 든 생각은 애초에 &amp;quot;수많은 사람들과 조직이 있어서&amp;quot; 그렇다고 생각한다.
즉 규모가 크다 보니 자연스레 복잡하고 해결하기 어려워지는 게 아닐까 싶다.
그리고 내가 느끼는 불편함은, 나는 이런 질문이 해결되지 않으면 일에 100% 집중이 되는 성격이 아니어서 그런 거라 생각한다.&lt;/p&gt;&lt;p&gt;나는 조직의 복잡성이 비교적 작은 회사에 어울리겠다는 생각이 들었다.
이런 의문이 자체가 들지 않을, 조직 규모가 커지는 걸 지향하지 않는, 모두가 쉽게 얼라인될 수 있는, 작은 회사에 말이다.&lt;/p&gt;&lt;h4 id=&quot;플랫폼이-아닌-애플리케이션을&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%ED%94%8C%EB%9E%AB%ED%8F%BC%EC%9D%B4-%EC%95%84%EB%8B%8C-%EC%95%A0%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98%EC%9D%84&quot; aria-label=&quot;플랫폼이 아닌 애플리케이션을 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;플랫폼이 아닌 애플리케이션을.&lt;/h4&gt;&lt;p&gt;&lt;a href=&quot;https://heumsi.github.io/blog/posts/my-first-job-change/#%EB%B3%B4%EB%8B%A4-%ED%81%B0-%EC%A1%B0%EC%A7%81%EC%97%90%EC%84%9C-%EC%9D%BC%ED%95%9C%EB%8B%A4%EB%8A%94-%EA%B2%83%EC%97%90-%EB%8C%80%ED%95%9C-%ED%98%B8%EA%B8%B0%EC%8B%AC&quot;&gt;이전 이직 회고&lt;/a&gt;에서 LINE에 와서 배우고 싶은 것으로 &amp;quot;기술에 딥 다이빙 할 수 있는 환경&amp;quot;을 말했었다.
그리고, 내가 얕게 알고 쓰던 쿠버네티스에 대해 앞으로는 좀 더 깊이 알고 쓰고 싶다고 했었다.&lt;/p&gt;&lt;p&gt;LINE에서 쿠버네티스를 참 많이 본거 같다.
클러스터 네트워크 장애 경험해 보며 CNI가 어떻게 동작하는지, 클러스터 내 네트워크는 어떤 순서로 동작하는지 살펴볼 수 있었다.
내 실수로 운영 중인 다수의 PV를 날려먹으면서, PVC와 PV 상태에 따라 CSI 오퍼레이터가 어떻게 리소스를 회수해가는지 직접 볼 수 있었다.
Spark 스케줄러를 찾아보고 여러 오픈 소스를 PoC 해보며 쿠버네티스에서 &amp;quot;스케줄링&amp;quot;이라는 것에 어떤 이슈들이 있는지, 대안으로 어떤 것들이 있는지 배울 수 있었다.&lt;/p&gt;&lt;p&gt;&amp;quot;무엇을 안다&amp;quot;라고 말할 때에는 이전보다 훨씬 더 깊게 이해하고 말해야 했다.
그럼에도 팀에서 기술 리뷰를 받을 때, 내가 생각한 것보다 기술적으로 좀 더 깊은 질문들이 나오곤 했다.
또한 우리 팀의 서비스는 사내 엔지니어를 대상으로 하는 플랫폼이었기 때문에, 엔지니어들로부터 날카로운 질문들을 받았고, 이러한 것들 또한 지속적으로 무언가를 공부해야겠다는 데에 동기가 되었다.
여하튼 이전에 내가 원했던 대로, 기술에 딥 다이빙하며 이런저런 학습과 결과물을 낼 수 있었다.&lt;/p&gt;&lt;p&gt;하지만 뭔가 부족한 느낌이 들었다.
GPU 사용 가능한 클러스터 환경을 만들어도,
클러스터 내에서 사이즈가 큰 컨테이너 이미지의 프리-풀링이 가능하게 해도,
이것이 구체적으로 어떤 유의미한 효용을 주는지 느끼지 못했다.
옆 팀에서 몇 개월이 걸려 만든 플랫폼이 제대로 사용되지 않고 Deprecated 되는걸 보면서 이런 생각은 더 짙어졌다.&lt;/p&gt;&lt;p&gt;플랫폼 개발과 운영은 어렵다고 생각한다.
플랫폼은 코드로 치면 마치 &amp;quot;재사용 가능한 공통 모듈로 분리&amp;quot;와 같은 리팩토링과 비슷하다고 생각하는데,
엔지니어링에서 흔히 말하는 &amp;quot;추상화&amp;quot;의 작업이 이루어진다.
작고 세부적으로 설계해야 할까? 좀 더 크고 범용적으로 설계해야 할까?
이건 앞으로 여기저기서 재사용 될 컴포넌트인가?
코드를 어떻게 분리해야 확장 가능할까?
이런 것들은 일종의 &amp;quot;예측&amp;quot;이 필요하다.
예측이란 것은 본래 어렵다.&lt;/p&gt;&lt;p&gt;플랫폼은 가치를 어느 정도 예측해서 비교적 큰, 재사용 가능한 형태로 만들어져야 한다.
그런데 나는 측정할 수 없는, 예측하기 어려운 가치를 만드는 데에 큰 공수를 들이는 것에서 불편함을 느꼈던 거 같다.
그런 점에서, 내 성향은 플랫폼 엔지니어와 맞지 않는다고 생각한다.&lt;/p&gt;&lt;p&gt;이제 쏘카에서 배웠던 데이터 엔지니어링도, LINE에서 배운 쿠버네티스도, 기술은 나에게 그저 수단이다.
나는 기술자들을 위한 기술보다는, 일반 사람들의 삶을 윤택하게 만들어주는 그런 프로덕트를 만들고 싶다는 생각이 든다.&lt;/p&gt;&lt;h4 id=&quot;문서화된-프로세스보다는-합의된-가치를&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%AC%B8%EC%84%9C%ED%99%94%EB%90%9C-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4%EB%B3%B4%EB%8B%A4%EB%8A%94-%ED%95%A9%EC%9D%98%EB%90%9C-%EA%B0%80%EC%B9%98%EB%A5%BC&quot; aria-label=&quot;문서화된 프로세스보다는 합의된 가치를 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;문서화된 프로세스보다는, 합의된 가치를.&lt;/h4&gt;&lt;p&gt;나는 평소 팀의 생산성에 대해 관심이 있곤 했는데, 생산성을 올리는 방법으로 보통 &amp;quot;프로세스&amp;quot;나 &amp;quot;컨벤션&amp;quot;을 말하곤 했다.
&amp;quot;팀의 일거리 가시성을 위해 JIRA 티켓을 먼저 만들고 일하자&amp;quot;, &amp;quot;일관성을 위해 티켓 제목은 항상 현재형 동사로 작성하자&amp;quot;, &amp;quot;우리가 반복해서 하는 운영 작업 프로세스는 문서화를 해서, 신입 멤버가 쉽게 익히게 하자&amp;quot; 이런 말을 하곤 했다.&lt;/p&gt;&lt;p&gt;우리가 필요하다고 느끼는 것들을 누구든 &amp;quot;제안&amp;quot;하고 &amp;quot;합의&amp;quot;한 뒤, 문서로 &amp;quot;기록&amp;quot;해서 지켜나가면 된다고 생각했다.
이상적으로는, 잘 만들어진 프로세스와 컨벤션 문서가 하나 있고, 이걸 만들어간 의사 결정 문서가 있는 형태를 생각했었다.
이것이 우리의 팀 문화를 만들어주고, 새로운 멤버에게도 우리 팀의 문화를 쉽게 교육하고 생산성을 올릴 수 있는 효율적인 방법이라고 생각했다.&lt;/p&gt;&lt;p&gt;그런 점에서 나는 제안을 많이 하는 편이었다.
좋아 보이는 게 있으면 그걸 팀에 도입하고 싶은 한편, 기존의 방식에 묘한 불편함을 느껴 이러한 것들을 개선하고 싶어 했다.&lt;/p&gt;&lt;p&gt;그러나 이럴 때마다 이런 내 생각과 다른 생각을 가진 팀원이 있었는데, 그는 이런 생각이었다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;이런 것들은 생산성을 올리는 게 아니라 반대로 낮추는 것이다.&lt;/li&gt;&lt;li&gt;이미 잘 하고 있는 사람들은 그런 문서나 프로세스 없이도 잘하고 있으며, 잘 못 따라오는 사람들이 노력해야 한다.&lt;/li&gt;&lt;li&gt;별도의 문서로 작성하기보다는 올바른 선택 기준을 세워서, 상황에 따라 이 기준에 맞게 능동적으로 생각해야 한다.&lt;/li&gt;&lt;li&gt;프로세스와 컨벤션이 그렇게 중요한가? 프로세스와 컨벤션은 종종 바뀌며, 그때마다 문서를 업데이트해야 하는 것은 생산성을 저하시킨다.&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;처음에는 솔직히 이해가 가지 않았다.
그가 조금 이기적이라고 생각했으며(왜냐하면 그는 이미 잘 하고 있는 사람이었다),
우리가 다 같이 노력하면, 오버헤드가 조금 있을 수 있겠으나, 모두가 일을 더 잘할 수 있을 거라 생각했다.&lt;/p&gt;&lt;p&gt;그런데 어느 순간부터인지 나는 그의 생각과 가까워지게 되었다.&lt;/p&gt;&lt;p&gt;내가 팀에 적응했을 때부터 였을까? 누군가가 일에 대한 &amp;quot;프로세스&amp;quot;와 &amp;quot;문서화&amp;quot;를 말할 때, 그 일은 다들 암묵적으로 잘 알고 실행하고 있었고, 만약 잘 모르겠으면 이전 작업 문서를 보면 되는데, 이걸 왜 굳이 정리된 문서로 또 작성하지? 라는 생각이 들었다.
그러면 팀 내 신입은 그 일을 어떻게 알고 해야 하는가? 라고 묻는다면... 솔직히 알아서 잘했으면 좋겠다.
본인이 직접 문서를 찾아보고, 모르겠는 부분은 물어봤으면 좋겠다.&lt;/p&gt;&lt;p&gt;한편, 내가 초기에 제안한 프로세스나 컨벤션은 문서로 잘 만들어졌지만, 이후 팀원들이 그렇게 지키지 않는 경우가 많았다.
왜 그럴까 생각해 보면, 그게 팀에서 그렇게 중요하지 않았기 때문이라고 생각한다.
그리고 그렇게 지키지 않았어도, 결과적으로 일은 잘 진행되었다.&lt;/p&gt;&lt;p&gt;컨벤션, 프로세스가 중요하지 않다는 건 아니다.
다만, 우리가 &amp;quot;중요하다고 생각하는 가치&amp;quot;가 공유되는게 더 중요하다.
예를 들어, 플랫폼 팀에 있어서 가장 중요한 건 호환성과 안정성이다.
어떤 기능을 배포할 때, 이게 하위 호환은 될지, 안정성에 문제는 없을지 능동적으로 충분히 생각해야 하는 것이다.
이를 프로세스 문서와 체크리스트로 일일이 만들 수도 있겠지만, 이는 소극적인 형태라는 생각이 든다.
내가 하는 일이 호환성과 안정성에 어떻게 여파를 줄지 적극적으로 생각해 보고, 기존 동료들이 어떻게 일을 했는지 참고하면 된다.&lt;/p&gt;&lt;p&gt;우리 팀에서 중요하다고 생각하는 가치가 공유가 되어있으면, 이제는 굳이 프로세스나 컨벤션을 세우지 않아도 된다고 생각한다.
반면 공유가 되어 있지 않다면, 프로세스나 컨벤션이 아닌 매니페스토 형태로 합의를 봐도 좋을 거 같다.
우리가 중요하다고 느끼는 것들은 자연스레 신경이 쓰이게 되고, 합의하며 리스크를 줄여나가게 되는 게 자연스러운 과정이지 않을까 싶다.&lt;/p&gt;&lt;h4 id=&quot;정리&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%A0%95%EB%A6%AC&quot; aria-label=&quot;정리 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;정리&lt;/h4&gt;&lt;p&gt;첫 회사를 다닐 때는, 비교할 기준과 대상이 없었기 때문에 나에 대해 잘 몰랐던 거 같다. 그런데 두 번째 회사를 다니면서, 첫 회사와 비교하게 되고, 그 과정에서 내가 어떤 걸 더 선호하는지 이전보다 더 잘 알게 되었다. 무엇을 더 &amp;quot;선호한다&amp;quot; 는 것은 내가 어디에서 불편함을 느끼는지 관찰해 보면 알 수 있었다. LINE에서의 시간은 이렇게 나를 알아가게 했다는 점에서 매우 가치 있는 시간이었다고 느끼고 있다.&lt;/p&gt;&lt;h3 id=&quot;closer-labs에-합류하며&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#closer-labs%EC%97%90-%ED%95%A9%EB%A5%98%ED%95%98%EB%A9%B0&quot; aria-label=&quot;closer labs에 합류하며 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Closer Labs에 합류하며&lt;/h3&gt;&lt;p&gt;LINE 마지막 출근 이후 약 3주가 지난 8월 5일, 클로저 랩스(Closer Labs)에 입사했다.
이제 이에 대한 이야기를 해볼까 한다.&lt;/p&gt;&lt;h4 id=&quot;합류한-이유&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%ED%95%A9%EB%A5%98%ED%95%9C-%EC%9D%B4%EC%9C%A0&quot; aria-label=&quot;합류한 이유 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;합류한 이유&lt;/h4&gt;&lt;p&gt;LINE을 다니면서, 위에서 느낀 불편함이 해소되지 않는다면 언젠가는 이직을 하겠다는 생각이 들었다.
종종 관심이 가는 혹은 나에게 관심을 주는 회사가 있으면 입사 지원도 넣어보고 면접이나 커피 챗을 하기도 했다.&lt;/p&gt;&lt;p&gt;그러던 중, 5월에 전 직장 동료였던 험프리와 케이피에게 연락이 왔다.
케이피는 쏘카를 퇴사하고 거기서 배운 레슨 런으로 새로운 사업을 시작했다는 것이었고, 험프리는 아직 쏘카에 다니지만, 케이피가 하는 사업의 엔지니어링 부분을 리드하고 있다는 것이었다.
그리고 내게 엔지니어링 일감 일부를 외주 형태로 맡기고 싶다고 했다.
이게 클로저 랩스와의 첫 시작이었다.&lt;/p&gt;&lt;p&gt;두 달 정도 외주 형태로 일했다. 그 사이 케이피와 술도 몇 번 먹으며, 사업에 대한 이야기를 들을 수 있었다. 그리고 외주 일이 끝난 뒤, 클로저 랩스로부터 정식 오퍼가 왔다. 나는 이를 수락하면서 입사를 결정하게 되었다.&lt;/p&gt;&lt;p&gt;내 의사 결정에 영향을 미친 가장 큰 두 가지는 다음이었다.&lt;/p&gt;&lt;ol&gt;&lt;li&gt;초기 스타트업으로 언젠가 가보고 싶었는데, 그 적기가 지금인거 같다.&lt;/li&gt;&lt;li&gt;파운더들이 내가 아는 똑똑하고 믿을만한 사람이다.&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;올해 내가 가장 크게 느낀 &amp;quot;기회비용의 기준&amp;quot;은 &amp;quot;나중에 할 수 없는 것&amp;quot; 이었다.
그런 점에서 극초기 스타트업에 합류하는 일은 나중에 하면 꽤나 값비싼 비용이란 생각이 들었다.
젊을 때에만 나올 수 있는 에너지도 분명 있고, 만약 내가 나중에 가정이 생긴다면 그때의 무게감보다 지금이 훨씬 가벼울 테니깐.
반면, 극초기 스타트업이 아닌 곳은 비교적 나중에 저렴한 비용으로 경험해 볼 수 있겠다는 생각이 들었다.&lt;/p&gt;&lt;p&gt;한편, 어떤 사람과 일하느냐 역시 매우 의사결정에 매우 중요했는데(초기 스타트업에서는 더더욱),
다른 스타트업 면접이나 커피 챗을 했을 때 이걸 확실히 알 수가 없었다.
그런데 클로저 랩스에는 나와 함께 일해봤던 동료들이 있었기에, 그들이 똑똑하고 나와 핏이 잘 맞는 사람임을 알고 있었다.
실제로 합류 전 외주 일을 해보니, 내가 LINE에서 느꼈던 아쉬움을 채워줄 수 있겠단 생각이 들었다.&lt;/p&gt;&lt;p&gt;업계에서 일한 지 만 5년이 되어간다.
예전에는 시니어가 없는 조직에서 일하는 것이 두려웠었다.
그러나 이제는 시니어가 없는 조직에서 다 같이 시니어가 되고 싶은 사람들이 모여 일하고 싶다.
이제 그만한 자신감을 가져도 된다는 느낌이 든다.
내 시기가 중요한 시기 임을 알고 있다.
이 시기에 지금까지 한 번도 가보지 않은 초기 스타트업에 시간을 투자해 보고 싶다.&lt;/p&gt;&lt;h4 id=&quot;한-것들&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%ED%95%9C-%EA%B2%83%EB%93%A4&quot; aria-label=&quot;한 것들 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;한 것들&lt;/h4&gt;&lt;p&gt;유저가 사용하는 제품을 만들었다.
현재 데스크룸(클로저 랩스의 서비스 이름)에는 2가지 제품과 핵심 기능은 다음과 같다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;CX Assistant&lt;ul&gt;&lt;li&gt;CS 상담원들이 사용하는 크롬 익스텐션이다. 문의에 따라 답변 추천을 해준다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;CX Analytics&lt;ul&gt;&lt;li&gt;CX 관리자가 사용하는 웹 대시보드다. 문의 개수, 처리 속도 등 지표들을 볼 수 있다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;나는 여기서 CX Analytics 개발을 주로 담당했다.
기획은 주로 케이피가 해주었고, 디테일과 제품 개발, 릴리즈 그리고 고객 소통 &amp;amp; 피드백 반영은 내가 담당했다.&lt;/p&gt;&lt;p&gt;좀 더 구체적으로는 다음의 일들을 했다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;BigQuery를 데이터 웨어하우스로 도입했다.&lt;/li&gt;&lt;li&gt;배치 파이프라인 스케줄러로 Prefect를 도입하고 ELT 파이프라인을 구현했다.&lt;/li&gt;&lt;li&gt;프론트엔드로 Retool을 사용하여 각종 대시보드 및 웹 앱을 구현했다.&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;CX Analytics는 데스크룸의 핵심 서비스라서, 랜딩 페이지에 어떻게 보여야 할지, 어떤 핵심 기능과 메시지를 전달해야 할지도 고민했다.
이제는 데스크룸에 있어서 CX Analytics는 나에게 자식 같은 서비스라 보면 된다.&lt;/p&gt;&lt;p&gt;그 외에도, 사내 백엔드와 인프라는 내가 오너 역할을 담당하고 있다.
물론 이전에 험프리가 잘 만들어 두어서, 지금 단계에 크게 손볼 건 없지만!&lt;/p&gt;&lt;p&gt;앞으로도 계속해서 이렇게 클로저 랩스에 필요한 데이터 프로덕트를 만들어갈 계획이다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:88.51351351351352%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAABYlAAAWJQFJUiTwAAAFAElEQVQ4yx3OWUzTBwCA8b8TuUXsQGBCKVehpVDaQqHlKBSllUKLSAFFObSAqChEh4rHACcKKgOhDsETxc0paqaJLoK6RZ0QnS7bjNG97IgaTdyiqJsv3zIfv6ffJzhHn7D/6nP6x96w6eDfrO96Rs/IS5wXHhMkbWKKWyXeXlvw8ezEw70WV7ciprrrcfO08IFrLC4eStxmxOAbqCQgWIngHH3KwLWXOMde0H/tL07cfsPQzdecugd1bZcRXMqY7rMVX6+9eLu34TqtHO9ptYhEp/ENHcDVPYKpnlFMnyklJFSF0Df6jH3XJ+k8/ystQ3fp+PI+7cfv4fzmMR2XXiFSbMZ9+iZmevfg7dmM67RKwqPWE6cexF90GGFKFDP9ZISI1URG6RD233jF4K3XHP7hHUcm3uG89Bvtx++wpeci3T3DpFcPIQRtxyPiMJ5+exBcHEz3XYQ4pI4Z01qZKVK/P4uOTkMuNyBs++ouvVf+ZMP+UVqHxun++j4Hv33CwIUHDLc0sXNzC3pDJcuW1JNpOEqWfjVrlqxiqWk1vh4ddNfXoFenI4vNRK0xI+y6+Ii+K7/TdvpH2oYn2HpojDW7T1HmaKHBsYrBjfXU2SvYUesgy3CUjRWN1JYtw5ZTjY/3JzTYK8k2WtAkWUjR5SHUdZ2jpuscK3ou0Nh9nuaDY6zdNYLFtAhFkhGpIosZQSoS0u0YCxootNmJS84mSpmCSKxjfkEZERoTyWk2DBlWhFWdp1m84wuWdo5Qs/0ElZ8cwFq5iSPrqxBHJeIdnII8ToU5t5jvL59i2fI67KVFxKdYmWNzcGz4ELq5RShURsxzFyAcvjdJ751/2DcxyeD4awZuT1LTuIMNRTkEyfUsr62lYl4mO5vXkKY3oFZpKZtvQhyTjizJSveedswmG2ZTAbZcO0LXjad03XxB940X9I9P0jbyMwqNmbyMLMIVqez6tAnBS4LWWIDgFUycXElOhp6AMB2zZmfg5h6ARKanzF5GUb4doW/iLe23/qVz/B1Dv8D2S4+Za3XQ4ihF8JJRmpWNVJFIcEwqfsFyNMokEuQK5hRWUbCwHkHwISY2kSZHCdWldoShsXt8fv4O3SevU9HUz2dHL2CwrmFhnpUAuRGzwUJYtIoweSqJeiPRyhR8AsKpWlhF67pmRLPjMZsK6draz/oGJ8Lpnm0MtG2mcely4tQW2rd0EG6oJSrZTERiLkGxJfhJktFm2CksbSY2yURIjIZSxzCrPv4OVdoiMs31DB54yLmzzxGUmQ14hBURkrAc/8gCAuLLCc2oRqq1kGxeSUJaNSHROrItK0md04AmrYpZYToS0huRxBTi4qtAkVTK0WP3OXP2DwT/mGJUmevY7XxL7sLjuPglE2dciyL1f8BGYJSFEFkOYrkJ/9BEAiPSCIxIxVWkQZaQh5e/gvzirQydfM3A4AMEP6mVLFs7uwdeoc3tYIY4A0ncAnxDUylxNBIaayNSOQ91ejHFi2tQaPOJ09lw8ZaRnlPJh+JUzJYlTIx08vBMA0KANJ8A6XzC1OX4huZQvboPWVIJeUUOLp0/hlRlRabJQ6EtYG5+BZHxue87ODIbn1la/ILT8fLXsq+1ikdXexFEEhMRCXYqV/Sxs+cWvYM/ESwvpLBkGb29e5HIcxHLcpDE5qIzluMvyWR25BxEs9MIlGTwUXgm0Qnz6NjtZPjUGP8B6ADtj6xCUg0AAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;2025 01 06 11 45 50&quot; title=&quot;2025 01 06 11 45 50&quot; src=&quot;/blog/static/f6cbcab39c15b33e8e23b3e2b30437c4/fcda8/2025-01-06-11-45-50.png&quot; srcSet=&quot;/blog/static/f6cbcab39c15b33e8e23b3e2b30437c4/12f09/2025-01-06-11-45-50.png 148w,/blog/static/f6cbcab39c15b33e8e23b3e2b30437c4/e4a3f/2025-01-06-11-45-50.png 295w,/blog/static/f6cbcab39c15b33e8e23b3e2b30437c4/fcda8/2025-01-06-11-45-50.png 590w,/blog/static/f6cbcab39c15b33e8e23b3e2b30437c4/efc66/2025-01-06-11-45-50.png 885w,/blog/static/f6cbcab39c15b33e8e23b3e2b30437c4/c83ae/2025-01-06-11-45-50.png 1180w,/blog/static/f6cbcab39c15b33e8e23b3e2b30437c4/b1ffc/2025-01-06-11-45-50.png 1492w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;프라이머 데모데이 때 찍은 클로저 랩스 멤버들&lt;/em&gt;&lt;/p&gt;&lt;h4 id=&quot;지금까지의-레슨런&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%A7%80%EA%B8%88%EA%B9%8C%EC%A7%80%EC%9D%98-%EB%A0%88%EC%8A%A8%EB%9F%B0&quot; aria-label=&quot;지금까지의 레슨런 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;지금까지의 레슨런&lt;/h4&gt;&lt;p&gt;첫 번째, 세일즈-드라이븐 개발은 초기 제품을 만드는 팀에게 (적어도 우리에겐) 옳다.
세일즈-드라이븐 개발은, 완성된 제품이 아닌, UI만 있는 제품을 고객에게 먼저 보여준 후, 이게 팔리면 그때부터 개발하는 방식이다.
즉 실제로 돈을 내는 유저가 있기 전까지는, 유저가 상상할 수 있을 최소한의 수준으로만 개발한다.
보통 이건 UI와 데모 데이터면 충분했다.
이 세일즈 드라이븐으로 우리는 개발과 기획 리소스를 매우 경제적으로 사용했다고 생각한다.
빠르게 실패하고, 더 많이 시도하자가 우리의 철학이었으며, 우리끼리의 생각이 아닌 고객의 생각과 니즈가 무엇인지 정확히 찾으려 했다.
10개 시도해서 1개가 대박 나면 성공이라 생각한다. 10개를 빨리 만들 수 있으면 된다.&lt;/p&gt;&lt;p&gt;두 번째, B2C와 다르게 B2B SaaS는 &amp;quot;있어빌리티&amp;quot;가 꽤 중요한 거 같다.
&amp;quot;이거 뭔지 잘 모르겠지만, 일단 업계에서 다 이걸 쓴다고? 이거 쓰면 일단 팬시하고 멋져보일 거 같은데?&amp;quot;
이런 생각이 들게끔 해야, 고객의 실제 구매로 이어지지 않나 싶다.
물론 제품의 핵심 기능도 중요하지만, 단순히 기능이 좋은 수준으로는 확장성 있게 팔리지 않다는 것이다.
그래서 유저 니즈를 관통하는 제품 기능과 더불어 기깔난 랜딩 페이지도 중요하다.
우리 제품이 업계 디-팩토라는, 요즘 트렌드라는 이미지를 주는 것을 목표로 세우게 되었다.&lt;/p&gt;&lt;p&gt;마지막으로, 사실 요즘 고민이 별로 없다.
해야 할 것들이 쌓여있고, 기술적으로 어려운 것도 없어서, 고민 없이 그냥 하면 된다.
계속해서 시도해 보고, 우리의 가설이 잘 동작하는지, 동작하지 않았다면 왜 그랬는지 회고하면 된다.
이러다 보니, 요즘은 밋업이나 다른 사람 이야기, 기술 트랜드를 잘 안보게 되는거 같다.
그저 일하고, 밥 먹고, 탁구 치고, 회의한다.
퇴근하면 동료들과 운동하거나 PC방에 게임하러 가거나, 아니면 술 먹으면서 우리의 다음 방향성에 대해 이야기한다.
감정, 일상의 변화 없이 살고 있지만, 재밌게 지내고 있다.&lt;/p&gt;&lt;h2 id=&quot;내-일상&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%82%B4-%EC%9D%BC%EC%83%81&quot; aria-label=&quot;내 일상 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;내 일상&lt;/h2&gt;&lt;h3 id=&quot;책&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%B1%85&quot; aria-label=&quot;책 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;책&lt;/h3&gt;&lt;p&gt;올해는 작년보다 더 안 읽었다!&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://www.aladin.co.kr/shop/wproduct.aspx?ItemId=278488709&quot;&gt;Real MySQL 8.0 1권&lt;/a&gt;&lt;ul&gt;&lt;li&gt;&amp;quot;그래도 이력서에 백엔드 엔지니어 적어놨는데, 이 유명한 책은 한번 봐야하지 않겠냐&amp;quot; 싶어서, 상협이랑 같이 스터디한 책&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.aladin.co.kr/shop/wproduct.aspx?ItemId=305119016&quot;&gt;데이터 시각화 디자인&lt;/a&gt;&lt;ul&gt;&lt;li&gt;사이드 프로젝트였던 푸드케어 대시보드를 만들며, 프로젝트 멤버들과 함께 스터디한 책&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.aladin.co.kr/shop/wproduct.aspx?ItemId=321323169&quot;&gt;그렇게 쓰면 아무도 안 읽습니다&lt;/a&gt;&lt;ul&gt;&lt;li&gt;클로저 랩스로 이직 후, 랜딩 페이지를 만들다가 UX 디자이너 분에게 추천 받아 읽었던 책&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;작년까지는 뭔가 부족하고 알고 싶은 것들이 있을 때 책을 보곤 했었는데, 이젠 궁금한 것이 별로 없어서 일까.
읽어보고 싶은 책이 없었다.
한편, 조금씨 궁금할 때는 책보다 ChatGPT로 알아가는 것들이 많았던 거 같다.&lt;/p&gt;&lt;h3 id=&quot;애니&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%95%A0%EB%8B%88&quot; aria-label=&quot;애니 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;애니&lt;/h3&gt;&lt;p&gt;올해 넷플릭스에서 본 애니는 다음과 같았다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;도로헤도로: ⭐️⭐️⭐️⭐️&lt;/li&gt;&lt;li&gt;트라이건 스탬피드: ⭐️⭐️⭐️&lt;/li&gt;&lt;li&gt;나 혼자만 레벨업: ⭐️⭐️⭐️&lt;/li&gt;&lt;li&gt;귀멸의 칼날, 합동 강화 훈련편: ⭐️⭐️⭐️⭐️&lt;/li&gt;&lt;li&gt;괴수 8호: ⭐️⭐️⭐️⭐️&lt;/li&gt;&lt;li&gt;아케인 시즌 2: ⭐️⭐️⭐️&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;도로헤도로, 압도적으로 좋았다. 나 다크 판타지 장르 좋아하는 구나.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:141.2162162162162%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAcCAIAAADuuAg3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAF9UlEQVQ4ywXBWXPaiAEAYP2FdpJt7BAbY4MRBh2gA90nkkBI4hCXxG1ksDHG9xnHseM4sds02d2ZdjKd3enuzuxs+9q+dNof1+8DSizoFeEjNf2tRtx4+mnfxBLLOSM3Dbz394f3D2fb8+n1u5unL0/9LY/mYCgVAsHF0NLzul8DpmV400JuVPSXtnTXNa6PfZ5Kz6eN//52/I+v0//9dvLr3z9//PQhS6eSUJjhk5pBRNdfPfvD7yA8AWwaGwc8/GijT57416frf//4kJfxj68P//PD493nd9PvP1/ezYlsilUz7UHx5LxbbUgwGV9dX1xceQZ46NoOlvhazfp4OE9u/PTjD47fdIOB8/Bn4v4TPTsOpsr8TO+Pm29vx8N2vuMytQaNECtgahE4opMTIfXVZrjkCxV6ebgfOPePmdd3+OMXZmtbFMRRR7y+0ERFlEW6XxNyFNEo8boFgZkloENEpwX4oEoXBETKkf7huBT4YrCJD7cRMJkGE0HZupgUcJqNx4k0kpZJLC9zvS3TMZIADoGVzGqnxY27ttpuopf38NU7puWhGBEFN5LRDU0lc2o2GsssLa+FwzE8Cff85sfHi3kLA/R8jmHIHAmW5XSYYZD5CevXeM9nWg2zXsYQHEcpCKI2Epioappjmbq8d3LU0sTbAQPYFWvzcL/ilvC1F5m8xva8Tk2ezPpmpcRxOU0x8kaBZiRJ1vcOdo9Pd3YmrY7nHMaRywIDWJo0HverftMumZTCdCtsvZkPZmOtaEuKpqk5gVckWbOcEs2ThYLslAvDfuFakY9EDshhiO9VWq2yN6zzOlff7ARbfVNXBJyyilKxQFEkqimspMuawlVarl3QmtViv2wdURzQMQQsk3aqRadpG41isNcfbg1lkcbgDVYvsJWuWdYNjar5br3RECXKbNeKmwOlXtup1gHLVBiF4VS2aGsoibmdeqsfkHgGTWH65D03+cAJfCaFNvq+XvcEs1IJembQtbYCcTIFYATmVIYQUUrAqg1LynE9ke/w7O2gu7t/YRi+SFNpFNZLVr3s8rXa+OG2OPIae6OqVweSaALJIEZJgbMJ1ZLn/fb5bHz8/mx4eqpbru0M49EYz/NesVw1jWA8OP/2cf/Tg+qXnUkboPmMZEmpNGQ6ue7Aa4/a88v94OZNQ5FvPIdjBYQVW+1RoeyKVnlzMrr84+3B5w+1naHlWYBoirWgwvCk2yodzMdV11H5otedXj7cnh/uluzK3B8NR9uHju112x2vPtgcXX148/Zv3+slFeBkprPjWW3L9Zp/evrS7QR52W86u2cPf+HHu73j0/M3t8ftzX8ydNBqybpNJKl311fTm1OmKAKsJhUK4kBhOBKBIbbXGV9ePPRal2V7Vj05NS/fZOZ3b/3uv3qVbqOhmI2a1zHcEiKyfDUP0DqDo/HZaqxJkxzH9Hr1ydaRJm4JYq8yO1X8Ia+YM8t8PfIUt6JWa3bbm70+q/otqV4GmLyEMWmXFa6CyaReL+ZkWXQ1ccRmfd4fc6pJRJLNGJSHsYZd+s40p2V7su3v7Y0w3QQwgZJtQ5HUn3/5tem4mRQsqU2WaIpUW7Db6RSaiUJ0NGVghG8aLThtc9mrgT3pVFazEhBNgJjI4pn0yfH5ze37jShI4kWcqaXFMo3X4FgKWdvA4gjDcWpOBJNJQ+BqbonIlzCKBVYQBBIVPktCCUiguEwSTa3jQq6J6WaWtSgE41YTRDiCkxuywWUFChfElt9kKTKZXAfieCYCgmAMWVsG4+FYGkZjq+u0IGRzuTBNQYkUsrwGwQlSTGuWDDPZdU5MsyQIxhYiYSAMxr4JLa5FoeWXERBMpZEMwYkwwSR5eRGDEBSXJYahEDQnWY6BUhQkKwkMehlZjoSXgaXV8PNQaDkWi4CpMIoJvCQRpGqXQEldoWgwyxY8XywYRF7FJC6RzcYJNhQKvXrxTXjhBfBqNfxsaS20FkVo/nlkHURJimJfpeBwhk3IVlrRio5bn84SPLOEoQvRxNIqGHr2+4Xl2EJ45f/WRer7mwvgLwAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;1&quot; title=&quot;1&quot; src=&quot;/blog/static/266bb2ab8e7e59b5172191eea502dc90/fcda8/1.png&quot; srcSet=&quot;/blog/static/266bb2ab8e7e59b5172191eea502dc90/12f09/1.png 148w,/blog/static/266bb2ab8e7e59b5172191eea502dc90/e4a3f/1.png 295w,/blog/static/266bb2ab8e7e59b5172191eea502dc90/fcda8/1.png 590w,/blog/static/266bb2ab8e7e59b5172191eea502dc90/efc66/1.png 885w,/blog/static/266bb2ab8e7e59b5172191eea502dc90/00d43/1.png 1000w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;출처: 나무위키 - 도로헤도로&lt;/em&gt;&lt;/p&gt;&lt;h3 id=&quot;운동&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%9A%B4%EB%8F%99&quot; aria-label=&quot;운동 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;운동&lt;/h3&gt;&lt;h4 id=&quot;수영&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%88%98%EC%98%81&quot; aria-label=&quot;수영 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;수영&lt;/h4&gt;&lt;p&gt;6월까지는 수영 꾸준히 잘 다녔다.
접영이 잘 안되어서 토요일에 개인 강습도 받았다.
강습 받으니까 안되던 접영이 이제 잘 되더라...&lt;/p&gt;&lt;p&gt;오전 단체 강습을 놓쳤을 때는 자유 수영을 가곤 했다.
샥즈 끼고 혼자 수영하는 재미가 있었다.&lt;/p&gt;&lt;p&gt;그런데, 7월에 여행을 다녀오고 나서는 수영을 잘 안 가게 되었다.
이유는 잘 모르겠지만, 이전만큼 수영이 재밌지가 않았다.
아침에 늦게 일어나게 되었고, 수영이랑은 자연스레 멀어졌다.&lt;/p&gt;&lt;h4 id=&quot;러닝&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%9F%AC%EB%8B%9D&quot; aria-label=&quot;러닝 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;러닝&lt;/h4&gt;&lt;p&gt;러닝은 작년과 비슷한 수준으로 하고 있다.&lt;/p&gt;&lt;p&gt;5월에는 직장 동료인 영건님과 10K 마라톤에 처음 나갔다.
마라톤은 처음 나가보는데, 다 같이 뛰기만 해도 이렇게 행사가 되는구나 싶었다.
10K, 처음에는 조금 쫄았는데 생각보다 할만했다.
이후에 러닝에도 자신감이 좀 생긴 거 같다.&lt;/p&gt;&lt;p&gt;대학교 동아리 친구 영선이를 주축으로 몇 번의 광화문 러닝을 가졌다.
도심에서의 단체 러닝, 재밌다.
러닝 크루 들어갈 생각은 잘 안 들었고, 다만 이렇게 종종 뛰고 싶었다.
반면, 이제 혼자 뛰는 건 잘 안 하게 되었다. 큰일이다.&lt;/p&gt;&lt;h4 id=&quot;웨이트&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%9B%A8%EC%9D%B4%ED%8A%B8&quot; aria-label=&quot;웨이트 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;웨이트&lt;/h4&gt;&lt;p&gt;9월 말부터는 직장 동료들과 웨이트를 시작했다.
출근 전이나 퇴근 후에 회사에서 5분 거리에 있는 헬스장을 갔다.
나는 웨이트가 내 인생에서 처음엔데, 몇 년동안 운동한 동료의 도움으로 쉽게 배워볼 수 있었다.&lt;/p&gt;&lt;p&gt;웨이트는 이전에 내가 해본 크로스핏이나 수영보다 훨씬 정적이고 쉽다고 느껴졌다.
숨찰 일도 없고, 어떤 압박도 크게 없고... 다만 재미가 있는지는 모르겠다.
헬스장에 사람이 참 많다.
그들을 보며, 일단은 해야 할 거 같으니 하고 있다.&lt;/p&gt;&lt;p&gt;연말에는 웨이트 잠시 쉬고 있는데, 새해부터는 꾸준히 다시 가봐야겠다.&lt;/p&gt;&lt;h4 id=&quot;스노우-보드&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%8A%A4%EB%85%B8%EC%9A%B0-%EB%B3%B4%EB%93%9C&quot; aria-label=&quot;스노우 보드 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;스노우 보드&lt;/h4&gt;&lt;p&gt;1월, 지산 슬로프에서 내 인생 첫 스노우 보드를 처음 타봤다.
너무너무 재밌었다.
이후에도 2~3번 더 가며, 비기너 턴까지 해볼 수 있었다.&lt;/p&gt;&lt;p&gt;내년에는 카빙도 배우고, 일본에 있는 슬로프로 가서 타보는게 목표다!&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:93.24324324324323%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAABYlAAAWJQFJUiTwAAAFPklEQVQ4yx2R6VOUBQCH91/oQ+U0ztR0TE5qWpp0gUeJRqV5BAITkhwKIgYESiKXiwIrGkewyCUs7rssC+z1wq64ywK7LLgcSxyBuIISuB6Bpik1zjyNfvh9feZ55idxdJkYcNnQNlURFryN0KAv2bfHl8OycOJOhbPRbwW+n7xO2L5tnM5JIypoJ7vfeoefw0PJy0mlUJbFZYuJnKMxnIgKQdLruILTYUallJOZFkV09A4SEvZyUkwl3ZhMfGokKTlZJKWlUFtTRGVZLhnH49ELp1BdOk2O9BgnYsM5/Lkv4W+8jaTPacVyRYcsP50LZWlkZEaQLwtHqs8hSzhPhe0azZ4ntI3PUFR6jrP56XQY5Xhna2iqPkbIytXEbfblREQoqQf2I5kYH+JqnxWD/hLl5ZkUlGWQlhnBLxnh5FZVo+i+hl5spvDobn6TJlNQksVVeym35xRoa7PZ9vqb7N78CaFfbObg9u1I5m8OM3O9n1uzEyhqzpAnjSW9II6TxfEUyzPJTYomLTqI3SuWEXcoivrmXxkZvsA9r0C9spCfjhwiMiSA+KPBpJ2JQzLncXBjzMTtO7dovCijKOUH5DXJlAvJ1F06zuHvviLJfz0Z3/vg7+eDrCCF6euNPHoootGWIc1PJPRkIB/HrWdjjA+S+WkX0xM25u9OU1+STm7QFrLPRPFzZjC5hYlkHYuk+Ed/zsXuIDAsGkXVb8x51CwtmRl1i6iEUlJTjxKXEEpaejySuZlhpset3Lk3Q/X5Exz/dBUxyVsJCP6YzzZtoqC8krxSI/nyZkrUw1jsHoYcSjxTl+ix1VOYX47aFsZV7wFG3eNIvNNd3LrWwYOHXhQlUlL81rBr3wZWrH+P7V/vQV3XQEvnPJbxf+nq6kTbcBGhQk67uRBRW0FetgzVyErsdzcy6BpEcmfazOxkO48e30UpzyPmo3eJjtjO6nUfsicwmPKqOswjT5m484yB0T8RrVNUn5ORLU0kMfkkOwO+YUvAOlb5vEp2bu7zUyzcvmnj0fwUmso80mMCOHU4gOVvLOelV99Erulm0vuEiflHOKeecdm1hDzvLJHR4ax8/0N8/PzYs8Ofbb6biNy5C8n9m13c9bp42GlAJT1CQWYYrTlJbNkRwtZdB4g/08zQjQVG55/SMfaERut9kg8eY83aNaxdv4GdgSHknP0Jo1BGbUzs82QrXq+LudMJGI4EokiPZWrvJqqst9G5FkkosKKxzeKaeUqT6z/yhXtE7o3iteXLeWXZa4QeTMTUYadNbKTDZkKyONvLtKeXwW83cH3/VjqlSUwG+6NuG+O8ehJZvZta8xzGwb8xjSxRLEywPySal15exorVaxGs47jcbmxWEaf9CpL+bj0WUUVHVRFXakoQVRUYNbWoNRoUGpFqjYOmngfoBp4g9PyDYPJQVFzEyvc/4N33VlGuNDE44KDbZsLRaUYittTTplPR1tqEXq+m1diAaBDQNtehES1ou/6kfXgJ540lnBMLaAzdKC5WEhERRG1tKT09Nuxd7fQ5LFx1WpCY9CrMBjUmXQPGFgF9ixJzawPaFgFBdKFsHaRjbIneP/7CNblAtW6GisJCSn5NxaBT4h5w0N/XibvfzlB/93NDgcsGDe2tLbTq1ei1DZhbG2kzGXB7HtDed5NSwzxK2yIa+wKOkUW0tfX8knKIBkUlvw/1MNTfxajbydiwE0mbTo3Z2IzJ2IxR24i2RY1WU4dOp2XEs8it+0vYfn+Avm8BXe9j3DeeYhcvIxpKcToMDA/aX2zE3fMC+D/tGCxTIZ2n1AAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;5&quot; title=&quot;5&quot; src=&quot;/blog/static/950f122c89afbf3c28785c2a6f36ebe1/fcda8/5.png&quot; srcSet=&quot;/blog/static/950f122c89afbf3c28785c2a6f36ebe1/12f09/5.png 148w,/blog/static/950f122c89afbf3c28785c2a6f36ebe1/e4a3f/5.png 295w,/blog/static/950f122c89afbf3c28785c2a6f36ebe1/fcda8/5.png 590w,/blog/static/950f122c89afbf3c28785c2a6f36ebe1/efc66/5.png 885w,/blog/static/950f122c89afbf3c28785c2a6f36ebe1/c83ae/5.png 1180w,/blog/static/950f122c89afbf3c28785c2a6f36ebe1/985a9/5.png 1512w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;처음부터 하나씩 알려주던 쏘카 동료, 디니. 그녀는 렌탈샵에서 이 옷이 좋다 했다.&lt;/em&gt;&lt;/p&gt;&lt;h2 id=&quot;여행&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%97%AC%ED%96%89&quot; aria-label=&quot;여행 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;여행&lt;/h2&gt;&lt;h3 id=&quot;가족들과&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EA%B0%80%EC%A1%B1%EB%93%A4%EA%B3%BC&quot; aria-label=&quot;가족들과 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;가족들과&lt;/h3&gt;&lt;p&gt;올해도 LINE 사내 복지로, 부모님 모시고 다양한 리조트 정말 기깔나게 다녔다.&lt;/p&gt;&lt;p&gt;첫 번째로, 3월 초에 갔던 제주, 성산 휘닉스 파크.
섭지코지가 바로 앞이라 편하게 바람 쐬기에 아주 좋았다.
안도 다다오의 건축물인 &amp;quot;지니어스로 사이&amp;quot;도 근처에 있었는데, 평일 마감 타임에 봐서 사람이 별로 없어서 여유로웠다.
고등어, 은갈치 회 정식을 처음 드시며 아주 맛있다고 하시던 부모님의 모습이 기억에 난다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:83.78378378378379%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABYlAAAWJQFJUiTwAAAEjUlEQVQ4yyWTW0yTBxiGe7ldzGS7gJae/van4IFIMmJmdoybm5lzm8ZMy/ncyjlVoBWQFmhROVOgQDkuwKIDBDkKIoiAlAEOEaIyx9RkbnNLtsS4JVvis1Av3ovv5sn7vt/3SYJ27cbffzvBQcG09U0ysfqEobl1xpce0NjZR4XTxbX57xmZvMHA+CSDV6dx1rtx2G24G6poa3Oh/+oIolpAUKuR7NoZhM5/O4G6QJouzzH7K4ze/5fxR9DQ76Gk8QITD2Fo7R+vJjah8dIMLlcdw0OXuTIzjz4iBq1SgajRINmxfSeiNgCdGEBdRz8rf8Ds5nM8v0Dr4AJnne3MPoKx9WdcWXvG1OYLmvpukGXJo6S2mZ6pRb44qkctk6EVBCQBukBEjQ5BpcFR5Wb1d5jffM7KU+gaXaSgtJ7FJzB175lXnsfQ3DOJIcWEvbqFnms3OXDwcxS+UlRKFRJR1KERtKiUWvbvP0CcIYk4QwpJ6ZlExhiwna9j8fF/TN/9k5l7f3Hr5xe0dI8TZ0zHXt3EhdEp9n34MX6+UhR+ciQajYhWEJH6yjlyLILm3kmq2/up6RjEmJFDnqOaO7+BZ/M5C5t/c+cpNF8cIToxleKaFjoHx3jn3feRS2XIt4CCWusF+vr4cSwintHlH7k4uUzf3Bp552pJz7YysrRB99QSvVOLDHtWsFfWEpWYRm6Jk7LWLt4M2YNKrsBP5odErdaiEURkUgWfHDpM3cgNyi5do3x4jpTCSuIz86ny3KXs+hJVM8s0rNzHUtdMZFwS5uIKbM56goJ2IyhVyLeAgqBF1IjI/VS898FHtA5cpWXMQ9vcOubyBhIz83Evb+DyrFE/v0rz6gNOO92ERRux2M9zrrqaHQGBaNTCyw7VKg06rT9KhUBIyFvUNrpxtX5NRXM7yVlWTlqs3Fy5zvStCa4vj/HdvTkqXU6ORRnJPVuKvbwcUdB4TXmBcrnKO6jVIkFBwcQnpWEy51FYWESe1Y7Vfo6f7nTzcP0SP9z+licbfbS6KzgaaSSrwIG5sMgbVyf6vwS+/oYPW7GVSo233N6BdhY8w2zcHmdivBtHRT0zM73MTvczOzPIwsIQNXXVpJptOGrdpGab0XiBIoqtDl959TVkMgVqQWR3cAjtXZ30jYxxYWCYhq4e7DVduDr6cXUMUNPWg7P1IufrvqF060vGJsgw5yIolIhaLXKZDImPVMFnh77EkGwiMTmTgrImCivbyC2uxVJQgclShNlW5VV2fgVFlZ2UuS+TX1xPaZWLBIPRe9RbS/GTSpFEx8STkmoiw2QhO9fOaWsJObZSTpltWKyl5NlryS2qobCsnaLyNs44asixlZHvcHKmsBxTpoU9e/Z6T8bXxxfJ8WOhhOrDiYyMJjY2gZS0U2RaCkk3nSYrt5gzjjqsZ13kWEtIyzATFhpOVFQM0dGxxMbGYTAkk5BgQCcIvLFtGxK9PoywsHDi4xNISk4jKfUk6Vtuc4owZedzIsWE8UQ6BmMaoWExhIZGclwfyacHj3D48HH0+gjCwyLY9/ZeAvx8+R9FGjDNcdSLFgAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;2024 12 31 10 35 44&quot; title=&quot;2024 12 31 10 35 44&quot; src=&quot;/blog/static/ea717ce33c4b76d43e4d471aa6e87325/fcda8/2024-12-31-10-35-44.png&quot; srcSet=&quot;/blog/static/ea717ce33c4b76d43e4d471aa6e87325/12f09/2024-12-31-10-35-44.png 148w,/blog/static/ea717ce33c4b76d43e4d471aa6e87325/e4a3f/2024-12-31-10-35-44.png 295w,/blog/static/ea717ce33c4b76d43e4d471aa6e87325/fcda8/2024-12-31-10-35-44.png 590w,/blog/static/ea717ce33c4b76d43e4d471aa6e87325/efc66/2024-12-31-10-35-44.png 885w,/blog/static/ea717ce33c4b76d43e4d471aa6e87325/c83ae/2024-12-31-10-35-44.png 1180w,/blog/static/ea717ce33c4b76d43e4d471aa6e87325/68638/2024-12-31-10-35-44.png 1510w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;보기만 해도 마음 편안해지는 뷰&lt;/em&gt;&lt;/p&gt;&lt;p&gt;4월쯤에 증평 벨포레 갔었는데 사진이 없네..? 두둥...&lt;/p&gt;&lt;p&gt;6월에 간 삼척 쏠비치.
아빠와 바다에 같이 들어간건, 정말 몇십년 만인거 같다.
아빠가 아직 건강하신게 참 감사하다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:91.21621621621621%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAABYlAAAWJQFJUiTwAAAESklEQVQ4y03O20/adxjH8d/Vbne1/QlNdrG7JbvZkmVLlq5NV5tMq0YpWEVR0aIIotYDFjyAVEWOcjJiqy0URcGePLRpmx4Vwe6PaN0oiPzo1XsB3LKLVz6fb54n+T6COf6RydgRE7GPjEU/lIyvf/xPcWaK/1UyGSsb3zjCuH6EMVpmWDtCH/mA/t4HBPt2GttWGsdOGuvjNNMP/+bmKcuDspsP00w/+sTUgzTm+2Wmkk/l3EwzWRRPIyy8OCb4MsetVzkWX+bwPssy/zSDqyRb4niSxbabwbqdYXY7WzKzVTZ96t8urLzNc6foXZ7QvkhoTyz1lXd5br8VCb7O4395gudFDvfzHK7nJ7ieneB+foLzWVGulI5TQnj/hEhCJJIoEDkosJYUWU2KRJMFoqnPrCY/E058ZnmvQPCtyOIbkYU3Iv7XZb6iV3l8r8uE8H6Oe4kTVpN5oqk8sUOxZCMlsnEoEn9fIP5ngdj7AtHDAmupApFkgdCByHJC5Na+yNJeWXBPRFjdz7CayJYdZIkmj1lP5lhLHhNN5UrWD3PE/mcjdVzaK+5HElnCiSyh/Qx39zMIscQnNhIZYgdZ4gdZNg+y3E8dE08el9+p47JkebZ5kCGeKCv2zdMeS2SJJTIIfd4d+n276Hy7FHufbxetZ4te/y69/h16vI/R+rfQ+LbR+rfpDeygW3iCbmELjfdBaV6k9j4qEWTmJaSmReon/NQYPdSMe6kyuqk0OKk0uPhjbJ7qSR+V414qDHYqzX4uDDs4NzhHhdHNBb2diwY350esnBuaQdDYbjHkjTDsi6BzLXN9PsRwIIrWuYTGvojOfQe1LUDXrAfVjBuV3UW9XEHN1SauzVmRjJiQGeZot7jomPYijLjC3PCEMXpDGH33GAtEmQjGmAiuY1oq5gaGQIQRzzI3AndRGO38WiHnx7MSqrpH0TkW0Fp99M/56bcHEcY9yxicC9xw+NE7fIw4/Qza3PRbnQzMOemdnkFjsdAzZWbUZeNSrQLhi28Rvv6ZH87KmPUHGfUsoXcG0c+vIEwvrGLyrGAJhDH5w1gWo0z6Q0z47jLqCqKz2NFZbGin7PSMTXHbbeXMN78gfPkdTtMENo+Pvhknw7biMYsI7XozKuMsSv0E3ZMOBmaDaKa8qMbtNA+NoRgeo9NgobFvmNouDUq1iu9/quGrM+e4VN+EfGCILoMZncVBz6QV4Wzd71Q0VnKx4RJVCgnVbVKadWqatH3IuntQ9Otouz5Ig0aDvLcbiVJO/1AvBmM/VzpbkWt6UOi0KAcG6BgcRKhtuYyss5ZGlQSFWkZzVz3NXXW0a+XUt0qRKq8iUzaUelPnVeTttVyR/oZMdp6WDgntWiXN6jZaNR109nUj1DVX09Bah1RxmYb2oipaVDV0aGVIip+1VVMnr0TSUktjm4R6aQUNjRXIW2tQqmRc61XQqpaj7FGg0rXxD/HMBbaCFAfmAAAAAElFTkSuQmCC&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;2024 12 31 10 48 06&quot; title=&quot;2024 12 31 10 48 06&quot; src=&quot;/blog/static/eb12be88fb02eb209576e328c617257f/fcda8/2024-12-31-10-48-06.png&quot; srcSet=&quot;/blog/static/eb12be88fb02eb209576e328c617257f/12f09/2024-12-31-10-48-06.png 148w,/blog/static/eb12be88fb02eb209576e328c617257f/e4a3f/2024-12-31-10-48-06.png 295w,/blog/static/eb12be88fb02eb209576e328c617257f/fcda8/2024-12-31-10-48-06.png 590w,/blog/static/eb12be88fb02eb209576e328c617257f/efc66/2024-12-31-10-48-06.png 885w,/blog/static/eb12be88fb02eb209576e328c617257f/c83ae/2024-12-31-10-48-06.png 1180w,/blog/static/eb12be88fb02eb209576e328c617257f/ccf0c/2024-12-31-10-48-06.png 1428w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;푸르렀던 삼척 바다, 그리고 아빠&lt;/em&gt;&lt;/p&gt;&lt;h3 id=&quot;친구들과&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%B9%9C%EA%B5%AC%EB%93%A4%EA%B3%BC&quot; aria-label=&quot;친구들과 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;친구들과&lt;/h3&gt;&lt;h4 id=&quot;나고야&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%82%98%EA%B3%A0%EC%95%BC&quot; aria-label=&quot;나고야 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;나고야&lt;/h4&gt;&lt;p&gt;5월, 화창한 점심, &amp;quot;현규님 우리 내일 일본 갈래요?&amp;quot;.
회사 근처 식당에서 순대국을 먹고 돌아온 우리는 바로 나고야 행 비행기와 숙소를 예약한 후, 다음날 연차를 냈다.
회사 동료와의 P스러운 여행은 이렇게 시작됐다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:91.21621621621621%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAABYlAAAWJQFJUiTwAAAFBklEQVQ4ywXBfVjMBwDA8Z8enjZ7NhvP2LzMJvRCIeWurruue0l11XWuF65ySdELUelFzumqSy6at2PJS16itS0mNjVDTlGiFzSylNexx9v2eLZnf333+QhX1kvp3BBIl1lGj0VCi1nDBfta+k4Ucavpa1p3ZdK6aSE/Zs6lJtGN3bEumJa7kGWezs7yebSaRRwyupKr/JTV8okIt8uU/LZZSX+5nFsWMW2mAL4rjKLJFEmTSUf7IRNPr1Tz8kIFP+8KZk+lL5m57hQUu2Pd68OBg1IuHAjldoWCYxlihLslAQxVKrlvU9Bj8eO6Wcz5smgO5+kpSltKeUEGb3rrudpeicHkiXWbB46dH9J1bALXG76g/KCKYvtcBvaF8PehRITBcgkPK2XcscoYsIo4ma+k2raGLeVxFG2IoNKSxPPeGvba59NsH8fw9lH8d8SJd7VOvKgeyb4jgWw5GsixUwqunE1EeFQp4vkuES/sYhrXSTDGhpCbZyA1ZSZJMbPouFBA98lo7loFurMFnpWO4J/9I3m1Q+BFsUDbsSlsPxmArW4y3/+iRRgsVdCdE0Ffvo48nQr1rOkUx4ViSgomOTacJ44arrdkc3X9ZAaLRvDU7MQrmzOPKpwZLhD4t3YUew6NZu/xqbQ0GxAuZ2m5GJ+Ew5jElaQEepITGM5K42J+Bp11JbzuPMqlRjPHK+YyuEHgge0DmjOcqUh/j9s2Zzr2jOF6rSu3zm3k967DCPsXR9KVnsrlRAPtCQY6jIl0rVjOQEked7/J4XXjFs7UGNm0dRKbV7/P2niBJboR6KME0tOdScsbT8OOAL49kUbTuRKE2ng99/Jz6M3Ooj05hbaU5XRlpdNflE1dZjxmnYgW+zLspbNIjhlLhGYUwaEC2iiB+BQncq1TyKlyI9vqxdHGFITG1ATe7q7iflUx58tS6VieTFfOagZsJZwvz2WZ6itO+/nQG6nhhi6cS5pA8iMnEWUUSMsbTZZlAvlbplNoc8eyzR/BsS6Dd/uquFdSyNn6ZQydKqFnzUoGK4rpqyqkMUHJr3PncNVnHr1yOQ98ZdiDpqGOFzCmOJOWO4Yc02dkF0wiPXMCwo38TPpXJdC6WIO9WE7ffTODB3K4nWmkd20K9fPn0TzHE8dsL25KZPRLVZxRi4jSjCIyUSB+rRMrLeNYY3Ihr3A6Qm9hOg0RAdjEHmTFuWDZ6cOzO1Za8/UcVPpQ6+3GT56zueg6m5teC7gjVXA/chHdSgUtKm/qF7mzf5UH1RtFVG32QUj0dydGNQOx11g0uklYd/jT5khl4OoGdhn8aVDModVPTLv3ArqkSnoD1VyTKLkhWshjcTgvfTX8FRTDG10CfyQZEDymfoIizINg3Wy8ZR9jzHBlncWdxiYDJ6r01Elncdl3Ad1SOf1aPT3hUZwVBdHgKaPNL4whZTR/hhp4rdTxdqEOQeT2OYF+M4jNDGFrtYHhx2U8fFxG/Q+xxGknst/XlTaJH91if+4GqemLXMTpgGBOLVBzTRrBkCKaJxINj30VPFWFI3jPHE9IkC/6ZWoO1y1heKiAGx3ZnDiSxAqjGtucaTjUcjqD5PSHhNGh0XLaT0mbNIyhkBgeqaLo9w3klljGgDoMIUQpITJUSrReRcYKCaXrpVg3Kqk7aiQxRY72y484HCqmOTqUzqVxOCIicASouLdQz7BKy4AsmO5AFR0KFee0av4HCzNUVJPaHfQAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;2024 12 31 13 35 58&quot; title=&quot;2024 12 31 13 35 58&quot; src=&quot;/blog/static/bf47d2780ae413546c3ae9f80b48a044/fcda8/2024-12-31-13-35-58.png&quot; srcSet=&quot;/blog/static/bf47d2780ae413546c3ae9f80b48a044/12f09/2024-12-31-13-35-58.png 148w,/blog/static/bf47d2780ae413546c3ae9f80b48a044/e4a3f/2024-12-31-13-35-58.png 295w,/blog/static/bf47d2780ae413546c3ae9f80b48a044/fcda8/2024-12-31-13-35-58.png 590w,/blog/static/bf47d2780ae413546c3ae9f80b48a044/efc66/2024-12-31-13-35-58.png 885w,/blog/static/bf47d2780ae413546c3ae9f80b48a044/c83ae/2024-12-31-13-35-58.png 1180w,/blog/static/bf47d2780ae413546c3ae9f80b48a044/6bfbb/2024-12-31-13-35-58.png 1514w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;생 참치 맛은 정말 감동 쓰나미였다.&lt;/em&gt;&lt;/p&gt;&lt;p&gt;기억에 남는 3가지만 뽑는다면.&lt;/p&gt;&lt;ol&gt;&lt;li&gt;생 참치와 사케&lt;/li&gt;&lt;li&gt;술 먹고 먹은 이찌란&lt;/li&gt;&lt;li&gt;위스키 바&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;난 이제, 좋은 회가 있으면 소주가 아니라 사케랑 먹고 싶다.
사케는.. 참 좋은 술이다.&lt;/p&gt;&lt;p&gt;그리고 식사로 먹는 이찌란은 조금 느끼한데, 술 먹고 해장용으로 먹은 이찌란 왜이렇게 맛있던지...&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:85.13513513513513%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABYlAAAWJQFJUiTwAAAEsUlEQVQ4ywXBWUzTBwDA4f+S6VQOKQhYWo7ehdJiaS0UuctR8QAKbQXKUS4RyxARQW61iKhDZOAxpbJNp4Y5cRGdmhmvGGOiOwzuyOLLHpYse1m2Pexh+e37hJh1IcREhRIuCkElCUMeHYwoZDXidSHIpNHo1BrM2liUMeHEidZw9ugo+3Y3IY9cRYYqGln0WkKDVmIxy9nd7EDQisPQxopQxEdhVIhITYgiam0oSkkQyfIIrKkb0SfGkSQXY0oIxZ5lpsyeS4pKSlJcBKmyCDSKSCLFobyzUkDIM8ioLkylqSyHhiILnY5ilDFRhAWvQqOQoFPFI5WEI5OGUpcrRyNagX59GBlGLZqESJKka4ldvxpNUjxKTQzCkwsDPDvfz7dzA7z9ZJiHkz70CimRIUFsyTSwJScNtSSC2gI9fa4cBiuz6C7PpNpuxVWUToFZjdEgRW9Sk5qWhPBototLAw0cba7g+kAtd0Zr0cliiAheww6bic6aUtwFG1k8ZOPG4VIm2p1MdLgY3eXmyJ46WioKmOht5tCeOpp2FCL4m7bT47LTW15IwFfOgyNe0rWxWOLD8RRmUpG3kfmBPB6MG3k5lct8TykTbQ787U566rdTmW/i7MEOHn98jIcBP8KtsTruTXi5e8jL65kOlkaqyUqUUqQJw5OfTk9NDotDWu4MKlj+QMfyh5nM+EoZaS6ns2ozpdkpzAy2c/+8n7unhxBu+mt5PNXMudYdXPBVcHWfA5MiBtGqd3Ha8pjevZH+ChWL3fG8mYjlt1kNL44WsL/aTpvDxuZ0HVO9rTyeH+fJxcMIHns2J3xVnPK6Weyp5O6wC6N8PSGrVlC72c6cL4nTXjH390fy41g4f0xJ+fMjNePNNrwlWRSZ1Zzc18LNkwdYmu5HuOGvZ9Ln4fpgPacai/hqsAKLWkp40HvUFVqYbExnpiGBpb1SXvRL+GVYw98nEwh0WanOT8NuVnG6fxdLMwM8DQwhLI03MN9XReB9F1/2Obg3XIFFFYsoaDWNxRuYbUrhWJWSy21KHnSqWO7W8e+EnIXuDNwZKWy3aLk4toeHgRFeftqPsDhax7XBKp4eq2f5pIevhyuxauORRopoKk5hut7AlZ50Hh3P5/VkJr+PaeB4MNd8aThTdTgsicyNdfH8yhhvb/kRbvu9PDvh5c1sI8/G3Ew35JIijyVJJqHSKOOo28R0vZEb3Zk8H8rk134D/x0M4bNWK+U6Fc5UNZfGu3kQGOX158MIg63ljLQ7mdm7g60WNTqJCL1MzAZ1Ao5kBQcdRsadRuY8Jm55U/ipVc8/w2r8Div2eDGuFDVfnOjj1eVxfl44jNDqLKG9ppzRVjebDbFUG8XU5RnINuso1sZzuNLC8ap0ztVmcL3Bwg8tZr7pTKNq0wYK4iIo08u5ceIAz+cO8iowgNDuKMbnKqGlzMa2ZDHbEqOZ6mnize0AZdlGvLZkTnmsnKlJZ6Heyvcd2VxozMJhSSZDFoFFsQ6P3cLVsU5ezPYhFOdtosyej81qQikORxIewmTfTv76bokj7hy6bHrO7MxjpsbKgjeDx70lDLkL8GQayFFG4DWvx6gUYbdZaXNv5X/h6rWmh6enSgAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;2024 12 31 13 34 24&quot; title=&quot;2024 12 31 13 34 24&quot; src=&quot;/blog/static/85addd00ce79c0feda1bb1ef309abb9f/fcda8/2024-12-31-13-34-24.png&quot; srcSet=&quot;/blog/static/85addd00ce79c0feda1bb1ef309abb9f/12f09/2024-12-31-13-34-24.png 148w,/blog/static/85addd00ce79c0feda1bb1ef309abb9f/e4a3f/2024-12-31-13-34-24.png 295w,/blog/static/85addd00ce79c0feda1bb1ef309abb9f/fcda8/2024-12-31-13-34-24.png 590w,/blog/static/85addd00ce79c0feda1bb1ef309abb9f/efc66/2024-12-31-13-34-24.png 885w,/blog/static/85addd00ce79c0feda1bb1ef309abb9f/c83ae/2024-12-31-13-34-24.png 1180w,/blog/static/85addd00ce79c0feda1bb1ef309abb9f/387f2/2024-12-31-13-34-24.png 1518w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;일본 간 김에 위스키는 모두 일본 위스키로&lt;/em&gt;&lt;/p&gt;&lt;p&gt;나고야는 술값이 아주 싼 게 인상적이었는데(대부분의 위스키 한 잔이 한화 1만 원도 안 했다.), 그래서 우리는 매일 새벽마다 위스키 바에 갔다. 위스키 바에서 칸코쿠냐고, 말 걸어주고 이것저것 알려주던 손님들이 기억에 남는다.&lt;/p&gt;&lt;p&gt;나고야, 별 기대 없이 갔는데 음식과 술, 그리고 무계획으로 다니기 참 재밌었던 곳이다.&lt;/p&gt;&lt;h4 id=&quot;오키나와&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%98%A4%ED%82%A4%EB%82%98%EC%99%80&quot; aria-label=&quot;오키나와 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;오키나와&lt;/h4&gt;&lt;p&gt;7월, 회사에 퇴사 의사를 전달한 후, 바로 한국을 떠야겠다는 생각이 들었다. 나와 P 여행의 결을 같이하는 경호 형과 이틀 뒤에 바로 오키나와로 출발했다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:85.13513513513513%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABYlAAAWJQFJUiTwAAAEkElEQVQ4yyWPSVDTBxjF/8deemkP7aFVVLZAFpKQQDZIIKy2DmrVduzotNS2jCitSy2UGVwqgxaLgFrcQJDFRpYESAgJIYEQdgQDgWGqOIJLnU6nnant2NOvQ3r43ju93/ee0De+QE8giHV4jnbvPSwD07S5Jml2jtNkH6WhZ4Qb1mGudfqoax/kisVNbZuT6lYnVc12Kpt6+OGWjYr6LsqvdyD4ZpfwTIXoHw/iCMzR47+H1TdNx+AUloFx7vSP0uoMcNvh51bPEPU2Lze6PFztcPPT3X4u/9xHbZud6pYefmyyIkwuLDF6P4R/dgHf9DyeyTn6x+7RF5ihd3gKm2+COw4vbQ4vFtcIbc5hWhw+bvcO0tg9QIPVzc3Ofq63O6iz9CIEl5eYXQoxE1pgcn6eqVCI6cUlxoILBOaCjAVDOP1jdHuG6PNP0O0NYPP46RwYpt3lw+Ic5I7DQ0uvmyabE+HByiLLDxZYXJ4ntDyPz++jw9rFzYZGyiuruVTfjM3lYmBkhKGJCfr9fpwjAdyBAK6RERw+H90eD1aXm/Y+J8LTtfusPp7l0coMKw9nmJn20dLSyIniMvblF7J7/0E+KTxBu62DxeVZ5uZGCQ71MTrqxW234vMPMBjw4h5y4xpyIfz5fIzfn4zy22qAXx+P8GJ1jMX7A3TdbeRi1QXq6q5w6UotnZ2tDLtt+C2N9Fadp/VcBVUnv8fj6SY452EiYMdhb0f496mDf9bsvFzt5eWqg7/XHLx65uSPh708X7Lx6rmHF8s9tDZc5lTZWYqOlPL54RLOlZzkdMlpPI5mvI5mLlbVUPTtWQTW6uFJI6w1wcN6/lq8xcp4A8vDV3k0doNfxpqwW2qpqb7AxcoLHDtaTEHBUQ58eYxDx8soOlHG/sJStn96nJy9hxCeuUrxNxzmzFe72PdBBttyszAYMzCZUtm5cxu5eTt4f9fHHMjPp7z0GGdLv+FaRQl3r5TTWFPO9cpT1J0/SU3FacpKv0NQxMfzxjtRvLUhlliRnBiJmohoCW9HiIiSKEnS6zGZTaSb09iam80H2/PYt/cjvv5iP4cLPuPowXyOF+ZzpriI4iMFCK+9/iZbomNIVCpRao0oU7KQa80kpmSToMtErjMj1xiRJ2lJ1mnRaJNRJMrR6/XkbFtfkMd7eXns2PMhebv3IKSaUjFnZiBWGRCpUlEbc4lVGFAaspDrMhAp9UiS05BqzIjVRuITU4iTa4iXKIiTKYiRyHh340Y2RGwkNi4WISkljS0yLdFyfRiiNm4lRqYNB1WpOcSrjcQq9Mg06UiT05BpzGG4VGUMP5SnZiNRpxCvSCZGkoAgUhmJluuIS0xBbdoahkZK1ESKVcg16ShTsolXpSLVpBOXaCA6QYso0fA/XJeJWGMmMkHLZrE6zBHWJVKmCTdQGXNI0JnZIlUTEackRq5FmmwKT16/2EQDm6VJbBKrwuF1mEyfhViTTozSEAYLUQlaYpWGcAOFPjPsUQpdOLjuYk0aCYZMEgxZSHRmRElGopUGNss0bJImE6XQI0oyEa9JR6zN4D9o80bUFdgftgAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;2024 12 31 13 49 45&quot; title=&quot;2024 12 31 13 49 45&quot; src=&quot;/blog/static/50d04f5154cb3ef9b7eb84fb19777ba0/fcda8/2024-12-31-13-49-45.png&quot; srcSet=&quot;/blog/static/50d04f5154cb3ef9b7eb84fb19777ba0/12f09/2024-12-31-13-49-45.png 148w,/blog/static/50d04f5154cb3ef9b7eb84fb19777ba0/e4a3f/2024-12-31-13-49-45.png 295w,/blog/static/50d04f5154cb3ef9b7eb84fb19777ba0/fcda8/2024-12-31-13-49-45.png 590w,/blog/static/50d04f5154cb3ef9b7eb84fb19777ba0/efc66/2024-12-31-13-49-45.png 885w,/blog/static/50d04f5154cb3ef9b7eb84fb19777ba0/c83ae/2024-12-31-13-49-45.png 1180w,/blog/static/50d04f5154cb3ef9b7eb84fb19777ba0/6bfbb/2024-12-31-13-49-45.png 1514w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;차에서 음악을 틀고 이 도로를 달리던 때가 유독 기억난다.&lt;/em&gt;&lt;/p&gt;&lt;p&gt;듣던 대로 오키나와는 기존 일본이랑은 느낌이 조금 달랐다. 뭔가 제주도스러우면서도, 또 동남아의 느낌이 조금 있는...? 첫날 보았던 수평선과 석양, 그리고 운전하며 뻥 뚫려있던 고가 도로가 기억에 남는다.&lt;/p&gt;&lt;p&gt;오키나와에 오면 모두가 가는 추라우미 수족관도 가보고, 스노클링도 하고, 마지막 날에는 아메리칸 빌리지도 가봤다.
아메리칸 빌리지는 사실 그냥 제주도 중문 느낌이 강하게 났고, 추라우미 수족관이 그나마 제일 기억에 남는다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:90.54054054054053%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAABYlAAAWJQFJUiTwAAAESUlEQVQ4yy2TbWzTVRjFz///b7fCeHEywiAMJhiDDsUYAhr8oiGRGKPhg8ZEYiTyiWgZbG33vm4dDChUyjbG60RcYKJg8AVxYLIFAYENChtj723HBoxhGBk4A8rPdPXDk3tzcp9z7jn3Pnqu6joZZSeYsLUX+YfQhgFU2o/Kb6KqIbRtCJX3oZJrqKQDbehDW+6gvSPox0fo5GO0YxDlXcfm+g1ZpWFSykMk+bvRtpuoNIq8fWOktp0341hhF8oPofzLqKAFFV9HgR7MQ3dJqB1Avh6U14ZcTUjuXpQTQUVRVNyFcrtRbhgVhbF8bRgxzNOOPBdRXhPyNCF3bH8JHRtB9aOotA1525AnhJTVjbLaUX4E5fQiVxdyxxQjKC+K8jow8q8iz2WU34zymlH2RZTTjL65jxqeIH8Hyj6Psi8grYmgzHbk6kTuLpTTg7wRVBgdEzDcVzFzTyDXJeQKxYljq+sKqr6Dah/Eo8g6h9adR3LeQJ4WlNuK1nYiT8z6ACoaQK4wcrah1SGUGUJr/ydytaCsq2jTDfTVMCq4Eo8k+48Y4S20rmWs2SruYmJNEyrrwSzrx74xTGJJK4mFV7DF8sluQ/ndqKATuVqRL4q+foiKOuN2XWeRUXILm78dm7+X5KMh5p45zfONF5hff46Xf2lg4alGXvnuOAvqTjIreJyJud+iYBRVP0AHR9FxUPV99HkTcp5Gjs2/Yq/4gYSjZ5je8DtTKw+SUnGYSb4vGe/cwgR3gITMIAmefVi5dSjne7Q1gqr/RocfoyP/oj2PkO8mcoeQfXMEeXuRrx/HjmYUvIgO9KF9/ch3FuXUo8JulB9FvkHkH0XrB9GmPlQ9gOoeoV1/oUAX2tiJVAOq/QfteoJqHqKfQWeeoMprKDCCymP/bBiVDcUfYX1/fHICYRTsQDX3UMVtVNaEypuR/CNo010U+BMFh9H2e/EKDqFgDBuMT0vlbbT9BtoxgKr7UWUY7Yw5iaLgJbS7A1W3ILmuxW/wxRA6MIpqh9HuOyjQiba2ot3taH8/CobQng60/QIKNKD9HehQGMNbh/niElTZiLXKi1TUi7VqL8b+CHJWYXpr0akHGIuXYa4sRlkV6CM3dqcfI2cfenc11mtLsX34GVr6PpqbgRIT0TsrMKalI6PgGPb0eZgVP2HMnIPpXI9x8Cym3UTvrUCfrMFY/CZmTT0q24mqjmCf9QK21GcwLAtJyOFAyz/GTJ2NDJcXOcajU00YM9JQ8AjWymzM2MGMl1CRH2UWYVYdxkpMwvrUiX3BGxiTpmE4JmAkOFBSMsb81zFmzkNmYwgzdQam24+RNgfjrQ+wXn07rmyz0KJlmEuWk5iWgc0+EdvkVPRUOkpIRolJyLBQ0tOY0+dhTE1HtkXLMaakY85YiOFIxhiXglKexUhOHStNno0mpeFInonNPi7eHCO0xiPLhkwT2WJ4Cho3hf8AxFMC5lTAuNoAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;2024 12 31 13 53 23&quot; title=&quot;2024 12 31 13 53 23&quot; src=&quot;/blog/static/b8d3b9e1c59d1691b0f5cd1a97e5742a/fcda8/2024-12-31-13-53-23.png&quot; srcSet=&quot;/blog/static/b8d3b9e1c59d1691b0f5cd1a97e5742a/12f09/2024-12-31-13-53-23.png 148w,/blog/static/b8d3b9e1c59d1691b0f5cd1a97e5742a/e4a3f/2024-12-31-13-53-23.png 295w,/blog/static/b8d3b9e1c59d1691b0f5cd1a97e5742a/fcda8/2024-12-31-13-53-23.png 590w,/blog/static/b8d3b9e1c59d1691b0f5cd1a97e5742a/efc66/2024-12-31-13-53-23.png 885w,/blog/static/b8d3b9e1c59d1691b0f5cd1a97e5742a/c83ae/2024-12-31-13-53-23.png 1180w,/blog/static/b8d3b9e1c59d1691b0f5cd1a97e5742a/a8a6f/2024-12-31-13-53-23.png 1516w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;추미우라 수족관, 실제로 앞에서 보면 꽤나 웅장하다.&lt;/em&gt;&lt;/p&gt;&lt;p&gt;오키나와에 생각보다 먹을 음식이 없어서, 3일 내내 스테이크만 먹었던 것도 기억이 난다.
스테이크는 3일 내내 먹어도 생각보다 안질리더라.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:88.51351351351352%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAABYlAAAWJQFJUiTwAAAE70lEQVQ4yx3O6U/TBwDG8d+/sCxODg/w2OHUzbkh6BDlKKUUC1gPBGGKonJpOWxLaWvtAQXKjVK1FawIglHAIXI4AaEcHiBOp+A5dM65JXsxXyxb9l3kxSdP8iRP8ggeYh2e4VrmhmuYK8rDY5Ya30gNckUl8YdrWLvTgm9k/mzvGZ43y0usmc2PwvKYK9LgIc7HM0KH4BVpwEvy3hE8I/V4SXSzPCO0zJNoWSDV4S3RMV+qxytCh4dYyxyRhjmifDwidHi/38w6wjypEWF+lIklsQX4RltYKDPjIzOxUGbEJ9qIt9TAB6EaPgx7P9azKNbM53FFBO6rIii1ho+3WPGSHsU3poBFMQUsjrUibNxXzfLtJXhLTSyOLcQnppDFciu+sYUE7K0mz95BSVMf9vZhhh485+b0DGOPZxiemsHWPMDKxHIWyYtZEV/Op3FlCKsSypDlOtHYO3FcGSOjvI3P4stZsLmYRPN5nrz9nb/++4c///2bX9+9o//+E65NTjP06AW3nr6kZ2KawNST+MhL8dlahhCnb6JnfIqHv7xh6vVv3Hn6M00/3KakeYD67luMTj1j4sUrHr/9g8mZ1/TcnaJ7Ypr2kXvcePCU+6/e0D0+jepkF7uslxBa+ie483wG98NnDD54wtmrA5y6dJX673vpHB3H/egZXeM/0Ts5xdD0Sy4PjmI7XoOztZum/gnaRx/QNTFN5/gUpoYBhJ6JRzT23aauaxTnFTf29hvUd41wafgebaM/4uod5XT3KHVdblxXr6M06AkK8sdgK8PZ2kb35NPZx/bLg6SXtSLUtLkxnb2GznEVXd01TK7rVFx00z4whOtKL8cvuznbd5fT3TfJNhoJCfVj+TJfxNIwDqkVVLqasF/sprKpg+aeQYSq1hsUN3bS0Oum6oyLs80NNJ53kqNM50BWJq2DY9Q0uCh3NXCmoxdJtAixJIQMpYLozcE09/TS0jeCq6ufU229CPtVOYRFb0C2PZwDe2Wcu3SewiItSUkxqC1mWofvkJi2H5XZRHP/GBprMQq1kpLTLg6o9VicLVS3dJKaX4TCXIkQGOrP2g2rWbZyAXmHU0hKiCRKupGEHRKCN4mQ7Ujki4A1+IVuRL47mQ1iMes2BrEv6yCV9lJqTpZQaDMQs20r68LWIcR/l0BckpyoLeEcNakIEkewwn8t68NDkCTtJFujIkN1iMMGNUdtFlR6JZlZqTicxdxxN3B75BwXW05wIN2AVB6FsLXgFHJrHYk2FymFx0iuaSY0PZ/dW7dzpKSGg43XiTveRoqzg3RnB3KrkwCFBamuAom6mBSbA0N9O2mljcTrKhE2l10g1FjHt0fqCTbW42duIijDSO4WMUnJKQSaXHytdSAqaCShup1ArYMVaVbWZ9sIy6sisfgM2Y7LbCs5T5DqGMI3+adZmlOLx6FaPA4eZ3dhLfuOlrIteS9pmansyTeyW1tEqqWK/dYTxOttbMiy8GWqGVFuEcmVzaTYrxBsPMeSjGqE9bllrM2tIkDvwk9Zi8hYxxfZVYSqq5FnavGP3UVMcgaJSiN7ihxsV5nZvD+V1QetfKV2EFnQyJbyNoILL/CJwo7gpyjFP6cCsfEMQcoqVmWWsjStlDWGc0RVdhBT1IQsy8KOXCOKCgcJphPEZeUQkKFljfYUIcoKZEY7m0zvj9TyP6xHg7OOO3eWAAAAAElFTkSuQmCC&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;2024 12 31 13 55 41&quot; title=&quot;2024 12 31 13 55 41&quot; src=&quot;/blog/static/bf34aa54edbbff13fc2f1b75010d256d/fcda8/2024-12-31-13-55-41.png&quot; srcSet=&quot;/blog/static/bf34aa54edbbff13fc2f1b75010d256d/12f09/2024-12-31-13-55-41.png 148w,/blog/static/bf34aa54edbbff13fc2f1b75010d256d/e4a3f/2024-12-31-13-55-41.png 295w,/blog/static/bf34aa54edbbff13fc2f1b75010d256d/fcda8/2024-12-31-13-55-41.png 590w,/blog/static/bf34aa54edbbff13fc2f1b75010d256d/efc66/2024-12-31-13-55-41.png 885w,/blog/static/bf34aa54edbbff13fc2f1b75010d256d/c83ae/2024-12-31-13-55-41.png 1180w,/blog/static/bf34aa54edbbff13fc2f1b75010d256d/6bfbb/2024-12-31-13-55-41.png 1514w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;마지막 날, 그래도 리조트 수영장은 한번 가봐야지하며 물 속에서 유유자적 즐겼던..!&lt;/em&gt;&lt;/p&gt;&lt;p&gt;한국은 장마이던 때에, 오키나와는 3일 내내 날씨가 좋았다.
기가막힌 타이밍에 잘 다녀온거 같다.&lt;/p&gt;&lt;h3 id=&quot;나-혼자&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%82%98-%ED%98%BC%EC%9E%90&quot; aria-label=&quot;나 혼자 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;나 혼자&lt;/h3&gt;&lt;h4 id=&quot;바르셀로나&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%B0%94%EB%A5%B4%EC%85%80%EB%A1%9C%EB%82%98&quot; aria-label=&quot;바르셀로나 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;바르셀로나&lt;/h4&gt;&lt;p&gt;LINE에서 마지막 출근과 송별회를 마친 다음 날 오전, 나는 바로 바르셀로나로 떠났다.
내 인생 처음 가보는 유럽, 그리고 혼자 여행이었다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:90.54054054054053%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAABYlAAAWJQFJUiTwAAAEa0lEQVQ4y03L+U/TBxjH8W+y/baYODc1zqC4oQhaWpSz0pZCKYUiZ1va0got9wQstlAOFQQEWuaBTjeTeXC1X6CYmcXpjAEx20TlUMC/5720EOcPr7yTJ59HaBnbJOzc+P9c21ojNmgdC1undewD5yPe4w57uIb7wQru+8u477/Dc/8dgmdqg7bAJu2f8QY36Qh+jOgUP9IZbnBz28aWQNg6nZNrdE2s0j2xwoWJFYSu4Hu6xQ9cnF7n4syWS7NhG/TMbn5mg96IdS5v65v9QN/0Gv3icsSA+A6hR3xL7/QyfbMrn/SHVhmYC1vjyierDM6tMhSxwnBYaBnf7Bt8M0v4Z5fwz7xG6Av+w8D0a67MLDE4u2Uo9Ibh0FuGQ2/wfcYfWmJkbomRcEP/MjLzN35xEb+4wIj4MkLon1xgILDIYPAVg+IrhsRFhsSXDE8vRvjCFV/iExfwTS9Env3iPP7gC3xTz/FNPsM38XTL+BOEK5MvGArMMxyYZyi4wFB4KIZvL/AFnjMc8Re+bf7AM/xTTxmZ/BP/+B/4xh7jH/sd38NH+B7MIXhuhmi7NUfb7ce4rtzmws0JWq5OMXDnId47Ic6PirhHRTyjQTw3grhvBGgfncJzfRL3tXE8I/doHryLy/cb54bvIiSXd5Bs6URW3o3W3EBJbQfHi87h7R9E7ewhxewlzeJFaevglK2DdGs7SlsbWZUdqMwtyPVW9LZGCitbsDV6EDKNDajK6tBZmzBUVFNWdRZFUSWeri501lpM9U3klJmR5+ShNdqobnKRb7KSlKklPUuDTJ5Bdk42BcV69IV6BG+Dg6H2Jga8zVzvbqa52ka1047/kgdX3RnqnRXYLMVoczWUm40YDCWYDcXUVBhQabSYzQbkmSrUaiXHZCcQbHYTjkozJnMp3tZ6fhrooP+Ci7oqK6WFhfR2tOJqbsRkMFJRbsLpsKPTF3BKlUWKXIHTaqRYn0+2Rku2Vofgcrdgs1vp6+3i9Ok8KowFXO1ro67GTlJKEsosNY31DvKKS8jIzCI7PZ1MhYIsfQH7DktIVagxV1SQqs7B4qhCePRrOw0OAyeSEtGoFWg0GmpqnZgMBcTHxZCWJCVXq+TIsThKinLJUaaza28U0tQUYuIlpMkVmAxl1NgsZGWqEJx2I4ZCDcXGUq7+PMq9sXtITkiJjvmBw7FHkEolSKUyEhJkWCxGauqdFBQWYbJasVfaMRbmkxgXT1raKUqyVQhHZalc63fjqreTl68jR6flu6gDfL17NyflSsrKzSSnJLFjx06+2vktxyQS4hMS8fRc4tn8E6rOWNAoM0hOS2N/VDRCaamWX24Nc9nbhEaRRtyRWA4ciGHPvmikqRnU1TtRqTMQvviSHbu+YW9UNCfT5ah0Og7FH2fn7j3ExcZyNC4WSbIcocxYwOHY/bS5f8RhKSFBKiNXr6e2oQ61No9CgwlHVQVnGypJPJlIdPRBcrJV6E/nU1Ssp+lsDVKZhOjvD3Io9jj/ARk1TF+jJJI/AAAAAElFTkSuQmCC&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;2024 12 31 14 03 50&quot; title=&quot;2024 12 31 14 03 50&quot; src=&quot;/blog/static/355033758587757a34903832a72f48ed/fcda8/2024-12-31-14-03-50.png&quot; srcSet=&quot;/blog/static/355033758587757a34903832a72f48ed/12f09/2024-12-31-14-03-50.png 148w,/blog/static/355033758587757a34903832a72f48ed/e4a3f/2024-12-31-14-03-50.png 295w,/blog/static/355033758587757a34903832a72f48ed/fcda8/2024-12-31-14-03-50.png 590w,/blog/static/355033758587757a34903832a72f48ed/efc66/2024-12-31-14-03-50.png 885w,/blog/static/355033758587757a34903832a72f48ed/c83ae/2024-12-31-14-03-50.png 1180w,/blog/static/355033758587757a34903832a72f48ed/a8a6f/2024-12-31-14-03-50.png 1516w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;전망대에서 찍은 바르셀로나. 참 잘 정리된 관광 도시라는 생각이 든다.&lt;/em&gt;&lt;/p&gt;&lt;p&gt;한인 민박에서 며칠 있으며 여러 사람들을 만났다. 유랑에서 밥 동행을 구해서 같이 먹기도 하고, 숙소에서 음식 셰어하다가 저녁에 다 같이 술 먹으러 나가기도 했다. 아침에 일찍 일어나 동행이랑 같이 사그라다 파밀리아 성당까지 러닝하고 올 때는 바르셀로나에 살면 이런 느낌일까 싶었다. 바르셀로나는 유명세만큼이나 정말 매력적인 도시였다.&lt;/p&gt;&lt;h4 id=&quot;그라나다&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EA%B7%B8%EB%9D%BC%EB%82%98%EB%8B%A4&quot; aria-label=&quot;그라나다 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;그라나다&lt;/h4&gt;&lt;p&gt;바르셀로나 다음으로 간 곳은 그라나다였다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:79.05405405405406%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAADMklEQVQ4y3WP3WscZRTG30mazccku9ndmZ3Pdz7fmd1NajFYoVHapqGiIrFVwZRAGw1Y6IdUolHUVg0o9kJFhdIUvaj2Qq3XQkEovZB65734D/hf/OSd3ZSK8eLHe+ac53nOGTE162A2PWZaITPtgEY7oG6FNGzJ7C4dSdOWNDsDWho7GvT0XOsrr4/QYfWWT8MKK/PAGNF0YlpuUtF24wrLTbC8GNvTdYzlxLS1rloY0rQCRL09CNMhbY0zFHsplp9h+xkdP6XjZzhBhhNmuFLXupdge+lwgfZKhD5Xp7edqGpaXlIJtcEJc9wwx5MahSezAdGg51bzYbiXVH7RtANaTlhtGQQllUgb/Ujhxwo/yvHjHD/KCOKcQPcjNXzzSrt7sWh1fGxX4vgxbpjgyWRoVIRJgUwKokTXOVGSIysUMi0qorQkHC7VftFxfFxfEoQxYZQi46wyxqkiyUvSvCDNCpJMPURBpkpS1UMmJTJWxElBIBOE4/h4fojnS2SUkuVFRa4UqihRRZe80MGKrELPCvKyZH5+nqXFgzy2sECalcRpjuhYbXzXppdH9FSMlAFJLEnTFJXndAtFtyjY3y8py4J+v0d/bo5UlRw/usidm1e4eGaFer2JOV1HtBom51YPs/PeGlsbz2NOjzNrjrLx9H5ufvgyO289y9ebz/HMEz2eXMgwp02kbzOXeKytLHH/zg0+3TzJ25fWWT1xBBFa03x0YYVfrm9x/+fPkW6DYHaM9eUDXHvjBB+sHWRna4WzJw9Rrwn8mTEeleNsnT7C9cuvcPXiU9y9cZpbn73O7WvvIn64eo5fb13h9+/f4d5P26jU5aWlLn//+Rt//XGXbz5+ja82X+DHLy6wfelFzq4e4PwpxfFjGcvHMuaDfWydeYTlwy6LCwniy09e5btv3+fe7TdZW5FMTBrk8STbl9c5v3GKo4/nqKjBXOGxdKiLKut0+yZCiL0ZmxS07FGiwGRkRDA5IZgY/7eoY03Tmp2o5g/3R0cEtX2CUWPwbQxe44GgVjMwpwymJg1GRgYYhrHnJWOGYKqml/9n/iC5CtIXmqbBeM3439/a1df2CPwHXrnI/HSUKsEAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;2024 12 31 14 08 42&quot; title=&quot;2024 12 31 14 08 42&quot; src=&quot;/blog/static/5ba35c976722c89a2409c170f4de20cf/fcda8/2024-12-31-14-08-42.png&quot; srcSet=&quot;/blog/static/5ba35c976722c89a2409c170f4de20cf/12f09/2024-12-31-14-08-42.png 148w,/blog/static/5ba35c976722c89a2409c170f4de20cf/e4a3f/2024-12-31-14-08-42.png 295w,/blog/static/5ba35c976722c89a2409c170f4de20cf/fcda8/2024-12-31-14-08-42.png 590w,/blog/static/5ba35c976722c89a2409c170f4de20cf/efc66/2024-12-31-14-08-42.png 885w,/blog/static/5ba35c976722c89a2409c170f4de20cf/c83ae/2024-12-31-14-08-42.png 1180w,/blog/static/5ba35c976722c89a2409c170f4de20cf/985a9/2024-12-31-14-08-42.png 1512w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;운이 좋게 궁전이 보이는 카페에 앉을 수 있었다.&lt;/em&gt;&lt;/p&gt;&lt;p&gt;도착한 첫날 저녁, 알함브라 궁전이 보이는 카페에서, 좋은 동행들과 띤또 데 베라노를 먹으며 낭만을 즐기던 장면이 기억에 남는다.&lt;/p&gt;&lt;h4 id=&quot;네르하--프리힐리아나--론다&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%84%A4%EB%A5%B4%ED%95%98--%ED%94%84%EB%A6%AC%ED%9E%90%EB%A6%AC%EC%95%84%EB%82%98--%EB%A1%A0%EB%8B%A4&quot; aria-label=&quot;네르하  프리힐리아나  론다 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;네르하 &amp;amp; 프리힐리아나 &amp;amp; 론다&lt;/h4&gt;&lt;p&gt;그라나다에서 세비야까지는 랜딩 투어 버스로 가며, 중간에 네르하, 프리힐라아나, 그리고 론다에 들려 구경할 수 있었다.
비행기가 아니라 버스로 풍경을 보며 가는 재미가 있었다.
어디를 가든 바다와 산이 &amp;quot;적절히&amp;quot; 있었고, 무엇보다 와인을 마시며 여유를 만끽하는 느낌이 내가 여행 온 것을 실감 나게 해주었다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:93.91891891891892%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAABYlAAAWJQFJUiTwAAAEpUlEQVQ4y13M2U+UVxiA8e+iVFpja6ux4lJQE1u1Clhlnw1xrTjDILIvs2/MxgzMAAN8MwMOyywKYjTG3S5CQ8UF7B/QaFK1btH+DQouN03vnoaBVtOLX5735D3nCKp6LTp/hNMP/mb4t1lG7rxm5M4bTtz919uk0btvOfmfN5y883+vkwR1oxaDL8yVp39x9vcZzt57xdn7rzh3/zXnHrxzfsGFud5/xYX33ZszmyRUaLQYfSLjz97yw8MX/Ph4hp+ezHD1ySxXn84y9p7xpBnGnyx4/HLeo5eMP3zB2MMXCAerqqlrbiU2/Zyhm0+J3npGdOoZsannRKf/JDr9nOjUvKFbzxi8+ZSB60/ov/aYyC+PiEw8pO/nP+gdu0947AGCbI8CVYMJbfw2TbHpZDULtIk5vybNnXWJ2+ji0+/EptBGb6EZuok2No0uegOhoFie/LApNklDbJLG+PVkk3PiBvWxSeqi1xZ2k2gSN9DEr6OJT9IUu0bD0ESyapdIdrEEoby2icMaM0rxHMrwZVThS6h6r1DWewVl+BLK0CVKQxdRhS+j7vt+fh+6yCHxAqrgBZTBixxsO8a27M2sTPsU4UhtLSq9nRLfcXb5hpOK244h88ZQtCbY5R+mxD/C7vaR+frn7hxD4Y0n7faPsNcTIUuuYNP2LIRiaydFzj4k7ggSV4QidwRpSz+SBTLvIFLPnAEknvlZ7h2k2DuUlFNtIrOklNwaKzkHlAi5zSHymkXy7UHyHCHyHSHy7CKFzjASdy9FrjBSdxh5Sx8KVxCZQ0TuCLKzoolMeQn5NWY25RQglxdSW12OkGvtJN/eTYGjh0JHN0WOLqTObuSuHuTOALJmP3KbD6nJQ06pmu37lGQfOMz6rBwy0teyNV+CRCZBV6um0+9EKDR5kJhbkJlbkBicyIxOFEY7xXorcq0ZWZOJwno9kjotOWXVbC+tZvueMr7aISM9fQ2bv95AY3UpUukWtm3dgDD3cJ/OxH6DBbXFTrWjBZXeSJ3dQaXRTJ3FRoPVSr3ZSK1GT8XhclTqcio1OmwtZlw+O/I9haxdv5TFn3yIoDGYsHV24Q90ExiK0R7pxul24vN56RHb6bAYsCkPcVD1HTUVFbS1t9Lp6aE/IOLrCmO2WWl16JAXZLPii88RejQm+qJBTvnctNgstPvcDJiNJLq6EXtH6Q920H6kkmaLgUBEJDwQIuBwEeny43G60NTXYdGoUMi/IS1tGcLo6CnGzycYDjhJ9PbQPTBAtM+G2GvA5azk+FEzp/q7EINe9G4rdruJgL2ceDzA6ImjqMuKWbPuM5YsSyH1oxQET2gY0ekkZmok5rdjCAVxBVupc2ho7mhF39ZJb5eNzG/T2Ls7mzPHRXraDAwG3fSJdrZlrePjxYtI/3I1i1JTEOy6esQOC031UvJlOwkPNlBlrcLm9TIR9hPQNzIo2lHIM9mZn4FEsRGruYKJSwmkRVsRBIGUlA9YvnwpS5akIpyMeOnvsGCsV6KrUVKSv4mayv2ciXcQq1JyOugj4NGTk53Bxi0rWJmeyubM1diNaiyNZezblceqVctJz1jGjty1/APPO4R7Q+ajCAAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;2024 12 31 14 16 41&quot; title=&quot;2024 12 31 14 16 41&quot; src=&quot;/blog/static/9129a89c8360d71c4bc0cf140b0ac1b9/fcda8/2024-12-31-14-16-41.png&quot; srcSet=&quot;/blog/static/9129a89c8360d71c4bc0cf140b0ac1b9/12f09/2024-12-31-14-16-41.png 148w,/blog/static/9129a89c8360d71c4bc0cf140b0ac1b9/e4a3f/2024-12-31-14-16-41.png 295w,/blog/static/9129a89c8360d71c4bc0cf140b0ac1b9/fcda8/2024-12-31-14-16-41.png 590w,/blog/static/9129a89c8360d71c4bc0cf140b0ac1b9/efc66/2024-12-31-14-16-41.png 885w,/blog/static/9129a89c8360d71c4bc0cf140b0ac1b9/c83ae/2024-12-31-14-16-41.png 1180w,/blog/static/9129a89c8360d71c4bc0cf140b0ac1b9/c211c/2024-12-31-14-16-41.png 1502w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;네르하 식당에서 밥먹으며 바라본 뷰, 지중해 바다는 참 뛰어들고싶은 느낌을 준다.&lt;/em&gt;&lt;/p&gt;&lt;h4 id=&quot;세비야&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%84%B8%EB%B9%84%EC%95%BC&quot; aria-label=&quot;세비야 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;세비야&lt;/h4&gt;&lt;p&gt;세비야도 기억에 남는 곳 중에 하나였다.
바르셀로나보다 더 더웠기 때문에, 주로 오전과 저녁에 활동하고, 점심에는 숙소에서 쉬곤 했다.
그리고 해 질 녘에 조금 선선해질 때 나와서 보는 세비야는 아름다웠다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:95.94594594594595%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAABYlAAAWJQFJUiTwAAAFLElEQVQ4yx2PaVBUBQCA38+aycYouWR339v33h5vLw5BbpdL3WVXJAIVFBYJS8EQ8MIEk1S8kG3xWJAWdAEV05Q0KZNSp6y0ycommqlmqpmmmaZparob52vGH9+vb74fn/DuGyd553KUq5OjXLkwxuT5cc6fHef06XGio2NETkQJR04SOn6C3vAIe49EeDE0RFdwkI7eY2zaf4TWnn7W7wqydmcvwufXB7l77TgfvjnEe1MRbrw+zNuXRrg6GeX1C2NcODfGxMQoo+NRItGThIdH6B+K0DswxN6jA3SHjtLZ18/WA0Hae3oRfrh9iG/f6+Orm33MXA9ybzrE3beOcOeNY7x/ZZCbl4aYnowwdWGYi+dGmDgzzOj4y0SiQ4SHBwkNHaM3fJie/iA7Dx1E+Gemkz8/285vH3fxy50X+OmDnfzwbjffXd/F19N7mLm6j0+nDvDR5UPceu0lrl/s581X+3ntbD+vnAkxPhZkZOQQ4cH9BA/vRrj/fR33v67l/kwt9+/V8d8ndfz7UT1/31rNHzca+HW6kZ+vruXHqWa+u9TCN5PtfHlxM3fPbeHWmS1Mj27mcmQzE8faGe5rQeDuXPgwCW4a4JoIUxJMqnDeDhOpMJ4J0QX8d2Ihv0f8/HS8nG/DVXxxtJrboVVMH6zlYk8dozvrCG1ZibCxXKS9TKLNL/J8ucQGn4kNPistfidtZck8509hvX8eTy9yUb/QxbO+eTRV5NNQXkBFcSb+whxKC3Mpyc+iyJ2DIMsqoqxglCVko4hFsyPLEkl6A3qjitGsYbJqGFUZvWRAlnQkawYURSQxKelBq5gtqBYLiqog2FQdLptKqtOK3SxjN6s4NTOKPh5FTEScG4eij8OhmXDYbFjNJmSjhEGvx2DQodMlYLXZsWgaDpcTwSzpsKoyNpsTRdQzN+4J5sTMIiZmFnGxjxP/xGMkxcc+cAa9AckoP8DudOFwOshINpOVbsdukXBaDAhup54lmUaW5ipkabHMl2LI0T1OjqwnxyqSn5tOjmZkkdNIvkMmz6VSkK7hL8nEX5RGVopKXrqZ0gIbnjwNoaZwPjV5ZpqKRVo9It3lZjaVaNTnaKxZkEz9wjx82cnUpYmsdiWw2B6PQ0mk0u8mUFlEboaDKm8Ky4utVPtSEHZ4V7Cu0MuGgkUEMpLx2oysqyimeWUZjSUZNGWbcKdptHkk+lfbWOXRqCy2srQoi8ULMqgpyyVQkU/lovkEKrIR/OmZbFtcSUuBl42lFex+ajEvVs2jqTybTfVeWgOl+IpzaXzSROtyOw0eJ0+608l0pKIZJdKserKdSRRlJOHJMSD4ckU2LpPorolnX4OZA03zCbelsXeNi1Pb07g34OJGMJXOlU5KMzR8WTaWuW3UlmgsL7TgyVLwZidSmBrPiuJYhEafhcPNKqe3qRxodDDUbKcvINJXL9ITUOmqNXOqw862agddT8URfeYhJp6bw8AzKh3Vqaz1WQk26BlcL3Om04TQ5FVYU5hEq1dkwxKNPXV2dlfreKEqlqe9JgKFJvaUJ3K6MZG3N4pMb07gZtdsDjaILCuws2NJApF6A9FnVV6qVxDCtYlcbp7NO+0xTKzVsc6jPlgKuGWq3Va2LlWYan2Mme5H+WtQ4p8BEyebUgiUWOjwxdPhm8v2Mj37qiS2lIoIt7cn8nHnbO7sSCC8xkqL18K+pQaCZbMYXzWHvkqJ58skdi1L4NrWOdzYodC0xEm45hGurBeYXPcwoRWxtHlEat0S/wNlDjFbdEgdngAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;2024 12 31 14 18 56&quot; title=&quot;2024 12 31 14 18 56&quot; src=&quot;/blog/static/6c73382042bbb602b5f0b2b85a5dbe30/fcda8/2024-12-31-14-18-56.png&quot; srcSet=&quot;/blog/static/6c73382042bbb602b5f0b2b85a5dbe30/12f09/2024-12-31-14-18-56.png 148w,/blog/static/6c73382042bbb602b5f0b2b85a5dbe30/e4a3f/2024-12-31-14-18-56.png 295w,/blog/static/6c73382042bbb602b5f0b2b85a5dbe30/fcda8/2024-12-31-14-18-56.png 590w,/blog/static/6c73382042bbb602b5f0b2b85a5dbe30/efc66/2024-12-31-14-18-56.png 885w,/blog/static/6c73382042bbb602b5f0b2b85a5dbe30/c83ae/2024-12-31-14-18-56.png 1180w,/blog/static/6c73382042bbb602b5f0b2b85a5dbe30/66632/2024-12-31-14-18-56.png 1504w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;세비야 메트로폴 파라솔에서 찍은 도심 풍경&lt;/em&gt;&lt;/p&gt;&lt;p&gt;특히나, 한인 민박에는 나밖에 없었는데, 사장님이 조카 챙겨주듯 잘 챙겨주셨다.
퇴실하는 날 아침, 무심하게 밥 먹고 가라는 사장님의 말에 따뜻함이 아직도 마음에 남아있다.&lt;/p&gt;&lt;h4 id=&quot;리스본&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%A6%AC%EC%8A%A4%EB%B3%B8&quot; aria-label=&quot;리스본 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;리스본&lt;/h4&gt;&lt;p&gt;다음 도시는 리스본이었는데, 리스본은 한인 민박이 없었다.
평이 좋은 호스텔에 가게 되었는데, 여기서 외국인 친구들과 낮엔 근교 투어를, 밤엔 클럽 투어를 하게 되었다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:93.24324324324323%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAABYlAAAWJQFJUiTwAAAFBklEQVQ4yx2R6U+TBwDG30/7MOfmlrDhdDrn3IbxQHHgZKJTdIh4cajwyiHlaGvpBZRC7Unbl56Ulra0lEJPQLymuCUGt0yzuQ9zZ8y2v+a3yIdfnuT58MuTPEL28e8sPvmd6L2f8C0/Jf7oBdHVF0QfviC79ifza3+z+PQf7j7/j8zaX8Qf/UHo3gtiq38SW/1rPVOPX5J6/C/hBy8RHIVnmOefYJr9dh1L5gnmzA9Ysz9gy36/jiP/I67iU9zFZ0jFp3iXnuFb/gn/yi/4V57jXXqOtPQr0vJvCL2OWdS+HHp/Br0/hy6QZ3Ayz0hkmZvxFawzt7En7zKeuo8r/RB3+iHS/CrS/CM82e8IFtcILX2/TrD4BEG81o7YcwO1PYzaPoXOHUPrnEZtC2LwxLkZWsA8lcESzmCbzuNMLONOruBK3MKVWEFK3cWT/gZv+j7e+QcI8rZaelu+YNRqRvdKZBrHFJzFMjWPNZJlPJbHGp5fxz6dwRkvrHeOaI7xeBHXzBLuxBLS7DKe9B0Ep2IvTV/vJ2ptRBSbqf3qCKJMgXrEhH3Cg8UbxhldwBxMYA+nccWyuKYXcMdzTCSKSPE8rmgGKZ7DkygiLJq2I16swtZXibXnIFdPf4qupw6jqhHFpZ1cunKNoTETRosNZyDEeDCKM5zGGUrgiWfxxDJ44hn8yTyBZAGh48Q7JEYPcL6+lvjYSarKXud89VvYu7Yx2FiCvvdrtOoe+pQ3UA8aGB67ScDciVbewqjdhTc2j39mgWAyRyhVQBAEgVXpY3qvVnP+9EHqq/ayo6SUir2lDDS8iUHcyaRqB6HhI7gMjajUAyQ0H+DTHGEyGscdnGQikmAysUBkLo9wpmYfpyq3o2s5RPXnlZw/XIP8XC3XGivorivh8OEDnD2xC9mZTVi7tpIx7WPN9Q4BUxORRIrgVADfVIhALMl0Oocw0n+R7su1tJ+t5vihPWhVCmwOHT9nRGbUn6Hq7mP/oXL2lJfRUPsxjWfLWTJuomD/EqfkYnIqSKG4wEwyznQ6gzCqbMGha0XTfYE+8QyG3mY8VhtBfTd2WRmXG5uwDPZy+sQhdu8ro/poOSn9u/g63mApIiMTNRBxXEOpUqLTqxCsWhGrTsQ13InXeB3vWA96WROy5npa6muoP1aJR3eB04d3oBLrOHvqAHduvk1fw2Zyxh3c95/C012KeGwjo/21CONDnTiGOpCMMkYVl6mv3kfEriRkU+AZ6cLY34yyrY72+grG2r/A3HOUH30fcbJqJyZxC3fM27G1b0FzbiO3CnEE53AnzlfSwQ4mRrpRXKzBom5DGrnOnFfDgl/L7aiBaYuMEdklLH3V/Br5EFlrHT2XyogNbMN5fRtBs8jiYvbVwg78YzJ03c2YVK1MWxX0tzZg1YikvRqyAT35gI7FST0PZowYFU0Y2nYTMZ3j5IkaAjc+Q+oqJZ904JsMIUjDnZi17Ryv2M+pqgPoelpIutWkvVrmJtSkPRpS0gBzbiUFnwa36jJiXSV3fE0YtV345LuwtZWwYq8gHPYjvDpC1trAxg2vc/TgXso+2cVwXxOpCTUz40ri40qidjmzTiVzLiUpp5xH0SG+zUeJSAPkDB+QHXqPwvAWlr0XEAImGf2tZ9iw4Q3e3Pga5bu3cqXhOCFzLzGHYl0Ws8tJrAtvUPCpWfDqkMs6kPo+5TtnCdnBUoxXNhOSv8//yiSMPG3d9kEAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;2024 12 31 14 26 03&quot; title=&quot;2024 12 31 14 26 03&quot; src=&quot;/blog/static/3f09dfadfdaead7ef784cbd6efaf77a1/fcda8/2024-12-31-14-26-03.png&quot; srcSet=&quot;/blog/static/3f09dfadfdaead7ef784cbd6efaf77a1/12f09/2024-12-31-14-26-03.png 148w,/blog/static/3f09dfadfdaead7ef784cbd6efaf77a1/e4a3f/2024-12-31-14-26-03.png 295w,/blog/static/3f09dfadfdaead7ef784cbd6efaf77a1/fcda8/2024-12-31-14-26-03.png 590w,/blog/static/3f09dfadfdaead7ef784cbd6efaf77a1/efc66/2024-12-31-14-26-03.png 885w,/blog/static/3f09dfadfdaead7ef784cbd6efaf77a1/c83ae/2024-12-31-14-26-03.png 1180w,/blog/static/3f09dfadfdaead7ef784cbd6efaf77a1/985a9/2024-12-31-14-26-03.png 1512w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;근교 투어 중 갔던 신트라 궁전. 밖에 구름밖에 안 보이던 게 신비로웠다.&lt;/em&gt;&lt;/p&gt;&lt;p&gt;근교 투어하면서 하루 종일 외국인 친구들과 있었다.
내가 영어를 정말 못한다는 거라는 것을 느꼈다.
아, 그리고 유럽권에서는 어떤 나라에 산다는 것보다, 어떤 도시에 산다는 게 의미를 더 가진다는 것을 느꼈다.
런던에서 일하다가, 파리에 있는 회사로 이직한다던가... 특색 있는 여러 도시에서 살 수 있는 게 부럽기도 했다.&lt;/p&gt;&lt;h4 id=&quot;포르투&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%ED%8F%AC%EB%A5%B4%ED%88%AC&quot; aria-label=&quot;포르투 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;포르투&lt;/h4&gt;&lt;p&gt;리스본 다음으로 간 곳은 포르투였다.
이번 여정의 마지막 도시였다.&lt;/p&gt;&lt;p&gt;포르투는 할 건 별로 없지만, 포트와인과 노을이 보이는 모루 공원이 다하는 곳이었다.
다른 관광지만큼 사람이 엄청 많은 곳도 아니라, 한적하게 마음 놓고 있기 좋았다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:90.54054054054053%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAABYlAAAWJQFJUiTwAAAErElEQVQ4yzWQy28UBQCHxxAqtWWh3dnHzD5md2d2dmZn9t3SSitKoS0W5aEHSkPaCqFIaRX6ZLfdR3cFK5UK8qoGQyQgXDyhiSY+wBhCjCEe/AO8eDAm3IweCJ+xxMN3+iVf8v2EkdpFxhZXGD11gZHiGY7ML3I4X2PweIGB0WkGx2Y4PDHHW4Ua5aULfHzzNt//8C3nr91ktLzEaGmRscoSI3OnGZqqIhyaXeBwvsrRQo3xuSrjhQpjJ4scm5lnbLbERLFKafF93r+8wqVPrnHx6jXeu7BC+cw5JsvvcqJ0mvFClaMny4xMFxHenMpzdLrAW/kik8UKU8UKE3MlpuZLTM0VmZ4rMluskK9UKVRqzFdr5CsLzBTLzM6XOFksk/+PUolCqYzw9uRxJqaPMzN7gkpxklOVCc6+M8n501N8+O40F9+b5qOlmVWuns1zabHA2WqepYU875Tz1BaKVKslFqrz1KpFhC+vz/PdrQI/3prm929O8Oje2/x1/xj/3D/C45+GefzzIE8eDPLk3gDc38ffd/fz550hHn0+xB83D/Hb9Tf59dNx7l6d4ouVkwjVuYMs10a4cvoQN5YPcvuDYW6eGeCzU3v4ankXD67s5cGlXTy8vIdfruzk4cUd3D/Xy53yFm5MvcQHo10sj73MWP829r/ahSD6gzhlPx4ljKKbBDQDJWoS1AwCUYuAGiORtOnr2cLre3byyo5urGQWKfR0lyMGqp1l6+597Bo6hqDFDHwhBUWLEE/EybVkVwV2wkKPG2RassyM7uD24gBfnxti3+4t6HELM26QzqZJJgzUsB9FjZDK5RCy6TRtLRkyVoxk0iabzRLVdXTdIJ3J0fViO6/3dXKkv4f8G9vY2pHG5/cTM+NYqQytmzKYhkowICG6mhBMyyZmGkRDQVQ1QiJho6kRrLjBC20tKJIHXZFRQwGcokjYLyF7RNwuN15JwrJNOjvasA3tqdAruVB1FcnroL6hAckp4nI6CUciBD3N+GUfKTNKLpvBisdxii5EUUQ3zNVrJJ+E3y9hxaO0pnWE57v2kksn6d3djxrPIAgCPa/180J3H1HNQva4kVUbbyyLmUwier14PSItrUnSKZumDY2YmQ66evrIpEyEzTuHiYZD7B0+zku7D9C4wcHm7h4ynb2k2w8g+1TWOmWEunocTQ5cbpG6urXosSBNzQ7W1a/D7ZXZ2vsa2149gOBo3oijaT3pzu0Ym7bgU0MEVA+61YIU3kyjO0R943qeXbeOBkcjAb8XTfHRkrLQ4goRQ+G5hufQEu20dfYiyOFmZNVNQPcjR9z4VBG/5sareGiSPDy7wcEza9awtq6OZnEDmiERCXppzSSJ2yHa2zNYlo3kEVFNBeH5jhxKTCKoewibPpT/icnImogUduLyNeMONCOHRXwRkYAisWNgmM7t3Zh6mLaMTdo2CJt+hJSlIUecKLqXYEwiEPOgWgFiiRAh00fIlAkaEkHDS8iQVguiKZPc9j7idgJZCZPbtImOrm6MXBuCW1qPX/MS0Dz4NBeB2FNxyJBRbT+aHSAY86wW+KIuJNWJX3ejmAobXQ3IURUtlUCJxwjacf4F6/iQcawWxGoAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;2024 12 31 15 02 51&quot; title=&quot;2024 12 31 15 02 51&quot; src=&quot;/blog/static/143de338d9b81bf5456bb45b81db3a0c/fcda8/2024-12-31-15-02-51.png&quot; srcSet=&quot;/blog/static/143de338d9b81bf5456bb45b81db3a0c/12f09/2024-12-31-15-02-51.png 148w,/blog/static/143de338d9b81bf5456bb45b81db3a0c/e4a3f/2024-12-31-15-02-51.png 295w,/blog/static/143de338d9b81bf5456bb45b81db3a0c/fcda8/2024-12-31-15-02-51.png 590w,/blog/static/143de338d9b81bf5456bb45b81db3a0c/efc66/2024-12-31-15-02-51.png 885w,/blog/static/143de338d9b81bf5456bb45b81db3a0c/c83ae/2024-12-31-15-02-51.png 1180w,/blog/static/143de338d9b81bf5456bb45b81db3a0c/aa440/2024-12-31-15-02-51.png 1500w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;매일 가던 모루 공원. 앞에 공연하는 밴드는 매일 RHCP 노래를 연주했다.&lt;/em&gt;&lt;/p&gt;&lt;p&gt;포르투에서 포트와인을 먹고 있으면, 하루 종일 그냥 기분이 좋았다.
여행을 잘 마무리할 수 있는 도시였다.&lt;/p&gt;&lt;p&gt;약 3주 정도 여행하면서, 다시 새 출발 할 힘을 얻을 수 있었다.
다음에는 도시보다는 자연이 좀 더 많은 곳을 가보고 싶다.&lt;/p&gt;&lt;h2 id=&quot;몇-가지-생각들&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%AA%87-%EA%B0%80%EC%A7%80-%EC%83%9D%EA%B0%81%EB%93%A4&quot; aria-label=&quot;몇 가지 생각들 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;몇 가지 생각들&lt;/h2&gt;&lt;p&gt;요즘 주로 드는 단편적인 생각 몇 개만 적어보면 이렇다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;새로운 무언가를 하는 건 참 귀찮다. 그러나 막상 하면 재밌다.&lt;ul&gt;&lt;li&gt;가만히 있으면, 아무것도 생기지가 않더라. 의식적으로 찾아야 하는 거 같다. &lt;/li&gt;&lt;li&gt;나에겐 올해 스노우 보드가 그랬다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;소득이 올라가니, 소비도 덩달아 많아진다. 요즘 술 한번 먹으면 10만 원씩 나온다.&lt;ul&gt;&lt;li&gt;어릴 때보다 여유가 생기니 좋다. 먹는 것도, 누군갈 만나는 것도 편해졌다.&lt;/li&gt;&lt;li&gt;그런데 너무 자연스럽게 소비가 올라가니, 소비의 상한이 어디까지 갈지 궁금하긴 하다.&lt;/li&gt;&lt;li&gt;어릴 때 어떻게 2~3만 원으로 술 먹었지?&lt;/li&gt;&lt;li&gt;일상 필수적이지 않지만, 사회생활하며 돈 많이 쓰게 되는 거 같다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;연애하기 어렵다. 그리고 점점 더 어려워지는 거 같다.&lt;ul&gt;&lt;li&gt;이제 친한 친구들도 많이 결혼한다.&lt;/li&gt;&lt;li&gt;혼자 사는 것도 나쁘진 않지만, 뭐든 때가 있는 거 같아 조금의 두려움이 있다.&lt;/li&gt;&lt;li&gt;끌리는 사람을 찾는 게 이전만큼 쉽지가 않다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;내 인생에서 정말 중요한 때인 거 같다.&lt;ul&gt;&lt;li&gt;2025년 3월이 되면 일한 지 만 5년이 된다. 시장에서 수요가 많은 연차다. 기회비용이 높은 때라 생각한다.&lt;/li&gt;&lt;li&gt;서른이 넘으니, 친구들도 동료들도 모두 각자 선택한 길로 걸어간다. 나 역시 그렇다.&lt;/li&gt;&lt;li&gt;각자 방향은 잡았으니, 그 결과는 4~5년 뒤에 드러나지 않을까 싶다. 그때까지 내 길을 묵묵히 가야겠다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 id=&quot;정리-1&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%A0%95%EB%A6%AC-1&quot; aria-label=&quot;정리 1 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;정리&lt;/h2&gt;&lt;p&gt;올해는 내 커리어의 한 챕터를 끝낸 한 해였다. 이전까지는 &amp;quot;배움&amp;quot;이라는 키워드가 날 이끌었다면, 이제는 &amp;quot;실행과 성과&amp;quot;이라는 키워드가 날 이끈다.&lt;/p&gt;&lt;p&gt;좋은 건진 모르겠지만, 이제 커리어에 있어서 고민이 별로 없다. 그냥 하면 되는 것들만 보인다. 무언가 어렵거나, 혹은 처음 해보는 것들이 생겨도 두려움보다 자신감이 생긴다. 그리고 앞으로가 더 재미있을 거 같다는 느낌이 든다.&lt;/p&gt;&lt;p&gt;앞으로의 한 해도, 내 동료들과 멋진 성과를 내고 성취를 느낄 수 있는 시간이 되었으면 좋겠다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[IP를 벗어나 서브 도메인 적용하기]]></title><description><![CDATA[최근에 GCP VM에서 IP로 접속하던 서비스들을 서브 도메인으로 바꾸고 HTTPS 설정한 과정에 대해 기록해둔다. 배경 나는 GCP에서  VM(GCE…]]></description><link>https://heumsi.github.io/blog/posts/vm-nginx-certbot/</link><guid isPermaLink="false">https://heumsi.github.io/blog/posts/vm-nginx-certbot/</guid><pubDate>Sun, 03 Mar 2024 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;최근에 GCP VM에서 IP로 접속하던 서비스들을 서브 도메인으로 바꾸고 HTTPS 설정한 과정에 대해 기록해둔다.&lt;/p&gt;&lt;h2 id=&quot;배경&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%B0%B0%EA%B2%BD&quot; aria-label=&quot;배경 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;배경&lt;/h2&gt;&lt;p&gt;나는 GCP에서 &lt;a href=&quot;https://cloud.google.com/products/compute?hl=ko&quot;&gt;VM(GCE)&lt;/a&gt;를 하나 띄워 둔 후, 여기에 이런저런 서비스들을 다음처럼 도커로 배포해서 사용하고 있었다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;docker&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ps&lt;/span&gt;

CONTAINER ID   IMAGE                             COMMAND                  CREATED        STATUS                  PORTS                                       NAMES
64f1b7650b5e   notebook:latest                   &lt;span class=&quot;token string&quot;&gt;&amp;quot;tini -g -- start.sh…&amp;quot;&lt;/span&gt;   &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; days ago     Up &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; days &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;healthy&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;     &lt;span class=&quot;token number&quot;&gt;8888&lt;/span&gt;/tcp                                    jupyter-hyeonwoo-2echeon03
ada70c59cabd   jupyterhub                        &lt;span class=&quot;token string&quot;&gt;&amp;quot;jupyterhub -f /srv/…&amp;quot;&lt;/span&gt;   &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; days ago     Up &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; days               &lt;span class=&quot;token number&quot;&gt;0.0&lt;/span&gt;.0.0:8000-&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8000&lt;/span&gt;/tcp, :::8000-&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8000&lt;/span&gt;/tcp   jupyterhub
65370b9f3659   louislam/uptime-kuma:1            &lt;span class=&quot;token string&quot;&gt;&amp;quot;/usr/bin/dumb-init …&amp;quot;&lt;/span&gt;   &lt;span class=&quot;token number&quot;&gt;9&lt;/span&gt; days ago     Up &lt;span class=&quot;token number&quot;&gt;9&lt;/span&gt; days &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;healthy&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;     &lt;span class=&quot;token number&quot;&gt;0.0&lt;/span&gt;.0.0:3001-&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3001&lt;/span&gt;/tcp, :::3001-&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3001&lt;/span&gt;/tcp   uptime-kuma
a77ca2560ebe   apache/airflow:2.8.0-python3.10   &lt;span class=&quot;token string&quot;&gt;&amp;quot;/usr/bin/dumb-init …&amp;quot;&lt;/span&gt;   &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt; weeks ago    Up &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt; weeks &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;healthy&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;    &lt;span class=&quot;token number&quot;&gt;0.0&lt;/span&gt;.0.0:8080-&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8080&lt;/span&gt;/tcp, :::8080-&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8080&lt;/span&gt;/tcp   airflow-airflow-webserver-1
aaab37ca1c23   apache/airflow:2.8.0-python3.10   &lt;span class=&quot;token string&quot;&gt;&amp;quot;/usr/bin/dumb-init …&amp;quot;&lt;/span&gt;   &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt; weeks ago    Up &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt; weeks &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;healthy&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;    &lt;span class=&quot;token number&quot;&gt;8080&lt;/span&gt;/tcp                                    airflow-airflow-scheduler-1
98aadb5bb4b2   postgres:13                       &lt;span class=&quot;token string&quot;&gt;&amp;quot;docker-entrypoint.s…&amp;quot;&lt;/span&gt;   &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; months ago   Up &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; months &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;healthy&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;   &lt;span class=&quot;token number&quot;&gt;5432&lt;/span&gt;/tcp                                    airflow-postgres-1
d32b43a154a7   linuxserver/code-server:4.20.0    &lt;span class=&quot;token string&quot;&gt;&amp;quot;/init&amp;quot;&lt;/span&gt;                  &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; months ago   Up &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; months             &lt;span class=&quot;token number&quot;&gt;0.0&lt;/span&gt;.0.0:8443-&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8443&lt;/span&gt;/tcp, :::8443-&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8443&lt;/span&gt;/tcp   stoic_spence&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;보면 알겠지만, 대부분 데이터 팀에서 사용할 법한 서비스들이다.&lt;/p&gt;&lt;p&gt;서비스 접속은 &lt;code class=&quot;language-text&quot;&gt;https://123.123.123.123:8080&lt;/code&gt; 와 같이 IP와 포트를 이용했다.
도메인 쓰려면 돈 내야했기 때문에, 일단 고정 IP만 VM에 붙이고, 방화벽에서 서비스가 사용하는 포트만 열어두었다.&lt;/p&gt;&lt;p&gt;이 서비스에 접근하는 사람이 처음엔 나 뿐이 었는데, 이제는 다른 사람들(개발자 아님)도 접속하게 되었다.
그들이 IP로 접속하는건... 좀 그렇기도 하고, 사실 무엇보다 내가 브라우저에서 IP 뭐더라하고 있는게 너무 귀찮아서, 이제 도메인을 도입해야할 때가 왔다고 생각이 들었다.&lt;/p&gt;&lt;h2 id=&quot;목표&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%AA%A9%ED%91%9C&quot; aria-label=&quot;목표 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;목표&lt;/h2&gt;&lt;p&gt;작업 목표 2개 였다.&lt;/p&gt;&lt;ol&gt;&lt;li&gt;도메인 사서 서비스 별로 서브 도메인 적용하자. (ex. &lt;code class=&quot;language-text&quot;&gt;uptime.my-domain.com&lt;/code&gt;)&lt;/li&gt;&lt;li&gt;HTTPS도 적용하자.&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;다음과 같은 구조가 적용될 것이다.&lt;/p&gt;&lt;div class=&quot;mermaid&quot; data-processed=&quot;true&quot;&gt;&lt;svg viewBox=&quot;0 0 1002.984375 300&quot; style=&quot;max-width:1002.984375px&quot; height=&quot;300&quot; aria-labelled-by=&quot;chart-title-mermaid-1736145203859,chart-desc-mermaid-1736145203859&quot; role=&quot;img&quot; xmlnsXLink=&quot;http://www.w3.org/1999/xlink&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;100%&quot; id=&quot;mermaid-1736145203859&quot;&gt;&lt;title id=&quot;chart-title-mermaid-1736145203859&quot;&gt;&lt;/title&gt;&lt;desc id=&quot;chart-desc-mermaid-1736145203859&quot;&gt;&lt;/desc&gt;&lt;style&gt;#mermaid-1736145203859 {font-family:&amp;quot;trebuchet ms&amp;quot;,verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-1736145203859 .error-icon{fill:#552222;}#mermaid-1736145203859 .error-text{fill:#552222;stroke:#552222;}#mermaid-1736145203859 .edge-thickness-normal{stroke-width:2px;}#mermaid-1736145203859 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-1736145203859 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-1736145203859 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-1736145203859 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-1736145203859 .marker{fill:#333333;stroke:#333333;}#mermaid-1736145203859 .marker.cross{stroke:#333333;}#mermaid-1736145203859 svg{font-family:&amp;quot;trebuchet ms&amp;quot;,verdana,arial,sans-serif;font-size:16px;}#mermaid-1736145203859 .label{font-family:&amp;quot;trebuchet ms&amp;quot;,verdana,arial,sans-serif;color:#333;}#mermaid-1736145203859 .cluster-label text{fill:#333;}#mermaid-1736145203859 .cluster-label span{color:#333;}#mermaid-1736145203859 .label text,#mermaid-1736145203859 span{fill:#333;color:#333;}#mermaid-1736145203859 .node rect,#mermaid-1736145203859 .node circle,#mermaid-1736145203859 .node ellipse,#mermaid-1736145203859 .node polygon,#mermaid-1736145203859 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-1736145203859 .node .label{text-align:center;}#mermaid-1736145203859 .node.clickable{cursor:pointer;}#mermaid-1736145203859 .arrowheadPath{fill:#333333;}#mermaid-1736145203859 .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-1736145203859 .flowchart-link{stroke:#333333;fill:none;}#mermaid-1736145203859 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaid-1736145203859 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaid-1736145203859 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-1736145203859 .cluster text{fill:#333;}#mermaid-1736145203859 .cluster span{color:#333;}#mermaid-1736145203859 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:&amp;quot;trebuchet ms&amp;quot;,verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-1736145203859 :root{--mermaid-font-family:&amp;quot;trebuchet ms&amp;quot;,verdana,arial,sans-serif;}&lt;/style&gt;&lt;g transform=&quot;translate(0, 0)&quot;&gt;&lt;g class=&quot;output&quot;&gt;&lt;g class=&quot;clusters&quot;&gt;&lt;g style=&quot;opacity:1&quot; transform=&quot;translate(738.6640625,150)&quot; id=&quot;flowchart-VM-30&quot; class=&quot;cluster&quot;&gt;&lt;rect y=&quot;-142&quot; x=&quot;-256.3203125&quot; height=&quot;284&quot; width=&quot;512.640625&quot;&gt;&lt;/rect&gt;&lt;g id=&quot;mermaid-1736145203859Text&quot; transform=&quot;translate(0, -128)&quot; class=&quot;label&quot;&gt;&lt;g transform=&quot;translate(-12,-9)&quot;&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;24&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;VM&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;g class=&quot;edgePaths&quot;&gt;&lt;g style=&quot;opacity:1&quot; id=&quot;L-c-DNS&quot; class=&quot;edgePath LS-c LE-DNS&quot;&gt;&lt;path style=&quot;fill:none&quot; marker-end=&quot;url(#arrowhead39)&quot; d=&quot;M65.359375,150L85.53125,150C105.703125,150,146.046875,150,186.390625,150C226.734375,150,267.078125,150,287.25,150L307.421875,150&quot; class=&quot;path&quot;&gt;&lt;/path&gt;&lt;defs&gt;&lt;marker orient=&quot;auto&quot; markerHeight=&quot;6&quot; markerWidth=&quot;8&quot; markerUnits=&quot;strokeWidth&quot; refY=&quot;5&quot; refX=&quot;9&quot; viewBox=&quot;0 0 10 10&quot; id=&quot;arrowhead39&quot;&gt;&lt;path style=&quot;stroke-width:1;stroke-dasharray:1, 0&quot; class=&quot;arrowheadPath&quot; d=&quot;M 0 0 L 10 5 L 0 10 z&quot;&gt;&lt;/path&gt;&lt;/marker&gt;&lt;/defs&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; id=&quot;L-DNS-n&quot; class=&quot;edgePath LS-DNS LE-n&quot;&gt;&lt;path style=&quot;fill:none&quot; marker-end=&quot;url(#arrowhead40)&quot; d=&quot;M361.203125,150L371.2981770833333,150C381.3932291666667,150,401.5833333333333,150,421.7734375,150C441.9635416666667,150,462.1536458333333,150,476.4153645833333,150C490.6770833333333,150,499.0104166666667,150,503.1770833333333,150L507.34375,150&quot; class=&quot;path&quot;&gt;&lt;/path&gt;&lt;defs&gt;&lt;marker orient=&quot;auto&quot; markerHeight=&quot;6&quot; markerWidth=&quot;8&quot; markerUnits=&quot;strokeWidth&quot; refY=&quot;5&quot; refX=&quot;9&quot; viewBox=&quot;0 0 10 10&quot; id=&quot;arrowhead40&quot;&gt;&lt;path style=&quot;stroke-width:1;stroke-dasharray:1, 0&quot; class=&quot;arrowheadPath&quot; d=&quot;M 0 0 L 10 5 L 0 10 z&quot;&gt;&lt;/path&gt;&lt;/marker&gt;&lt;/defs&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; id=&quot;L-n-uk&quot; class=&quot;edgePath LS-n LE-uk&quot;&gt;&lt;path style=&quot;fill:none&quot; marker-end=&quot;url(#arrowhead41)&quot; d=&quot;M612.6120383522727,169L630.4358132102274,180.5C648.2595880681819,192,683.907137784091,215,711.8259647253789,226.5C739.7447916666666,238,759.9348958333334,238,770.0299479166666,238L780.125,238&quot; class=&quot;path&quot;&gt;&lt;/path&gt;&lt;defs&gt;&lt;marker orient=&quot;auto&quot; markerHeight=&quot;6&quot; markerWidth=&quot;8&quot; markerUnits=&quot;strokeWidth&quot; refY=&quot;5&quot; refX=&quot;9&quot; viewBox=&quot;0 0 10 10&quot; id=&quot;arrowhead41&quot;&gt;&lt;path style=&quot;stroke-width:1;stroke-dasharray:1, 0&quot; class=&quot;arrowheadPath&quot; d=&quot;M 0 0 L 10 5 L 0 10 z&quot;&gt;&lt;/path&gt;&lt;/marker&gt;&lt;/defs&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; id=&quot;L-n-a&quot; class=&quot;edgePath LS-n LE-a&quot;&gt;&lt;path style=&quot;fill:none&quot; marker-end=&quot;url(#arrowhead42)&quot; d=&quot;M612.6120383522727,131L630.4358132102274,119.5C648.2595880681819,108,683.907137784091,85,715.9014855587121,73.5C747.8958333333334,62,776.2369791666666,62,790.4075520833334,62L804.578125,62&quot; class=&quot;path&quot;&gt;&lt;/path&gt;&lt;defs&gt;&lt;marker orient=&quot;auto&quot; markerHeight=&quot;6&quot; markerWidth=&quot;8&quot; markerUnits=&quot;strokeWidth&quot; refY=&quot;5&quot; refX=&quot;9&quot; viewBox=&quot;0 0 10 10&quot; id=&quot;arrowhead42&quot;&gt;&lt;path style=&quot;stroke-width:1;stroke-dasharray:1, 0&quot; class=&quot;arrowheadPath&quot; d=&quot;M 0 0 L 10 5 L 0 10 z&quot;&gt;&lt;/path&gt;&lt;/marker&gt;&lt;/defs&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; id=&quot;L-n-j&quot; class=&quot;edgePath LS-n LE-j&quot;&gt;&lt;path style=&quot;fill:none&quot; marker-end=&quot;url(#arrowhead43)&quot; d=&quot;M658.984375,150L669.0794270833334,150C679.1744791666666,150,699.3645833333334,150,723.2591145833334,150C747.1536458333334,150,774.7526041666666,150,788.5520833333334,150L802.3515625,150&quot; class=&quot;path&quot;&gt;&lt;/path&gt;&lt;defs&gt;&lt;marker orient=&quot;auto&quot; markerHeight=&quot;6&quot; markerWidth=&quot;8&quot; markerUnits=&quot;strokeWidth&quot; refY=&quot;5&quot; refX=&quot;9&quot; viewBox=&quot;0 0 10 10&quot; id=&quot;arrowhead43&quot;&gt;&lt;path style=&quot;stroke-width:1;stroke-dasharray:1, 0&quot; class=&quot;arrowheadPath&quot; d=&quot;M 0 0 L 10 5 L 0 10 z&quot;&gt;&lt;/path&gt;&lt;/marker&gt;&lt;/defs&gt;&lt;/g&gt;&lt;/g&gt;&lt;g class=&quot;edgeLabels&quot;&gt;&lt;g style=&quot;opacity:1&quot; transform=&quot;translate(186.390625,150)&quot; class=&quot;edgeLabel&quot;&gt;&lt;g class=&quot;label&quot; transform=&quot;translate(-96.03125,-9)&quot;&gt;&lt;rect height=&quot;18&quot; width=&quot;192.0625&quot; ry=&quot;0&quot; rx=&quot;0&quot;&gt;&lt;/rect&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;192.0625&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;span class=&quot;edgeLabel L-LS-c&amp;#x27; L-LE-DNS&quot; id=&quot;L-L-c-DNS&quot;&gt;1. uptime.my-domains.com&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; transform=&quot;translate(421.7734375,150)&quot; class=&quot;edgeLabel&quot;&gt;&lt;g class=&quot;label&quot; transform=&quot;translate(-35.5703125,-9)&quot;&gt;&lt;rect height=&quot;18&quot; width=&quot;71.140625&quot; ry=&quot;0&quot; rx=&quot;0&quot;&gt;&lt;/rect&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;71.140625&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;span class=&quot;edgeLabel L-LS-DNS&amp;#x27; L-LE-n&quot; id=&quot;L-L-DNS-n&quot;&gt;2. forward&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; transform=&quot;translate(719.5546875,238)&quot; class=&quot;edgeLabel&quot;&gt;&lt;g class=&quot;label&quot; transform=&quot;translate(-35.5703125,-9)&quot;&gt;&lt;rect height=&quot;18&quot; width=&quot;71.140625&quot; ry=&quot;0&quot; rx=&quot;0&quot;&gt;&lt;/rect&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;71.140625&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;span class=&quot;edgeLabel L-LS-n&amp;#x27; L-LE-uk&quot; id=&quot;L-L-n-uk&quot;&gt;3. forward&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; transform=&quot;&quot; class=&quot;edgeLabel&quot;&gt;&lt;g class=&quot;label&quot; transform=&quot;translate(0,0)&quot;&gt;&lt;rect height=&quot;0&quot; width=&quot;0&quot; ry=&quot;0&quot; rx=&quot;0&quot;&gt;&lt;/rect&gt;&lt;foreignObject height=&quot;0&quot; width=&quot;0&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;span class=&quot;edgeLabel L-LS-n&amp;#x27; L-LE-a&quot; id=&quot;L-L-n-a&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; transform=&quot;&quot; class=&quot;edgeLabel&quot;&gt;&lt;g class=&quot;label&quot; transform=&quot;translate(0,0)&quot;&gt;&lt;rect height=&quot;0&quot; width=&quot;0&quot; ry=&quot;0&quot; rx=&quot;0&quot;&gt;&lt;/rect&gt;&lt;foreignObject height=&quot;0&quot; width=&quot;0&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;span class=&quot;edgeLabel L-LS-n&amp;#x27; L-LE-j&quot; id=&quot;L-L-n-j&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;g class=&quot;nodes&quot;&gt;&lt;g style=&quot;opacity:1&quot; transform=&quot;translate(583.1640625,150)&quot; id=&quot;flowchart-n-15&quot; class=&quot;node default&quot;&gt;&lt;rect class=&quot;label-container&quot; height=&quot;38&quot; width=&quot;151.640625&quot; y=&quot;-19&quot; x=&quot;-75.8203125&quot; ry=&quot;0&quot; rx=&quot;0&quot;&gt;&lt;/rect&gt;&lt;g transform=&quot;translate(0,0)&quot; class=&quot;label&quot;&gt;&lt;g transform=&quot;translate(-65.8203125,-9)&quot;&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;131.640625&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;Nginx (on 80, 443)&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; transform=&quot;translate(875.0546875,62)&quot; id=&quot;flowchart-a-16&quot; class=&quot;node default&quot;&gt;&lt;rect class=&quot;label-container&quot; height=&quot;38&quot; width=&quot;140.953125&quot; y=&quot;-19&quot; x=&quot;-70.4765625&quot; ry=&quot;0&quot; rx=&quot;0&quot;&gt;&lt;/rect&gt;&lt;g transform=&quot;translate(0,0)&quot; class=&quot;label&quot;&gt;&lt;g transform=&quot;translate(-60.4765625,-9)&quot;&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;120.953125&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;Airflow (on 8080)&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; transform=&quot;translate(875.0546875,150)&quot; id=&quot;flowchart-j-17&quot; class=&quot;node default&quot;&gt;&lt;rect class=&quot;label-container&quot; height=&quot;38&quot; width=&quot;145.40625&quot; y=&quot;-19&quot; x=&quot;-72.703125&quot; ry=&quot;0&quot; rx=&quot;0&quot;&gt;&lt;/rect&gt;&lt;g transform=&quot;translate(0,0)&quot; class=&quot;label&quot;&gt;&lt;g transform=&quot;translate(-62.703125,-9)&quot;&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;125.40625&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;Jupyter (on 8888)&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; transform=&quot;translate(875.0546875,238)&quot; id=&quot;flowchart-uk-18&quot; class=&quot;node default&quot;&gt;&lt;rect class=&quot;label-container&quot; height=&quot;38&quot; width=&quot;189.859375&quot; y=&quot;-19&quot; x=&quot;-94.9296875&quot; ry=&quot;0&quot; rx=&quot;0&quot;&gt;&lt;/rect&gt;&lt;g transform=&quot;translate(0,0)&quot; class=&quot;label&quot;&gt;&lt;g transform=&quot;translate(-84.9296875,-9)&quot;&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;169.859375&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;Uptime Kuma (on 3001)&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; transform=&quot;translate(36.6796875,150)&quot; id=&quot;flowchart-c-19&quot; class=&quot;node default&quot;&gt;&lt;rect class=&quot;label-container&quot; height=&quot;38&quot; width=&quot;57.359375&quot; y=&quot;-19&quot; x=&quot;-28.6796875&quot; ry=&quot;0&quot; rx=&quot;0&quot;&gt;&lt;/rect&gt;&lt;g transform=&quot;translate(0,0)&quot; class=&quot;label&quot;&gt;&lt;g transform=&quot;translate(-18.6796875,-9)&quot;&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;37.359375&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;client&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; transform=&quot;translate(334.3125,150)&quot; id=&quot;flowchart-DNS-21&quot; class=&quot;node default&quot;&gt;&lt;rect class=&quot;label-container&quot; height=&quot;38&quot; width=&quot;53.78125&quot; y=&quot;-19&quot; x=&quot;-26.890625&quot; ry=&quot;0&quot; rx=&quot;0&quot;&gt;&lt;/rect&gt;&lt;g transform=&quot;translate(0,0)&quot; class=&quot;label&quot;&gt;&lt;g transform=&quot;translate(-16.890625,-9)&quot;&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;33.78125&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;DNS&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;/svg&gt;&lt;/div&gt;&lt;h2 id=&quot;작업-과정&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%9E%91%EC%97%85-%EA%B3%BC%EC%A0%95&quot; aria-label=&quot;작업 과정 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;작업 과정&lt;/h2&gt;&lt;h3 id=&quot;도메인-구매&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%8F%84%EB%A9%94%EC%9D%B8-%EA%B5%AC%EB%A7%A4&quot; aria-label=&quot;도메인 구매 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;도메인 구매&lt;/h3&gt;&lt;p&gt;먼저 다음처럼 &lt;a href=&quot;https://cloud.google.com/domains/docs/overview?hl=ko&quot;&gt;GCP Cloud Domains&lt;/a&gt;에서 도메인을 구매했다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:22.2972972972973%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAjElEQVQY05WQbQvCMAyE+/9/qCva1K3Z+pJ0O0l1IvhFDx4CIdwlccwMIkIIAUQnhGg9mlGqwHQcx0+4GCO896i1orU2an3XHX3HX3K22bquYE5IaYGKoPf+QiHSUEoZATZnodu2DVT1C3fxE673gHnJmG6MlIwE1Q4RGSZ2hb3GLnmGM3LOI8RmPg0fX5I3qzDIWy0AAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;1&quot; title=&quot;1&quot; src=&quot;/blog/static/041f436d54abbbe6da1f942498655a88/fcda8/1.png&quot; srcSet=&quot;/blog/static/041f436d54abbbe6da1f942498655a88/12f09/1.png 148w,/blog/static/041f436d54abbbe6da1f942498655a88/e4a3f/1.png 295w,/blog/static/041f436d54abbbe6da1f942498655a88/fcda8/1.png 590w,/blog/static/041f436d54abbbe6da1f942498655a88/efc66/1.png 885w,/blog/static/041f436d54abbbe6da1f942498655a88/c83ae/1.png 1180w,/blog/static/041f436d54abbbe6da1f942498655a88/29114/1.png 1920w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;이미지에서 도메인 이름은 가렸다.&lt;/em&gt;&lt;/p&gt;&lt;p&gt;연 12달러! 생각보다 얼마 안하네.
도메인 따라 가격 차이가 조금 있긴 한데, 대부분 이쯤 하는거 같다.&lt;/p&gt;&lt;p&gt;상태가 &lt;code class=&quot;language-text&quot;&gt;Active&lt;/code&gt; 들어온 거 보고 바로 &lt;code class=&quot;language-text&quot;&gt;nslookup&lt;/code&gt; 으로 확인해봤다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;nslookup&lt;/span&gt; my-domains.com

Server:		&lt;span class=&quot;token number&quot;&gt;1.214&lt;/span&gt;.68.2
Address:	&lt;span class=&quot;token number&quot;&gt;1.214&lt;/span&gt;.68.2&lt;span class=&quot;token comment&quot;&gt;#53&lt;/span&gt;

Non-authoritative answer:
Name:	my-domain.com
Address: &lt;span class=&quot;token number&quot;&gt;123.123&lt;/span&gt;.123.123&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;도메인에 붙여둔 VM IP가 잘 나온다.&lt;/p&gt;&lt;p&gt;GCP에서 작년에 Cloud Domains를 매각했다고 해서 GCP에서 도메인 구매가 안될 줄 알았는데, 아직까지는 잘 되는거 같다.&lt;/p&gt;&lt;h3 id=&quot;https에서-쓸-인증서-발급받기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#https%EC%97%90%EC%84%9C-%EC%93%B8-%EC%9D%B8%EC%A6%9D%EC%84%9C-%EB%B0%9C%EA%B8%89%EB%B0%9B%EA%B8%B0&quot; aria-label=&quot;https에서 쓸 인증서 발급받기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;HTTPS에서 쓸 인증서 발급받기&lt;/h3&gt;&lt;p&gt;이제 HTTPS에서 사용될 인증서를 발급받아야 한다.&lt;/p&gt;&lt;p&gt;GCP에서 인증서 발급해주는 서비스가 있을거 같았는데... 없는거 같다.
&lt;a href=&quot;https://cloud.google.com/load-balancing/docs/ssl-certificates/google-managed-certs?hl=ko&quot;&gt;하나&lt;/a&gt; 있긴 한데 이걸 쓰려면 GCP 로드밸런서를 추가로 써야한다.
로드밸런서 쓰면 최소 VM 비용 하나 더 나가니까, 이건 안쓰기로 했다.&lt;/p&gt;&lt;p&gt;검색해보니, 나처럼 VM에 직접 Nginx 띄우고 인증서 붙이는 사람들은 &lt;a href=&quot;https://certbot.eff.org/&quot;&gt;Certbot&lt;/a&gt;을 많이 쓰는거 같았다.
특히 &lt;a href=&quot;https://velog.io/@hannah3406/GCPnginx-SSL-%EC%9D%B8%EC%A6%9D%EC%84%9C-%EB%B0%9C%EA%B8%89%EB%B0%9B%EC%95%84-%EC%A7%81%EC%A0%91-%EB%A1%9C%EB%93%9C%EB%B0%B8%EB%9F%B0%EC%84%9C-%EC%84%A4%EC%A0%95%ED%95%B4%EC%A3%BC%EA%B8%B0&quot;&gt;이 블로그 글&lt;/a&gt; 보니까 별로 어렵지 않은 느낌이 확 왔다.
공식 문서에도 설치 및 실행 과정이 매우 자세히 나와있어서, 이걸 사용해보기로 했다.&lt;/p&gt;&lt;p&gt;먼저 어떤 버전을 설치할 지 알기 위해 VM에 접속한 후 OS 버전 확인.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;cat&lt;/span&gt; /etc/issue

Debian GNU/Linux &lt;span class=&quot;token number&quot;&gt;11&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;n &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;l&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:57.432432432432435%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB2UlEQVQoz41RPWvbUBTVkGLTwYYQSjOVkkIhP6U/oUN/RJOlXby2QwYnW71Vll6ps4RuHrxaRoNtWeBgsGRbJgqyJSEbJEV6erdcfZimtG4PHO7Vu+eed58u9+Jp+e2rZ4e3p6evpZOTl/Lz42P58OhIrlQqe1mtVnd5qVSSnhwc3JbL5ffc14uLDz94Hr5fX8M3noerT5+h2WiAKIogiGIa91EQBOB5HoRmE+r1+hfOtKwzyBACAF3d3VGIIor570yS5I/neS+4rnvJ6Zp27joOLA0jNk2Tmff34HoeJEkClNL/YhzHMWMMZrPZFadp2jkeRlEURw8PLAxDFKQjo+hfQA1jLG1YLBaZYV6LszoDwzBSTqdTWC6XoGsaBJ4H8WYLW8eBwHVhY1kQBAGwrOmxYXELy1DcuncqNEPC3wyLCfMpd3G1WjHHcdh6vWa2bTNKKSt0v+gfGZ7lE4W4RQRjLN0ewvM86vs+3Wy21LZtGoYhLXQIzLE3N6xzuq5/LJ6Cm/V9HyzLgvl8vns2RqwVvwLz4htjAcMwGly73X6jKMrNcDgU+v0+GY/HpNVqkVqtRiaTCVEUhXS7XdLr9YiqqiklSSKyLJPRaEQGgwHBXlVVbzqdzruf+d/vPdnINH8AAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;2&quot; title=&quot;2&quot; src=&quot;/blog/static/ac7327f6dfa07db2829ce0a684e93464/fcda8/2.png&quot; srcSet=&quot;/blog/static/ac7327f6dfa07db2829ce0a684e93464/12f09/2.png 148w,/blog/static/ac7327f6dfa07db2829ce0a684e93464/e4a3f/2.png 295w,/blog/static/ac7327f6dfa07db2829ce0a684e93464/fcda8/2.png 590w,/blog/static/ac7327f6dfa07db2829ce0a684e93464/efc66/2.png 885w,/blog/static/ac7327f6dfa07db2829ce0a684e93464/c83ae/2.png 1180w,/blog/static/ac7327f6dfa07db2829ce0a684e93464/e57e0/2.png 4064w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;위처럼 &lt;code class=&quot;language-text&quot;&gt;nginx&lt;/code&gt; 와 &lt;code class=&quot;language-text&quot;&gt;debian&lt;/code&gt; 을 선택하면 아래처럼 설치 방법이 나온다.
나는 서브 도메인을 사용할거라 &lt;code class=&quot;language-text&quot;&gt;wildcard&lt;/code&gt; 옵션을 선택했다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:57.432432432432435%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACC0lEQVQoz31RTY/SUBTtz4GYEGQwgxrMrIzOhpUuNPFHOLPRf6HudG26xoULTFhQSCZTIEAgmZHQR0uN0IbaTj9o6XvvmvuGjmSMnuTk3N5733n3vkqlwp0X1UcPL2rPXp49rT1Xq0fHavVxTX1w9EQtlg7Vu+WKWjw4FCyV79/ExYOKWrpXUcvlslooFM5yudxFPp9/LSmK8kbXdfixtGGu6fDty1fQhmMg8wVoRIfpdAYamQtefp/CTCOCmjYHnczBMAwghADRCHQ6nY+SaZoncI0YAGiabikq50yobVvU81z6y3GoZa0o51zkbxHPwmq1ei/NZrNTxhgwxlPGGOecAxKRJAk4jgOe50EYhuB5V7DdboFSKpjulDGWYr+u6x8kTdNOdwZpmqY8CAKwLAuLWTNQmt5cgpoZCtNU1IShYRh/DDGJhliYTCZQr9chA06I3P+OokjEaPpPQ0opz1aN41g0I3Bt0zRFjIoX+r7/f8PrlSl3XZev12tu2zb3PA/H5nEcCyZJIuqO4+DT4HtzHOK24cluwphSSjebDY2iSDCLfd8XDIKAhmEocqhJklAxBefxzvCdRAh5C3twrwL4uVyC67riwXF9/LMYo+4zq2VYLBafpEajcTwajerD4fDzYDCQ1fNzud1uy4qiyK1WS1babbnb7cq9Xu8v9vt9oXh2PB7Xm83mq9+aaQK5Qb2uWAAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;3&quot; title=&quot;3&quot; src=&quot;/blog/static/323ddf61381c2eef52ac9911106ed457/fcda8/3.png&quot; srcSet=&quot;/blog/static/323ddf61381c2eef52ac9911106ed457/12f09/3.png 148w,/blog/static/323ddf61381c2eef52ac9911106ed457/e4a3f/3.png 295w,/blog/static/323ddf61381c2eef52ac9911106ed457/fcda8/3.png 590w,/blog/static/323ddf61381c2eef52ac9911106ed457/efc66/3.png 885w,/blog/static/323ddf61381c2eef52ac9911106ed457/c83ae/3.png 1180w,/blog/static/323ddf61381c2eef52ac9911106ed457/e57e0/3.png 4064w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;이 설명 따라서 설치하면 된다.&lt;/p&gt;&lt;p&gt;먼저 certbot 설치.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;apt&lt;/span&gt; update
$ &lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;apt&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; snapd
$ &lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; snap &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; --classic certbot
$ &lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ln&lt;/span&gt; -s /snap/bin/certbot /usr/bin/certbot&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;또 나는 GCP Cloud Domains를 사용 중이기 때문에, &lt;a href=&quot;https://certbot-dns-google.readthedocs.io/en/stable/&quot;&gt;공식 문서&lt;/a&gt;를 참고해서 다음처럼 &lt;code class=&quot;language-text&quot;&gt;google&lt;/code&gt; 플러그인 설치.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; snap &lt;span class=&quot;token builtin class-name&quot;&gt;set&lt;/span&gt; certbot trust-plugin-with-root&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;ok
$ &lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; snap &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; certbot-dns-google&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;이제 certbot 설치는 완료되었고, 이 certbot이 사용할 GCP 서비스 계정을 하나 만들어 주어야한다.&lt;/p&gt;&lt;p&gt;GCP 웹 콘솔에서 &lt;code class=&quot;language-text&quot;&gt;certbot&lt;/code&gt; 이름으로 서비스 계정 하나 만들고, &lt;code class=&quot;language-text&quot;&gt;DNS Administrator&lt;/code&gt; 역할을 부여했다.
그리고 certbot이 사용할 수 있도록 JSON 키 발급 받아서 VM에 올려두었다.&lt;/p&gt;&lt;p&gt;이제 다음처럼 &lt;code class=&quot;language-text&quot;&gt;certbot&lt;/code&gt; 명령어로 인증서를 발급받는다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; certbot certonly &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
    --dns-google &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
    --dns-google-credentials /home/user/nginx/certbot-credentials.json &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
    -d &lt;span class=&quot;token string&quot;&gt;&amp;quot;*.my-domains.com&amp;quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
    -d my-domains.com &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
    -i nginx&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;/home/user/nginx/certbot-credentials.json&lt;/code&gt; 는 방금 만든 GCP 서비스 계정의 JSON 키 파일 경로다.&lt;br/&gt;
&lt;code class=&quot;language-text&quot;&gt;-d&lt;/code&gt; 옵션으로 여러 도메인을 지정할 수 있는데, 나는 &lt;code class=&quot;language-text&quot;&gt;*.my-domains.com&lt;/code&gt; 와 &lt;code class=&quot;language-text&quot;&gt;my-domains.com&lt;/code&gt; 두개를 지정했다.&lt;br/&gt;
&lt;code class=&quot;language-text&quot;&gt;-i&lt;/code&gt; 옵션은 Nginx를 사용하고 있기 때문에 &lt;code class=&quot;language-text&quot;&gt;nginx&lt;/code&gt; 로 지정했다.&lt;/p&gt;&lt;p&gt;실행 결과를 통해 다음과 같은 경로에 인증서가 저장되었다는 걸 볼 수 있다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;Certificate is saved at: /etc/letsencrypt/live/my-domains.com/fullchain.pem
Key is saved at:         /etc/letsencrypt/live/my-domains.com/privkey.pem&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;결국 &lt;a href=&quot;https://letsencrypt.org/ko/&quot;&gt;Let&amp;#x27;s Encrypt&lt;/a&gt;에서 인증서를 발급받는 건데, 발급받기 쉽게 certbot이 한번 래핑해주는 거 같다.&lt;/p&gt;&lt;p&gt;위 인증서 파일은 다음처럼 확인할 수 있다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; openssl x509 -text -in /etc/letsencrypt/live/my-domains.com/fullchain.pem

Certificate:
&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;. &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;생략함&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
-----BEGIN CERTIFICATE-----
&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;. &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;생략함&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
-----END CERTIFICATE-----&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&quot;nginx-설정-및-배포&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#nginx-%EC%84%A4%EC%A0%95-%EB%B0%8F-%EB%B0%B0%ED%8F%AC&quot; aria-label=&quot;nginx 설정 및 배포 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Nginx 설정 및 배포&lt;/h3&gt;&lt;p&gt;이제 Nginx 설정 파일을 작성하고 배포 해보자.&lt;/p&gt;&lt;p&gt;설정 파일은 ChatGPT 4.0 도움을 받았다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;cat&lt;/span&gt; nginx.conf

events &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    worker_connections &lt;span class=&quot;token number&quot;&gt;1024&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

http &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;# SSL 설정 및 기타 전역 HTTP 설정&lt;/span&gt;
    ssl_session_cache shared:SSL:1m&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    ssl_session_timeout  10m&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    ssl_ciphers HIGH:&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;aNULL:&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;MD5&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    ssl_prefer_server_ciphers on&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;# Uptime Monitor: uptime.my-domains.com를 3001 포트로 프록시&lt;/span&gt;
    server &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        listen &lt;span class=&quot;token number&quot;&gt;443&lt;/span&gt; ssl&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        server_name uptime.my-domains.com&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        ssl_certificate /etc/letsencrypt/live/my-domains.com/fullchain.pem&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        ssl_certificate_key /etc/letsencrypt/live/my-domains.com/privkey.pem&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        location / &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            proxy_pass http://localhost:3001&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            proxy_set_header Host &lt;span class=&quot;token variable&quot;&gt;$host&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            proxy_set_header X-Real-IP &lt;span class=&quot;token variable&quot;&gt;$remote_addr&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            proxy_set_header X-Forwarded-For &lt;span class=&quot;token variable&quot;&gt;$proxy_add_x_forwarded_for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            proxy_set_header X-Forwarded-Proto &lt;span class=&quot;token variable&quot;&gt;$scheme&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;# HTTP 요청을 HTTPS로 리디렉트&lt;/span&gt;
    server &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        listen &lt;span class=&quot;token number&quot;&gt;80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        server_name uptime.my-domains.com&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token builtin class-name&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;301&lt;/span&gt; https://&lt;span class=&quot;token variable&quot;&gt;$server_name&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$request_uri&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;server&lt;/code&gt; 블록 내에 &lt;code class=&quot;language-text&quot;&gt;ssl_certificate&lt;/code&gt; 와  &lt;code class=&quot;language-text&quot;&gt;ssl_certificate_key&lt;/code&gt; 를 통해 방금 발급받은 인증서를 지정했다.
이후에 추가할 백엔드 서비스가 또 생기면 &lt;code class=&quot;language-text&quot;&gt;server&lt;/code&gt; 블록을 하나 더 추가하면 된다.&lt;/p&gt;&lt;p&gt;이제 도커로 Nginx를 배포하자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;docker&lt;/span&gt; run --name nginx -d &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  --network&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;host&amp;quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  -v /home/user/nginx/nginx.conf:/etc/nginx/nginx.conf &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  -v /etc/letsencrypt:/etc/letsencrypt:ro &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  nginx:1.24.0&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;--network=&amp;quot;host&amp;quot;&lt;/code&gt; 옵션으로 Nginx가 호스트 네트워크를 사용해야, 기존에 배포되어 있는 다른 컨테이너 네트워크에 포워딩할 수가 있다.
이 옵션을 안넣어주면, &lt;code class=&quot;language-text&quot;&gt;nginx&lt;/code&gt; 컨테이너가 다른 컨테이너 네트워크에 접근할 수가 없다.
호스트 네트워크를 사용한다는게 보안적으로 조금 찜찜하긴 하지만, 일단은 이렇게 하기로 했다.&lt;/p&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;-v /etc/letsencrypt:/etc/letsencrypt:ro&lt;/code&gt; 옵션으로 인증서 파일을 Nginx 컨테이너에 마운트했다.&lt;/p&gt;&lt;h3 id=&quot;서브-도메인-레코드-추가&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%84%9C%EB%B8%8C-%EB%8F%84%EB%A9%94%EC%9D%B8-%EB%A0%88%EC%BD%94%EB%93%9C-%EC%B6%94%EA%B0%80&quot; aria-label=&quot;서브 도메인 레코드 추가 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;서브 도메인 레코드 추가&lt;/h3&gt;&lt;p&gt;마지막으로 &lt;code class=&quot;language-text&quot;&gt;uptime.my-domains.com&lt;/code&gt; 로 접근하면 해당 VM으로 접속할 수 있도록 DNS에 A 레코드를 추가하자.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:27.7027027027027%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA1UlEQVQY031QXW8CMQzr//+HewTBjp2027X0K0lbTy4bDwiIZFVKUju2O62CkBqsDaj1idYGWmtQVZgZev/vd4wx3sJtXnHNDT9BEXNHSB1FBmqtyDmjlDKJfGyo0sEaAy/LfZ5P2LZtfjYTxGuAqiCldO+HEObMVCGi8/JHiMiEWy4ey5pxWAou3wW1FqjZXCLRvu/zZQS0/wyc0Ql33Xr2WA4RtF5qm3mNP08k5YVUvll9nR2JY4xw65Zw/BJ8HDNSoZrdSZkjr6N9FvvPwF2Keu/xC71s1Tw7VGL+AAAAAElFTkSuQmCC&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;4&quot; title=&quot;4&quot; src=&quot;/blog/static/90bf00740d484584185cc35c1ae05bdc/fcda8/4.png&quot; srcSet=&quot;/blog/static/90bf00740d484584185cc35c1ae05bdc/12f09/4.png 148w,/blog/static/90bf00740d484584185cc35c1ae05bdc/e4a3f/4.png 295w,/blog/static/90bf00740d484584185cc35c1ae05bdc/fcda8/4.png 590w,/blog/static/90bf00740d484584185cc35c1ae05bdc/efc66/4.png 885w,/blog/static/90bf00740d484584185cc35c1ae05bdc/c83ae/4.png 1180w,/blog/static/90bf00740d484584185cc35c1ae05bdc/beade/4.png 2266w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;A 레코드의 IP 값은 모두 같은 VM의 IP 값으로 지정했다.
이제 위 도메인으로 요청하면, 모두 같은 VM 내 Nginx가 이를 처리해서 적당한 서비스로 포워딩해줄 것이다.&lt;/p&gt;&lt;h2 id=&quot;결과&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EA%B2%B0%EA%B3%BC&quot; aria-label=&quot;결과 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;결과&lt;/h2&gt;&lt;p&gt;이제 &lt;code class=&quot;language-text&quot;&gt;https://uptime.my-domains.com&lt;/code&gt; 로 접속하면, 다음과 같이 HTTPS가 적용되어 잘 동작하는 것을 확인할 수 있다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:57.432432432432435%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABWklEQVQoz52S22rCQBCGg7Sb3dnN5mBabYyJ9igFLT1ApfbCB/PCIPjCXlRMyJQ9SEMohXrxZWd3Zv79M6xzN5lsp8+v+PI2x4fHGebX9zjMb3E4+pvMkuY32B/kGPcGGF8mWyfqJeveVYZht78HEVZcdivRxo8rL7jQq/gtL+O958coZLR2XJcXrsuRMlEykDUDD5tw5iPpcDxzKLpEIAOJrRrVU+qYeYUDXBbAfQTul8D92sYa6noY5SmOPp8w+5hiOEyQUg+bNbZH9arLCkd97KYEkDWARI0WFBiNU8yWM8yXM+yOU32mhY51+q9kQ9A6ZC2HTK3CuCQdptFiwuYaDtnRIdeCfgEiQCaCEkRQq/iIEQ0QvNDQPPuhtr0qZx2azYGZ207hYDTMDDfWetUa9n+o7Aw3DgNvZZ6C3DGQXyeys89p5ZwTmhBCF4TQd0Lo/ERU70JpfQNEaeVQ41vN1AAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;5&quot; title=&quot;5&quot; src=&quot;/blog/static/8a57f07707e170064e28b40ec88f7e07/fcda8/5.png&quot; srcSet=&quot;/blog/static/8a57f07707e170064e28b40ec88f7e07/12f09/5.png 148w,/blog/static/8a57f07707e170064e28b40ec88f7e07/e4a3f/5.png 295w,/blog/static/8a57f07707e170064e28b40ec88f7e07/fcda8/5.png 590w,/blog/static/8a57f07707e170064e28b40ec88f7e07/efc66/5.png 885w,/blog/static/8a57f07707e170064e28b40ec88f7e07/c83ae/5.png 1180w,/blog/static/8a57f07707e170064e28b40ec88f7e07/29114/5.png 1920w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;Nginx 설정 파일에 작성해둔 포워딩 규칙대로 나머지 서브 도메인에 대해서도 잘 동작하는 것을 확인했다.&lt;/p&gt;&lt;p&gt;이제, 처음 목표한대로 HTTPS가 적용된 서브 도메인으로 접속할 수 있게 되었다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[2023년 회고]]></title><description><![CDATA[2023년에는 블로그 글을 한 편도 안 썼다.
유독 글을 올리고 싶단 생각이 별로 안 들었듯. 그래도 회고는 써야지.
2023년 12월에 글쓰기 시작해서, 결국 게으름 끝에 2024년…]]></description><link>https://heumsi.github.io/blog/posts/retrospective-2023/</link><guid isPermaLink="false">https://heumsi.github.io/blog/posts/retrospective-2023/</guid><pubDate>Sat, 20 Jan 2024 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;2023년에는 블로그 글을 한 편도 안 썼다.
유독 글을 올리고 싶단 생각이 별로 안 들었듯.&lt;/p&gt;&lt;p&gt;그래도 회고는 써야지.
2023년 12월에 글쓰기 시작해서, 결국 게으름 끝에 2024년 1월이 되어서야 퍼블리싱 한다.
와, 시간 짱 빨라!&lt;/p&gt;&lt;p&gt;다 적고 보니, 더 잘하기 위해 쓰는 회고라기보다는, 그냥 내 한 해를 정리하는 일기 정도라 보면 될거 같다.&lt;/p&gt;&lt;h2 id=&quot;회사에서&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%ED%9A%8C%EC%82%AC%EC%97%90%EC%84%9C&quot; aria-label=&quot;회사에서 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;회사에서&lt;/h2&gt;&lt;h3 id=&quot;hollys&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#hollys&quot; aria-label=&quot;hollys permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Hollys&lt;/h3&gt;&lt;p&gt;올해 초에 등장한 Python Web App Framework &lt;a href=&quot;https://github.com/reflex-dev/reflex&quot;&gt;Reflex(초기에는 Pynecone이라는 이름이었음)&lt;/a&gt;를 써보고 싶었다.
찍먹 해볼 겸, 회사 팀 내 있으면 좋을 웹 앱을 하나 개발했다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:64.86486486486486%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAACkUlEQVQ4y3WSy0/UUBSHZ+8ChHbKYzpDb6e9fXc6L2YIKDEkLtxoQBB8hAXORpdKYiJuNYpoCC4wE1cyYUciC5Ug4Y+CDEyn/ZnbDhNAucmX03ty73fPOWlC6OuZIkT8Xii4X01Tq/dz/XWe4+o8z8XxEtz5yPN1IZms9/f1bfIc1xCE5FwiI2VXFN2C45Vi3CKy1IpQNIZ9Ed2GYXsw3SJ02wM1HGSpCVWzMSLTb4m0bLyQVAeZrNUk1PXL41M+tUu+YuZ9iTr+iGp3kTrRLU343uikr5oFn2iuL6lOU6IO0rKxnkgTbZlQG4Tavqy5Ya58A6ZXge6UoNmMIjSnFO+dEiTFgluegFsah+6UoZoFSKrlE+ogI+tfEmmiL7MNe51QN7TyVdiFMRjuKHS3DMqEdqkrJdSFla8gX52E6VWRNbzO3f8IWYX5yk2YuUokYTJZcyFTJ46ay87BLo5FMvaoYuavFhLqhJpTjg971W4Fg2kFAwwxi5SkQ8tVoFjFqN2sfkWFhDps6OHU7TtYeLyI6dl5zMwtYPr+PO7NzOHu9CxmHzxEdfwWRNlEfMfGuWL+FYpED3/v7YOt4+NjBEHQpdVqRfn3Hz+jlxehRrOLZJeF2gXh/sFhCCA8bbWiyAiBsO23o++3q2vh9WQ6VAwvZB11aHWEG4m0rL8k8dBPRaIHfw4OAwBB8+QkYKsdxKvdbkf51U/rQS8vBqqZDwh1zjiNhcYGq/AVK5uoNlKShp+/9rotN5vNDic4OjqK8u8+rKGXT0Excuz/O4eNNNE3E/xAyhKGM8+E4cwSJ6Sevl55U9vZ2ak1Go3a9vZ2l62trdru7o/aoyeLtWs9XG1IlGrCUOaMJWE48zw5KFb+Am4zuyRTa5siAAAAAElFTkSuQmCC&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;hollys&quot; title=&quot;hollys&quot; src=&quot;/blog/static/d6dab130e82e8c748b81acd3c8703d6d/fcda8/hollys.png&quot; srcSet=&quot;/blog/static/d6dab130e82e8c748b81acd3c8703d6d/12f09/hollys.png 148w,/blog/static/d6dab130e82e8c748b81acd3c8703d6d/e4a3f/hollys.png 295w,/blog/static/d6dab130e82e8c748b81acd3c8703d6d/fcda8/hollys.png 590w,/blog/static/d6dab130e82e8c748b81acd3c8703d6d/efc66/hollys.png 885w,/blog/static/d6dab130e82e8c748b81acd3c8703d6d/c83ae/hollys.png 1180w,/blog/static/d6dab130e82e8c748b81acd3c8703d6d/6ac4e/hollys.png 3824w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;&lt;a href=&quot;https://github.com/heumsi/hollys&quot;&gt;https://github.com/heumsi/hollys&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;&lt;p&gt;개발한 앱 이름은 &lt;a href=&quot;https://github.com/heumsi/hollys&quot;&gt;Hollys&lt;/a&gt;.
설날 때쯤 동네 Hollys 카페에 눌러 앉아 일주일 정도 걸려 만든 거 같다.&lt;/p&gt;&lt;p&gt;Kubernetes 클러스터에 배포하면, 웹 UI에서 레이블, 테인트로 필터링하여 클러스터 내 노드 목록을 쉽게 볼 수 있다. 그리고 이렇게 쿼리한 노드 목록을 다른 팀원들이 볼 수 있게 저장할 수 있다.&lt;/p&gt;&lt;p&gt;우리 팀은 온-프렘 Kubernetes를 운영하면서 레이블과 테인트를 붙여서 노드 풀을 관리하고 있는데(EKS나 GKE 같이 노드 풀 리소스가 존재하지 않는다), 이런 노드 풀을 좀 더 가시화하고 싶었다.&lt;/p&gt;&lt;p&gt;결과적으로, 이 앱으로 기존에 노드풀 목록을 정리한 컨플루언스 문서를 대체할 수 있었다.
이제 노드 풀에 노드 추가할 때마다 컨플루언스 문서를 일일이 수정하지 않아도 된다.&lt;/p&gt;&lt;p&gt;한편, 파이썬으로 프론트엔드도 쉽게 개발할 수 있는 때가 온 걸 느낄 수 있었다. 물론 프로덕션 서비스로 괜찮은지는 아직 모르겠다. 다만 팀 내 FE 개발자가 없을 때 팀 내 도구 개발하기에는 충분히 쓸만한 거 같다.&lt;/p&gt;&lt;h3 id=&quot;유닛-이동&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%9C%A0%EB%8B%9B-%EC%9D%B4%EB%8F%99&quot; aria-label=&quot;유닛 이동 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;유닛 이동&lt;/h3&gt;&lt;p&gt;유닛을 옮겼다. 유닛은 팀 내 작은 조직이다. 조직도에 명시된 팀 내에서 자체적으로 분할된 비공식 조직이라 보면 된다. 우리 팀은 12명이고, 현재 우리 유닛은 나, 홍근님, 정수님 이렇게 3명이다. &lt;/p&gt;&lt;p&gt;이전 유닛에서는 Kubernetes Reliability Engineering 업무를 주로 했다. 멀티-테넌트 클러스터를 어떻게 운영할 것인지, 여러 테넌트들의 요청을 어떻게 처리할 것인지, 여러 의존성은 어떻게 해결할지, 클러스터 단위 범위에서 모니터링은 무엇을 하고 어떻게 할 것인지 등등... 주로 멀티-테넌트 차원의 Add-on 컴포넌트 세팅, 클러스터 안정성과 관련된 일들이 많았다.&lt;/p&gt;&lt;p&gt;이번에 옮긴 유닛은 이전보다는 좀 더 High Level Layer에 있는 유닛으로, Kubernetes 운영 그 자체보다 Kubernetes 위에 올라가는 앱 세팅과 운영에 좀 더 중심을 둔다. 특히 데이터 플랫폼으로써 역할을 할만한 앱들에 관심을 두는데, Spark on Kubernetes라든가, Workflows(Apache Airflow, Argo Workflows 등) on Kubernetes가 이런 앱이 되겠다.&lt;/p&gt;&lt;p&gt;옮긴 유닛은 이전 유닛보다 내 스타일에 더 잘 맞았다.
영향을 줄 수 있는 범위(의존성)가 이전보다 작아서 좀 더 자유롭게 뭔가를 시도해보고, 결과를 확인하고, 피드백을 요청할 수 있었다.&lt;/p&gt;&lt;p&gt;가장 좋았던 것은, 비교적 최근에 릴리스된 기술에 대해 딥-다이브 할 시간을 주고, 이에 대해 꼼꼼히 조사하여 대안을 낼 수 있는 기회를 준다는 것이다. 예를 들어, 바로 아래에서 소개할 Kubernetes Resource Scheduler의 경우, 나는 관련 주제를 맘껏 조사하고, PoC 하고, 대안을 낸 뒤 제안하면 된다. 물론 이게 실제로 적용까지 되느냐 하는 건 좀 다른 문제이긴 한데, 아무튼 리뷰 단계에서, 시니어 분들의 이런저런 크리틱을 들을 수 있다. 내가 많이 까이는 게 문제긴 하지만. 그래도 내가 못 보던 관점을 배울 수 있었다.&lt;/p&gt;&lt;p&gt;한편 아쉬웠던 점은, 확실한 성과를 내기가 어려웠다는 것이다.
사실 성과라는 것 자체가 명확하지 않았기 때문이기도 한데, 우리는 기존의 요구사항을 파악해 뭔가를 만드는 팀이 아니라,
없던 것을 먼저 만들어 선보이는 팀이었기 때문이다.
따라서 내가 우리가 한 일의 결과가 조직에 유의미한 영향을 줄지 누구도 아주 명확하게 확신할 수 없었다.
우리 팀 식 표현으로 &amp;quot;이 산이 아닌가 봐&amp;quot; 하며 언제는 이걸 다뤘다, 또 언제는 다른 걸 다뤘다 하며 컨텍스트 스위칭이 많았다.
그게 빛을 발하려면, 결국 누군가가 써줘야 했고, 그게 언제가 될지는 잘 몰랐다.
이래저래 구축한 건 많으나, 운영까지 끌고 가는 경험은 부족했다는 생각이 든다.&lt;/p&gt;&lt;h3 id=&quot;resource-scheduler&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#resource-scheduler&quot; aria-label=&quot;resource scheduler permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Resource Scheduler&lt;/h3&gt;&lt;p&gt;새 유닛에서 내가 진행했던 작업 중 하나는, Kubernetes Resource Scheduler 도입이었다.&lt;/p&gt;&lt;p&gt;이는 Spark on Kubernetes의 전초 단계였는데, Spark on Yarn을 쓰던 기존의 테넌트들이 Spark on Kubernetes로 넘어올 수 있게 준비해야 했다. 이들이 기존의 Yarn에서 사용하던 Fair, Capacity 스케줄링 전략은 Kubernetes의 Default Scheduler에서 지원하지 않았다. 따라서 이 스케줄링 전략을 지원하는 별도의 Resource Scheduler를 고려해야했다.&lt;/p&gt;&lt;p&gt;몇 주 동안 Resource Scheduler에만 집중했다.
이 과정에서 &lt;a href=&quot;https://volcano.sh/en/&quot;&gt;Volcano&lt;/a&gt;, &lt;a href=&quot;https://yunikorn.apache.org/&quot;&gt;Apache Yunikorn&lt;/a&gt;, &lt;a href=&quot;https://koordinator.sh/&quot;&gt;Koordinator&lt;/a&gt;, &lt;a href=&quot;https://github.com/kubernetes-sigs/kueue&quot;&gt;Kueue&lt;/a&gt;와 같은 도구들을 모두 살펴보고 PoC를 진행했다.&lt;/p&gt;&lt;p&gt;아직 대중적으로 널리 퍼지지 않은 도구들이라 그런지 알려지지 않은 문제들이 꽤 있었다.
예상대로 동작 안될 때는 GitHub Issue를 먼저 찾아봤고, GitHub Repository에 Issue 탭 자체가 없는 경우도 있었는데, 이럴 때는 직접 Apache JIRA에 가서 관련 티켓들을 찾아봐야 했다.
JIRA 티켓들을 보다 보면, 해당 기능이 어떤 히스토리를 가지고 나왔는지, 어떤 대화들이 있었는지를 알 수 있었다.
이런 컨텍스트를 익힌 후에 해당 오픈 소스의 코드를 몇 번씩 읽다 보면 어떻게 동작하는지, 뭐가 문제인지 조금씩 감이 왔다.&lt;/p&gt;&lt;p&gt;대부분의 경우 내가 원하는 작업을 정리한 문서가 어디에도 없었기에, 내가 직접 하나씩 해보고 알게 된 내용을 문서로 정리해두는 맛이 있었다. 예를 들어, 정말 Fair하게 스케줄링이 되는지, 그렇지 않은 경우, 코드로 확인해 보니 왜 그런 것인지 등등.
이것들만 가지고도 블로그에 쓸만한 글이 꽤 있는데, 추후에 써야겠단 생각이 강하게 들면 써야겠다. (사실 쓰다가 만 글이 몇 개 있다. 이놈의 귀차니즘...)&lt;/p&gt;&lt;p&gt;아무튼 여러 제약 사항과 운영 정책을 고려하여, 최종적으로 우리 팀은 Apache Yunikorn을 사용하기로 결정했다.
Configuration 구성부터 배포까지 내가 담당하게 되었는데, Resource Scheduler가 Spark on Kubernetes에 꽤나 핵심적인 컴포넌트이기도 하고, 앞으로 더 발전해나갈 프로젝트라 앞으로의 운영 경험이 기대가 된다.&lt;/p&gt;&lt;h3 id=&quot;spark-on-kubernetes&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#spark-on-kubernetes&quot; aria-label=&quot;spark on kubernetes permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Spark on Kubernetes&lt;/h3&gt;&lt;p&gt;Resource Scheduler 이후 나는 Spark on Kubernetes까지 맡게 되었다.
정확히 말하면, 이전에 다른 팀원이 Spark 특정 버전으로 어느 정도 코드와 문서를 만들어둔 게 있었고, 내가 이를 이어받아 고도화 시키는 셈.&lt;/p&gt;&lt;p&gt;구체적으로 다음과 같은 일들을 하였다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;특정 Spark 빌드 버전 뿐 아니고, 여러 버전을 지원할 수 있도록 코드를 구성&lt;/li&gt;&lt;li&gt;코드 수정 시 자동 테스트 및 배포 될 수 있도록 CI/CD 구성&lt;/li&gt;&lt;li&gt;쉽게 다운받을 수 있도록 installer shell script 구현&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;사실 Spark 자체를 Kubernetes에서 쓰는 건 별로 어렵지 않았다.
다만, 사내 데이터 저장소에 접근할 수 있도록 설정하는 일들과, 이렇게 설정된 Spark 파일들을 잘 패키징 하여 여러 테넌트가 쉽게 사용할 수 있도록 하는 일들은 조금 신경 쓸 일들이 있다.&lt;/p&gt;&lt;p&gt;예를 들어, 누군가는 Spark 3.2.x를 쓰고 싶어 하고, 다른 누군가는 3.4.x를 쓰고 싶어 한다.
또 누군가는 Python 3.8 버전을, 다른 누군가는 Python 3.9 버전을 사용할 수밖에 없는 환경에 있다.
이렇듯 Multi-tenant 환경에서는 여러 요구사항을 수용할 수 있게 Spark 빌드 파일들을 제공해 줘야 하고, 나 역시 이런 요구사항에 유연하도록 프로젝트를 구성해야 했다.&lt;/p&gt;&lt;p&gt;또한 Spark는 앞으로 여러 프로젝트에서 의존성의 코어가 될 중요한 컴포넌트이다.
따라서, 빌드 파일에 변경사항이 생겼을 때 매우 안전하게 배포되어야 한다.
이를 위해, 코드 수정 시 자동 테스트 및 배포가 가능하도록 CI/CD를 구성해야 한다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:64.86486486486486%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB8ElEQVQ4y6WSy27TUBCGrUJp7FzKBrZIdAELHoAH4B14geINXUIlFrwBSBCKSN2TpOR2bAcEorxMpGAlSgRtSKPGjknsc/mRnSaiatNGYqRfRzNz5ps5FyWj3nh0+9Z65f69DWPj7h2SSafJzfV1ksmkSTqditdUKkmSmkaSSY1omkY0VSWqqsa+mkiQxNra7rWVldrq6vXHypvsu5c1y8bXg+/48u0AtP4Ze3sEpFBEfr8EI1/EfrmKco2iVKWoUgumZYFaNmj9E2pWHVXLjnOv32YLSu93/xmmNgbAIv06HrKhN2JBEDLXG7FZ/BJFtTgZulml2WxuM8YgOGeCc8k5R8cN4QYCQsq4k5QSUVxwHq/nxBiL9rTb7feK4zjbcloYBSUgceQFOPQCTJgAFyIGXqFoSnQ6nYuAiIHOYIJRwBHys8UX2ZXAn26A9skEf0IxhyyCLQXs+yF+DMbwQzGH/deEx36Inh+egV025TmgiC9+/ijy0Atkzw8lF1N/CQtPgTtKq9V6ftooABCdUXTcUPTHXMz8JRTVotvt7iiNRuPFZDLBTGEQoDvw0Oy5OBr6GPpjjP/JL1L0lx3H2VVyudwD0zSfUko3KaVPLNPUC6WK/soo6dl8Wf9QrOjGx6pumlSndKE2bdveMgzj4V8d7XuRYOl61QAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;spark on kube&quot; title=&quot;spark on kube&quot; src=&quot;/blog/static/7dd538568166fe71ec568129b8ed85a6/fcda8/spark_on_kube.png&quot; srcSet=&quot;/blog/static/7dd538568166fe71ec568129b8ed85a6/12f09/spark_on_kube.png 148w,/blog/static/7dd538568166fe71ec568129b8ed85a6/e4a3f/spark_on_kube.png 295w,/blog/static/7dd538568166fe71ec568129b8ed85a6/fcda8/spark_on_kube.png 590w,/blog/static/7dd538568166fe71ec568129b8ed85a6/efc66/spark_on_kube.png 885w,/blog/static/7dd538568166fe71ec568129b8ed85a6/c83ae/spark_on_kube.png 1180w,/blog/static/7dd538568166fe71ec568129b8ed85a6/6ac4e/spark_on_kube.png 3824w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;정말 자주 봤던 Spark on Kubernetes 공식 문서&lt;/em&gt;&lt;/p&gt;&lt;p&gt;이 과정 중에 이런 고민들을 주로 했었다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Spark on Kubernetes Repository 구성을 어떻게 할 것인가?&lt;/li&gt;&lt;li&gt;Spark 버전, 그리고 의존성 버전(Java, Python) 별로 어떻게 파일을 구성할 것인가?&lt;/li&gt;&lt;li&gt;Spark 빌드 파일의 버저닝은 어떻게 할 것인가?&lt;/li&gt;&lt;li&gt;CI/CD는 어떻게 구성할 것인가?&lt;/li&gt;&lt;li&gt;사용자(개발자) 문서는 어떻게 작성해야 할까?&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;고민에 대한 나름의 해결책들을 여기에 다 적기는 어려울 거 같고... 되도록 Keep It Simple을 생각하며, 최대한 간단하게, 그리고 추후에 변경사항에 직관적으로 수정할 수 있게끔 구성하려고 노력했다.&lt;/p&gt;&lt;p&gt;개발자 문서는 &lt;a href=&quot;https://product.kyobobook.co.kr/detail/S000201419245&quot;&gt;Docs for Developers 기술 문서 작성 완벽 가이드&lt;/a&gt;를 팀원들과 스터디하며 몇 가지 원칙들을 세워나가며 작성할 수 있었다.&lt;/p&gt;&lt;p&gt;그래서 결과가 최고로 마음에 드느냐 하면, 당연히 아닌데, 그래도 그런대로 최선을 다한 결과라고 생각하며 만족한다.
프로젝트를 운영하고 키워나감에 따라 계속해서 여러 고민의 결과가 녹아드는, 변화하는 결과물이 되었으면 좋겠다.&lt;/p&gt;&lt;h2 id=&quot;회사-밖에서&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%ED%9A%8C%EC%82%AC-%EB%B0%96%EC%97%90%EC%84%9C&quot; aria-label=&quot;회사 밖에서 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;회사 밖에서&lt;/h2&gt;&lt;h3 id=&quot;오런고-프로젝트&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%98%A4%EB%9F%B0%EA%B3%A0-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8&quot; aria-label=&quot;오런고 프로젝트 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;오런고 프로젝트&lt;/h3&gt;&lt;p&gt;올해 초부터, 내가 사용할 만한 앱을 만들어보고 싶다는 생각이 들었다.
회사에서는 비즈니스 레이어와 너무 멀어져 있는 느낌도 들었고, 나는 개발자로서의 역량도 계속해서 갖추고 싶었다.
그리고 무엇보다 바닥부터 직접 조직과 서비스를 만들어나가는 경험을 해보고 싶었다.&lt;/p&gt;&lt;p&gt;이런 생각을 대학 동기인 상협이와 나누다가 상협이와 상협이 고등학교 친구인 용균 씨를 만나게 되었다.
용균 씨는 러닝 크루를 운영하는 크루 리더이었고, 상협이는 크루 멤버였는데, 러닝 크루를 운영하며 느낀 불편한 것들을 앱으로써 해소해 보자는 이야기를 나눴다.
나도 평소 러닝을 하고 있었으므로, 러닝 크루에 참여하여 앱을 같이 만들어나가면, 운동과 서비스 개발 모두에 동기부여가 될 거 같았다.
그래서 우리는 러닝 크루를 위한 앱 &amp;quot;오런고&amp;quot;를 만들기로 했다.
오런고는 오늘 러닝 고고를 줄인 말이다!&lt;/p&gt;&lt;p&gt;첫 만남은 5월 8일 월요일. 19시 30분. 공덕역에서 나, 상협이, 용균 씨, 그리고 용균 씨가 구한 디자이너 혜빈 님이 만나게 되었다. 첫 회의 끝나자마자 우리는 바로 공덕역 근처 삼치 회 맛집 남해바다에 가서 소주를 마셨던 기억이 난다.
모두 선어회와 소주를 잘 드시는 걸 보니, 일하는 궁합이 잘 맞을 거 같은 느낌적인 느낌.&lt;/p&gt;&lt;p&gt;FE 개발자 구인 공고도 올렸고, 곧이어 우태 님이 합류하게 되었다.
그렇게 우린 FE 1명, BE 2명, 디자이너 1명, PM 1명으로 구성된, 평균 나이 30.5세의 팀이 되었다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:122.2972972972973%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAYAAAD6S912AAAACXBIWXMAABYlAAAWJQFJUiTwAAAFs0lEQVQ4y42Ue1CUdRfHH00XNJtedRrrFfOSjQNNplZjamii08VUfHuVi0ZoJpICGoYXzAodk4BW0vKSQyh46Z3IMmiivCBlo4W94AWFhWVB9vrsDXZZll2W59P8nsL/mumZ+c45v3PO73tuv3mkNrPMqe+raWg2oG9uRt/Sgslkoru7G7/fTyAQoLe3F0VR/hbiCwaDKqS6mlrWp6Rx/eZt7LKM0Wiko6ODnp4efD6fSiz0f/IJcsnf7cNivIPNZqW1tRWj0aTCbrdjNptV2Gw22traVF0k/DPOiMPh4M6dO3ftKqHb7aZRp6OpSYeuSY+t/SZ+r5OeQFCtTLQs0F9p/yiEFC0KXdiFVAnFQbQo2uvs7CQQ+IskGKSrq0u9KOD1etUYcbF/FEIX6PephLIsU1dXh8FgoL6+XsXt27fR6RpV2dDQQG1tLTdu3Ljr1+l06PV6Vb927Rrt7e1qMSqh2KDI0N+WqFY4PR6PehbS5XKpFYg4MSIhhU/oIr5/03crbGxsVLOKYYvMYsBiCaI6g6EVi8WiQnQhZFNTk/q0xFJErLALWygUQhJzEkZBLALExgSZuCjIzRYLHrcdlNA/ezZeTxc2qw27bEe2ylgtNpwOFw7ZjtvpQrbacNod2G0yTocDi8mEbLWocDkcuJ1O7LINt8uJEupF8vd6adTfwtDezK3mm7S063B1GvErQXy9fjwBH75QAG/Qj7c3gN3bjas7gNsfxBPsoyuk4AmG8PX9WaV0MOs8Bzed5VjWecq21FCRXUPFjp+p0VZRu/dH6vdVottfgf6TbzEdLoNvi6D8AIGyfXR+ocV+tABnST6dJz/AczIHaYa0i/nSPmKlD0m9p4TsIcfZMOQY20fksnfMJg4/vJFjY9dzJnIlrc8voi85hr7UaXSvjMKybCKGReOx/Gc0rriReJPuR1oYrmVpeCkrhhaT/q9ido46RfaDJ0h74At2jN9N/qPbKJqcwa8LErAmLiW4Kg7eWgSbowmkzMK/9hlCmdNQdkSh7JmIFKspJF5TwkrNN6y/7yg5I0vIHn6UtOGnWDOimO3jMjn2zHLOxSRy/eVE5GUJ+F+LJ5ixAGVrDMrOaJS8p1G0j0Pho0hLNftJ1hwnNaySjHvLeXfk5+wed4KM4ceJHXyY2KGbefuhFPInpFIcmUL51De4NH0VptjlKLkL6CuYi5I3A7RT6XkvEilRc4DVYadID/+BTZrLfBBRxtmyi5S+8xM5S74hL/VrDqWfpDT1M77LLKJqcxG12YewvPcxPVlxkD8fJX8OSu7TNMQ+hpSgOcBKzQneDKtgY9gldoz4kaLXK3k/5gzxow7xapSW5CkFrHoki91TMvn0qUzOztvArcXrcSasoC93AWjnYUyazonHJiEtG/wxSZqjrAn7H6lDvmRd2BneHFjC8gGf8dIgLbMHbSN6YBazB6cRf/9q9ox7g9OTV1MzKxnjC0ko217BnhbD6clPsndCJNJ/w/JIDC8kacgnvBZ+hOSwUlKGneT1+4pZOLSAecO2Mm/Ydubem8lzQ9exdlQGu8ancSQqlYqpa7gyZwUXZs2nbMoMiqOmIr0oZfGylM1CaSeLpA9ZPKCQJQMOEjfwCC/cs4voQRuYOSiTyQPWMX1gJq8Oe5stD6STNzqN4glrKR0fT9mkhVROm03ppCeQFv87nVdGb2FpRA5xEbkkRBQSP+ZTksZ8zvKxHxE7dhtzx2QxJyKbJQ8XsDFyD9qndlI8M4ey6K189Wwap2emcGZ2EiUzXkS68ut1Lly4QkVFFRerrlJV9Tvnzv5G9cU6qi/+n/LyKip/+IXz569y+fItLv1US/W5y9T8UsuV6t+4cbUeS6uV9hYzbXojktnppsVoobndiN5oVmWLyYzR7sBgttJoaMPq6sDW4cHh9SF7vFg7PMgeH9YOL7LXh8sfVH8Wbn8vfwDjecUa5jqKfwAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;ohrungo 1&quot; title=&quot;ohrungo 1&quot; src=&quot;/blog/static/73249ac71da4fc202c269137aa892055/fcda8/ohrungo_1.png&quot; srcSet=&quot;/blog/static/73249ac71da4fc202c269137aa892055/12f09/ohrungo_1.png 148w,/blog/static/73249ac71da4fc202c269137aa892055/e4a3f/ohrungo_1.png 295w,/blog/static/73249ac71da4fc202c269137aa892055/fcda8/ohrungo_1.png 590w,/blog/static/73249ac71da4fc202c269137aa892055/136a2/ohrungo_1.png 884w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;여러 채널에 구인 공고를 올렸는데, 링크드인이 제일 효과적이었다.&lt;/em&gt;&lt;/p&gt;&lt;p&gt;매주 1회, 가능하면 오프라인 미팅을 진행했다.
공덕에 무료로 빌릴 수 있는 회의실이 있어서 공덕에서 보았다.
20시부터 진행해서 22시까지. 끝나면 근처의 족발 집이나 전집 골목, 지겨우면 건너편에 고깃집에서 회식을 하곤 했다.
비슷한 나이, 비슷한 고민들을 해서 그래서 그런지 미팅도 회식도 늘 재밌었다.&lt;/p&gt;&lt;p&gt;생각나는 대로 그리고 필요한 대로 우리는 뭐든 진행했다.
JIRA와 Confluence를 만들고, Slack을 만들고, GitHub Org를 만들고... 하나하나 필요한 걸 만들어나갔다.
특히 내가 이런저런 협업 규칙과 자동화에 관심이 있었는데, 예를 들어 JIRA 프로젝트 세팅, 티켓 이슈 타입, 템플릿, 자동화, Confluence 페이지 관리 등등이 주로 그런 것들이었다.
&amp;quot;Keep It Simple&amp;quot;과 &amp;quot;불편한 건 합의하여 바꿔나가자&amp;quot;라는 원칙으로, 하나씩 우리 팀이 일하는 방식을 만드는 경험은 평소 내가 해보고 싶던 것들이었다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:64.86486486486486%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAACq0lEQVQ4y22SyY7bRhCG+QKjsSVx72Yv7JWLSErKjMYTIAhgP4BPfgFbF/uYCMghLxFYBwdCTkFe0XAaZAXNmdixkcOHqkKh/9o6SJaL5wXFf3Zd+3tl1SVJ0kscx5c4ji5hGF7CcP1ov2V9icLwslqtPB8WV1d/XS8WrwLCxK/KNrDpd7DZ3oJUGqrhGehmB6yUwIUGLtQjGth/rdRQKgtSWyilhozQPwKi+5+4HQBz+1HWvTPbe8ft3hFhHGbSISod+tf+H0y6UrcfTbsDIsxvAetfnPLhJWT6meNSTdx0gJiCnHBAVEBe8Nn/HJOv42zOl272MTsHpLo7ofpHyNXW2W6YmKqAlApKWUGCKEQZhjgvHkDki/+Iz0cZdt5PcnIOmNAnygUUTLmqP0ylaYDrGqRpIcUUkq9EvhUkcz5B1PniCfKC0p6KUkPBtau3h8lsdiDrDkTVg+luQVYb8F1zVX8Rzx66rYYbqIcbUM3gStsCZvIcUGlP3I8pjOtu7yfTDg8dVhvY3HwPut2CqDYgq24WC1M0E+UFcNsCFcYLOVJqv8tzQIU5Ca/OpcOlmPyS/aiYSRjufoC6/w50O4BpBoiyAtZJ/ll0HWewijNYJ5nzcZwX5yDD7ISZAH/+nJRTiukU58WUYjbJup+otBMRZmLSThnhMz6XIOqLT/5NTsq/c1JCiuh7L/gzIiVgYT7V+8Oo6m7kuh6ZasYwxWOYopk4J+Pm5n5shttRVt2o2n5s9nej7faeT373mMn3ASLlL0xWwISBtt+DqnuQtgWuW4gyAmH6MKL/HjkVkMyXp5BRDvXuMB/FtFtQTQeYiQ/BOk6bJMNvowy/ZtK+YdIcqdDHFNHj9TI8Xi/Xj6yOV9dPj4sny+PVk+VsERXHgkvP6xTRd+soPfwDfwNJK0dL8CUAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;ohrungo 2&quot; title=&quot;ohrungo 2&quot; src=&quot;/blog/static/4b112f22ad694d05982af6e49e147ab5/fcda8/ohrungo_2.png&quot; srcSet=&quot;/blog/static/4b112f22ad694d05982af6e49e147ab5/12f09/ohrungo_2.png 148w,/blog/static/4b112f22ad694d05982af6e49e147ab5/e4a3f/ohrungo_2.png 295w,/blog/static/4b112f22ad694d05982af6e49e147ab5/fcda8/ohrungo_2.png 590w,/blog/static/4b112f22ad694d05982af6e49e147ab5/efc66/ohrungo_2.png 885w,/blog/static/4b112f22ad694d05982af6e49e147ab5/c83ae/ohrungo_2.png 1180w,/blog/static/4b112f22ad694d05982af6e49e147ab5/6ac4e/ohrungo_2.png 3824w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;이슈 트래커로 어떤걸 쓸까 고민하다가 무난한 JIRA로 결정했다.&lt;/em&gt;&lt;/p&gt;&lt;p&gt;나와 상협이는 BE를 담당하며, Kotlin과 Spring Boot3로 API 서버를 개발했다.
Spring Boot는 취준생 때 이후로 처음 써봤는데, 상협이가 현업에서 쓰고 있어서 도움받으며 개발하니 금방 적응할 수 있었다.
특히 ChatGPT와 GitHub Copilot을 사용하니 사실상 코드보다 주석 작성에 더 많은 시간을 쓰게 되었다.
Kotlin이나 Spring Boot 이 둘을 깊게 이해하는게 목표는 아니라서, 필요할 때 필요한 만큼만 공부했다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:64.86486486486486%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAABxUlEQVQ4y52QzW7UMBCA8wAECbFptkubxD/xf+IkZXdbxAnxDrxA4QJHiMSBl0DtodWKE+IVqxKxg+xkf1LtaQ+fxh57vhk7OHnx/D3GZ7/LQt9zxlan0+kqmkxWUTTp42YdRbs45OI4Xk0mLx13YRj+CcNnH4Ikoz+EqcA2CxC6glwWgHMJKJc++jUVIwjTQJgCyg0gKiFDAjLiz34FaV58Nc0bUOX8gXDbYWE7KusOsbLDbs9tl1DdJWRHSo3nHKkO6aLT7+YPWFnIqPkZYGFb01wBlVVHhF1jXoCur0BVS8h1A8xhLoDvwQa4eQ2yXoBZXnZEWkiwuA0yqlplF4C5m6hcY156mSgXW5mLVNWQqz5uyDc5XbuXQELkbZBS1YpyPhbape9OhPVFLiJWAMp1H58ifS2kTphg0brNvpDK2n2BF1EvrAAzA7R8C0Q2gFkBQw3s1W6Esh06bYWHpvASeQHuaX1udG8sHCRb4SGQv2N6uc/tpnwiFC0eT7hGrDiMPzt4/ncQ3gQJkd+GTo+Yl/+O5LEXqhs34ff+KWbvT8wRFJBgeRdE0zMTz9LP8Sy9jmfpx3iWfjqC6/hV+uXk9PzyP5OcVaQ6LopnAAAAAElFTkSuQmCC&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;ohrungo 3&quot; title=&quot;ohrungo 3&quot; src=&quot;/blog/static/656774352540c79f111092c2e9caa3e2/fcda8/ohrungo_3.png&quot; srcSet=&quot;/blog/static/656774352540c79f111092c2e9caa3e2/12f09/ohrungo_3.png 148w,/blog/static/656774352540c79f111092c2e9caa3e2/e4a3f/ohrungo_3.png 295w,/blog/static/656774352540c79f111092c2e9caa3e2/fcda8/ohrungo_3.png 590w,/blog/static/656774352540c79f111092c2e9caa3e2/efc66/ohrungo_3.png 885w,/blog/static/656774352540c79f111092c2e9caa3e2/c83ae/ohrungo_3.png 1180w,/blog/static/656774352540c79f111092c2e9caa3e2/6ac4e/ohrungo_3.png 3824w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;세 개의 Repository를 유지하며 계속해서 개발하고 있다.&lt;/em&gt;&lt;/p&gt;&lt;p&gt;시작한 지 2개월 정도 뒤에 우리는 당장 사용할 수 있을만한 앱을 만들었다.
용균 씨의 러닝 크루 멤버들이 이 앱을 사용하며 피드백을 주고, 우리는 이를 반영하며 앱을 개선해나갔다.
아주 작지만, 트래픽이 발생하는 서비스를 만든다는 건 꽤 재미가 있었다.&lt;/p&gt;&lt;p&gt;우태 님이 개인 사정으로 팀을 떠나시고, 슬아 님이 새로 합류하시게 되었다.
슬아 님이 합류하시기까지 여럿 분들과 인터뷰를 진행했는데, 인터뷰란 게 참 어렵구나 싶었다.
우리 팀은 어떤 기준으로 사람을 선택해야 할까? 이 질문이 핵심이었는데, 멤버들과 이런저런 이야기를 나누며, 우리는 함께하고 싶은 사람에 대해 다음과 같은 우선순위를 정할 수 있었다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;안정성: 안정적으로 계속해서 참여할 수 있을까? 너무 바쁜 사람은 아닐까? 지속하기 어려운 환경은 아닐까?&lt;/li&gt;&lt;li&gt;역량: FE 개발 경험이 있나? 혼자서 해나갈 수 있을까?&lt;/li&gt;&lt;li&gt;커뮤니케이션 핏: 인터뷰하며 커뮤니케이션이 인상적이었나? 우리와 커뮤니케이션 스타일이 비슷한가?&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;우선순위를 정하고 결정해도, 사실 어느 정도 운칠기삼이라는 생각은 있었다.
고작 몇 분 인터뷰한다고 우리가 상상하는 그런 분이라고 확신할 수는 없으니까.
기업 HR에서는 이 문제를 얼마나 깊게 고민하고 사람을 뽑을까란 생각이 들었다.&lt;/p&gt;&lt;p&gt;다행히도 슬아 님은 우리가 생각하는 그런 분이었다.
슬아 님 덕분에 내가 생각했던 것보다 서비스가 훨씬 빠르게 개발되었고, 현재는 웹 앱에서 네이티브 앱으로의 전환을 진행하고 있다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:52.70270270270271%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAAC8klEQVQozz2T709bVRjH758xKLesC5TStbfc/qK3ty3MHxUITKNZXGTRZIvOVzAzYFDJEphmZUVGp65qS2OMWt2L+YJtQeLWvYI3zmicZgrSYbFmjmUjtLQ0kY9yonuSkyf5nvP9fs95nvNIvlYNn1fD5XLhdrvRdR2vy4fH2YpTdQlc9/vx+QN4tSAer09gmqbh14P4/EE0Tcfj8eDz+ZBeeLmb54+HsTmsmPaaaFFbePKQRvcr7fgPeDHt3YddUejtsBM54qBLN2OoM9JstXLoGSfHn1N46dkQ1v029lutSFqgFbdfpclixmQyoTpV2sI6T3W3EWjTcSgOFIeDQKsDXW3AqTTR0GjGbrfTYjPjtjdgNe9DlmUURUGKT19g+NQwMzNpXjx8WGxMTU6TTn/M/Pw80egEdQYD/kCIdy9+iM3uwCjLwvzV116n78RJTrxxks7OTsxmM9K1uWusFdbYjZHICLW1tWQyGf6PmfQMe/bUEJ+eolTc4GY2S19fH/X19cxeucrd334hv/wD42fewmiUkS5/dZlypSzIAwMD1NXJJBJxYEdgb78zRnv7AXK5HNXqNuv3/2J29gpjY+O89/5Ffvz+W3bK6wwMDlFTU4OUzd5kc7MoyIODg8iykfMXomxvl4Xo6bMjHOw+yKONIn9vPeDSZ2lW766KUnyQSAhetbLF9W/mOXb0KNLCwiKlUolKpcLQ0CkMBgOJj5L/PXiH09FhOsIdlLdK/HrnZ9KffCruHps4KwSr1Sr3Cnn+XFvl3EQU6dat71heWeJBpcCbkVEhmEwmH9fwfHyajqefgO2HfJ75gjsrv7MBxKcmSaZS4szW5iPu3yswGTuHNDf3NUvLSzzcXKe/v180Zdcpl1shn88zOjpKMBgklUpx40b2sdH4+BlisRjFYonCH2tc+jLDkd5epFAoRE9PD12dXaiqitPppMliobm5GYvIFoHvdjUSiXD79k8sLC4SDoex2WxiYnZXY2Mj1n8/9j9+Ix+SQ64WdwAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;ohrungo 4&quot; title=&quot;ohrungo 4&quot; src=&quot;/blog/static/312f8ae0f49057b2a225b6b2362535bf/fcda8/ohrungo_4.png&quot; srcSet=&quot;/blog/static/312f8ae0f49057b2a225b6b2362535bf/12f09/ohrungo_4.png 148w,/blog/static/312f8ae0f49057b2a225b6b2362535bf/e4a3f/ohrungo_4.png 295w,/blog/static/312f8ae0f49057b2a225b6b2362535bf/fcda8/ohrungo_4.png 590w,/blog/static/312f8ae0f49057b2a225b6b2362535bf/efc66/ohrungo_4.png 885w,/blog/static/312f8ae0f49057b2a225b6b2362535bf/c83ae/ohrungo_4.png 1180w,/blog/static/312f8ae0f49057b2a225b6b2362535bf/20a65/ohrungo_4.png 2490w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;앱 화면 찍기 귀찮아서, 작업중인 피그마 이미지로 대체.&lt;/em&gt; &lt;/p&gt;&lt;p&gt;마지막으로, 오런고를 하며 느낀 점 몇 가지를 적어본다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;내가 만들고 싶은 서비스와 일하는 조직을 처음부터 만들어 나가는 일이 제일 재밌다.&lt;/li&gt;&lt;li&gt;역시 개발은 재밌다 (회사에서는 개발을 잘 안 하다보니, 오랜만에 맛보는 개발의 맛은.. 더 그렇다)&lt;/li&gt;&lt;li&gt;나는 획실히 혼자보다 같이 일해야 더 재밌어하는 성향이다.&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;내가 직접 사용하는 서비스다 보니, 만들고 싶은 기능에 대한 아이디어가 계속해서 떠오른다.
빨리 서비스를 더 키워서 더 많은 사람들이 쓰고 싶게끔 만들고 싶다.
내년에는 결제 모듈도 붙여서, 공덕역 남해바다에서 삼치회 맘껏 먹게 되었으면 좋겠다.&lt;/p&gt;&lt;h3 id=&quot;데이터-엔지니어-밋업&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%97%94%EC%A7%80%EB%8B%88%EC%96%B4-%EB%B0%8B%EC%97%85&quot; aria-label=&quot;데이터 엔지니어 밋업 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;데이터 엔지니어 밋업&lt;/h3&gt;&lt;p&gt;&amp;quot;수군수군 데이터 엔지니어 밋업&amp;quot;을 총 세 번 진행했다.
1월을 첫 시작으로, 두 번째는 5월, 그리고 세 번째는 11월에 진행했다.&lt;/p&gt;&lt;p&gt;&amp;quot;수군수군 데이터 엔지니어 밋업&amp;quot;은 이름 그대로 데이터 엔지니어들을 중심으로 모이는 밋업이다.
약 한 시간 동안 2~3개의 현업 데이터 엔지니어들의 발표 세션을 듣고, 이후 한 시간 정도 네트워킹 세션을 진행한다.
거창한 건 아니고, 핑거 푸드와 맥주를 먹으며 같은 업계 분들과 요즘 무슨 일을 하는지, 이슈가 뭔지, 회사 데이터 팀은 어떤지 등을 이야기한다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:58.10810810810811%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAADU0lEQVQozx3P209bBQCA8RMf1MQsusGQrlJY27W05QBt4exAL3Ao0DIq1zYWymBACy1Q7sNMBmVjMw7RKIwMGWxsUFmdF3BsumAMTheNZo/64J/gq3/AZ+T9ly/5hNOGYowFElK5h9jAMK3BMHapAp2hmJw8C7H4EI1NQdS5JjRaC1q9yODgMOfqm7GWutEaitHoRHQmO69naBDEYhmjpQR1rplstYGzZQpt4Qu83Rig0CqjeOpIjE4gO6sold3E4oO0hc9TZJMxFdg5npmLRi+Soy/AaLYhHDvxFsez8nhTrSdTpeONrDxOZGvRmaycMdmwiKVUe2owi1YkR+VRKFtjPDLHMjRkqvRkqfW8/NpJKjw+hBKXB/3/y5KM4mugpimIvyOCzlSM3DJOIPk1lV1XMYil5Bed5bRBpPVCDKU5jNPrx6HUUl5Rc+Q7I30IDocbucxJXo4WUapAqvZT4WtBqzdSM3yfnm+gdflvzCU+MtUiKo0eu8ODXamjrNqLVObCaBJxKdVEeroR8s5YqKquxVwoUdv4Dt76FhLxfoKNfrxeH5L3PGW+dlxuN4GmBrzeWrr64jS0d2NzepDLHZjzjVyavsT+zirCeHs9FouIzW4n0B5G8dUzlIizdGMWh8dFnb8KSZbJ1ZuJRHuZmUsyM/se4Y4w0cEEM8nLJEYSXE++y9PdOwj3V67S3x/ho8V5eqM9qIxF+Px+TEYjfqeV3u4QFycGSMQ66OoMMjl1kb3dNDs7W6yt3yKV2iAxECHW2cqtj+cRvthcIL25yPZnC6yufsr12VEWbiTJPplBtKOZkaEIf/6c5s5SEr0hH5sks/35Pb7d+4qlhffZf7TD5Fic5kCQtt5RhFPZKtZuXiO9vcbm7Q/Ye7DI2PKH9M1NMbKxwpWVRe7ODDDZF8Ytl9PsVkh0dqEU2hmP9vDscJ/dh5tsrS/THgohJEf7+PH7FDup28zPTTM0O4V/NIon3kP9WAxRcVFT6SQUaqVAtGLIVHHqpVfJEl7h2vQUv/7yhKf7aQ73trh5ZQLhj4NNfjt8wMH+Pf568R2P9jZYT33C8t1F1lJLXJ4d4cXzL/n3n9/xnqtFpzPSGQhgN4mMxaM8f/aYg8dpfjrY5YcnD/kPy7DqBzt+i+oAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;meetup 1&quot; title=&quot;meetup 1&quot; src=&quot;/blog/static/6a3a80eca121cba85a767d1574ef50f4/fcda8/meetup_1.png&quot; srcSet=&quot;/blog/static/6a3a80eca121cba85a767d1574ef50f4/12f09/meetup_1.png 148w,/blog/static/6a3a80eca121cba85a767d1574ef50f4/e4a3f/meetup_1.png 295w,/blog/static/6a3a80eca121cba85a767d1574ef50f4/fcda8/meetup_1.png 590w,/blog/static/6a3a80eca121cba85a767d1574ef50f4/efc66/meetup_1.png 885w,/blog/static/6a3a80eca121cba85a767d1574ef50f4/c83ae/meetup_1.png 1180w,/blog/static/6a3a80eca121cba85a767d1574ef50f4/3dfa7/meetup_1.png 2028w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;가장 최근에 진행했던 3회 밋업 사진을 가져왔다.&lt;/em&gt;&lt;/p&gt;&lt;p&gt;몇 회 하다 보니 꾸준 참석러도 생기고, 이전에 인사했던 분과 다음 밋업 때 다시 만나서 이야기하기도 한다.
재밌는 건, 채용 면접 때 면접관으로 들어오셨던 분들을 이런 자리에서 또 보기도 하는데, 오프더레코드 이야기를 꽤 들을 수 있다.
그때 어떤 상황이었던 것이냐, 어떤 생각이셨느냐 등등...
여하튼 컨퍼런스처럼 발표 세션 중심의 딱딱한 분위기가 아닌, 좀 더 캐주얼하고 부드러운 분위기의 밋업이다.&lt;/p&gt;&lt;p&gt;밋업 준비는 나, 그랩, 그리고 웅석님, 이렇게 세 명이서 해왔다.
그랩이 작년에 석촌 호수 근방의 아주 럭셔리한 오피스텔로 이사를 하면서 집들이를 하게 되었는데, 이 날 우리 셋이 어쩌다 만나게 되었다.
이전까지는 나는 웅석님을 페이스북 상에서만 알고 있었는데, 이날 처음 만나 우리 셋 다 죽이 잘 맞는다는 걸 느끼게 되었다.&lt;/p&gt;&lt;p&gt;세 명 다 데이터 엔지니어 경험이 있었고, 외향적인 성격이었다.
우리 같은 사람들을 더 만나보고 모으면 뭔가 재밌을 거 같단 생각이 들었고, 그렇게 와인을 먹다가 밋업을 해보자는 말이 나왔다.
그날 바로 캘린더에 밋업 기획 미팅을 추가해두었다.&lt;/p&gt;&lt;p&gt;나는 이전부터 밋업 운영 경험을 해보고 싶었다.
내가 어느 조직에 속하나 언젠가는 해볼 것들이라는 생각이 들었다.
재밌을 거 같기도 하고, 또 언제부턴가 젊을 때 할 수 있는 것들은 뭐든 해봐야겠단 생각이 강하게 들었다.
이 세명이 모여서 주도할 수 있는 에너지 같은 게 항상 있으리라는 것은 없으니까.
있을 때 하자. 라는 생각.&lt;/p&gt;&lt;p&gt;첫 번째 밋업 전까지 우린 3~4번의 미팅을 가졌다.
아무래도 웅석님이 AWS 사용자 모임 밋업 경험이 있으셔서 그런지 전반적으로 수월하게 진행할 수 있었다.
또 모두 P 성향이라 그런지, &amp;quot;뭐, 잘 되겠지!&amp;quot;라는 낙관적인 마인드로 밋업을 준비하다보니, 의사결정에 막히는 부분은 전혀 없었다.&lt;/p&gt;&lt;p&gt;공간 대여는 두 분의 인맥을 통해 생각보다 쉽게 구할 수 있었다.
오히려 본인들의 회사 공간에서 해달라는 요청이 몇몇 있었다.
대신 발표 세션에 회사 홍보 슬롯을 넣어달라는 몇 가지 조건과 함께.
당연하고 합리적인 조건이라고 생각했고, 이런 몇 가지 옵션들이 생기자 다음에는 우리가 먼저 제안을 할 수도 있겠다는 생각이 들었다.&lt;/p&gt;&lt;p&gt;발표 장소, 발표 세션 주제, 타임라인을 확정하고 포스터를 만들었다.
사람들이 SNS을 열만한 시간인 출근 시간, 점심 시간, 퇴근 시간에 맞춰 우리 세명의 SNS에 각각 홍보 글을 올렸다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:121.62162162162163%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAYAAAD6S912AAAACXBIWXMAABYlAAAWJQFJUiTwAAADmUlEQVQ4y6VVW28TVxDef8hDH+ClfSoCIfWpUimIS2iFFFWFSoCUFyCRAIGCUEQpmFa08U2pY4PvcXxdX2Jv1vauHa/XcZzY+dA3znGjiopIPdL4zNk5Z843M98ca4v3H+PrC98iX9SRy2VRKBTQarXQ7XZFer0ednd38bkxmUwwHo+hWaaBYiYtHxzHwf7+/icPHB4eflY4NEM3EPnzLQrFIsrlMvr9vqA6ODjA3t4eRqORCC88iWhWrQc9UkTP6aFer0uYg8FAhA6Hw6HoJxni0B30YZimOKMQZbPZhGmaaDQaIlzTRr1Wq0HXdZkrlQoMw5CcW5Y1Ddm2bORzeSnG5uYmkskkMpmMSDQalTVtGxsbYk+n00gkEqKnUinZx5mXMI9ap9NBLpeTg9y0vb2NUqk0Q0FUCj3XW1tbgpiREJnaP0NISrTbbTEwZ/9nCEImnM6YMwp1IuHtRFOtVgUR9eIRE7imneiZQ7VfHNq2LRspzBXhZ7NTgufzeVkzR7Tv7OwITymMRrGAoqilUXFdV7qBclynjYfITa6VM+VQcVTZBCGTqapLRCwQKxmLxZBKpeUbK6nC5V6iZxTcy+qTDbRPaWPbcogOc9msHOrYNiyrDdu24Dg96RzVQWQFZ4bPmY1AUFyLQ0JmD7uDAfruLtzBEBNWjMw/mk86JId914VhNGDZXdR3Jqh2xqh1xii2RqI3nfEJ+DL7+Yc224YBq92C0aijUtbRNE2UigW0W80ZoUl20sS2O/j1zQrmf7qCuVtX8Wh5CYuPH8K35oVG/gSDQUQiEbx//wHr4TD8fj/i8TgCgQBisTjC4TCSiQRCodC0QCUdD54uYeHnL7Fw5yt4Xt7Ag/sXsfzyBTSWXyWYyeUFRM01KcRiUP49Xnn/QDbuQSkdRDm7jrD3Efxez7QodEhy8g2kKP6RW4pr6gFl4jn+8r/C2+UfEXozD9+zU3j95AsE11ahEQVzxBbjc8RHgPniN7YidfY6LxSyH/V7JOpFyHMNhfANOJVv8O71eawGfNCIgiGROgyTaBTS452h0O6PRuJw1fc7Lp89g7tzF5GKJvHsl5sIBLzQjj/fDIt/NEr/rxeFY+X5Mu5dPoeb353G0p0f8NvCJQRDPmjMH8PlI8CQSQ3ODJldQKTH/4hUDiv3biO6+D3+fj6H0Mp1eF7M493aOjQi+mRoR7NCOxOuxaOOYSYCMxuCXUug3qqi6/TxES+18x/n4DlWAAAAAElFTkSuQmCC&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;meetup 2&quot; title=&quot;meetup 2&quot; src=&quot;/blog/static/f5b057006540b9e137116c1879174079/fcda8/meetup_2.png&quot; srcSet=&quot;/blog/static/f5b057006540b9e137116c1879174079/12f09/meetup_2.png 148w,/blog/static/f5b057006540b9e137116c1879174079/e4a3f/meetup_2.png 295w,/blog/static/f5b057006540b9e137116c1879174079/fcda8/meetup_2.png 590w,/blog/static/f5b057006540b9e137116c1879174079/65654/meetup_2.png 872w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;딱 사람들이 보기 좋은 시간대가 있다. 그 때 맞춰 올려야 한다.&lt;/em&gt;&lt;/p&gt;&lt;p&gt;반응은 생각보다 기대 이상이었다.
우리는 4~50분 정도만 모실 거라고 생각했는데, 약 3배가 넘는 분들이 참여 의사를 비춰주셨다.&lt;/p&gt;&lt;p&gt;이렇게 첫 밋업은 당근 오피스에서 약 40분 정도의 분들과 함께하게 되었다.
나는 이전에 블로그에 올렸던 Airbyte를 내용을 담은 발표를 했다.
밋업은 딱 우리가 생각하던 그림과 맞게 진행되었다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:56.08108108108109%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAADLklEQVQozxXOW0+TBwCA4W/ZxbKLLVnmkm3JzArZBVyM4+xkFix2IodJELH0g1KhSKnYcJhsqZxVEFZgtoyCtChtGUpXaKGEyWo0zYApYGSRgIvBAFkEdgARuX6XPb/gEWynorAcfgdfXjjX1VLMmRGYkkO511nD0rNlgsE7+G724XZ0MzRg42ffAE2N9Wj1xSizT3IiVUFWSjxiagKVBSqEsSo1nSciaMuMojH7EB3iF1hSPmHO2cL69g7rW9s8fb7O3NNlfpmaxO/34GyvojFfwffFadgrMvjx20wGyr7krikX4WFtCmMlCibKFPRmhXMpUUKTIoRA1yU2/33J5ep6Zh/Os/Jijyc7r1h6uUtgxE7AWkLweiUzdi3j1rM4TAa8fS0IvoYchssT+a1Zze9tBUxfSMWaFsK4uZY/N7a4clpkYWGBtRevWNz4i9XdXRxuN9YeM3eHehiz1+MdvIHV7aHvp2GEMkMxV0cCdLsHMRvPcPOKAV+NktnhbiZcDvqqznNnxMva7h5PNv9mZXsHn9fD12WFVOgLKNdpyEhP54A8nvw8JYJCdpAmWz9Wl4vz+RlcPKuk1aCmt6MNV1MDraezmZmc5Nn2HoubWyz+s8NjZydVujzkyRkUqEVElZKQj/Yjpicj1OlUJEWGUZT0OUelkZRnJXFU8j5KVS7ebgvtGiXjTgeLz7dYWNlgbXUNo7GOOGkMRw7FoFWfpEwlI1GegKvXiuAx1ZIjiyI5OgxdmoKeC6WUJh+kWJOD12qmQyty32ljOTDKpM3C7eYaUhIO896+fRSeSqI0/yuqNTIuGvXccl5D+H/18dtvoE1RMH2thUf9V3HXnaO9JI/KHJHokDBc35TQqDqOOi6awvgDyGJiEYTX0J/RMOjsotlYRG5aHFnHjyEY0uXEh35Ae5FI0NKAo/ocx2IjSIyMJPTdD3nr9TeRS/YjxoZTKIvBohM5Iv0MiUTCd5erudXXRVWFnkTppxRr1Qirc0Hu+z0s/RpgdW6KeyNDdJnNuOy9/NBqoa3ZhLPTyrzfw4Pbo/wxHWTC72NsdJjHj2ZYXJhn9sEUnsF+/L4h/gP/2i2bNfMdpgAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;meetup 3&quot; title=&quot;meetup 3&quot; src=&quot;/blog/static/073e41cb6b020053a4b766b7723f590d/fcda8/meetup_3.png&quot; srcSet=&quot;/blog/static/073e41cb6b020053a4b766b7723f590d/12f09/meetup_3.png 148w,/blog/static/073e41cb6b020053a4b766b7723f590d/e4a3f/meetup_3.png 295w,/blog/static/073e41cb6b020053a4b766b7723f590d/fcda8/meetup_3.png 590w,/blog/static/073e41cb6b020053a4b766b7723f590d/efc66/meetup_3.png 885w,/blog/static/073e41cb6b020053a4b766b7723f590d/c83ae/meetup_3.png 1180w,/blog/static/073e41cb6b020053a4b766b7723f590d/29114/meetup_3.png 1920w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;당근 오피스에서 진행했던 1회 밋업&lt;/em&gt;&lt;/p&gt;&lt;p&gt;이후 밋업들도 비슷하게 진행되었다.
언제 하자! 라고 정하기보다는, 어느 정도 때가 되면(?), 톡방에 &amp;quot;이제 슬슬 다음 밋업 준비할까요?&amp;quot; 문구가 올라오곤 했다.
처음 한 번을 경험 해보니 이후 밋업을 준비하고 운영하는 거 자체는 어렵지 않았다.&lt;/p&gt;&lt;p&gt;한 해 동안, 세 번의 밋업을 통해 밋업의 목표였던 &amp;quot;그냥 피자랑 맥주 마시며 동종 업계 사람이랑 얘기하며 즐거움을 느끼는 것&amp;quot;은 이룬 거 같다.
그저 &amp;quot;재미&amp;quot;만 느낄 수 있었다면 일단은 충분하다고 생각한다.
다음 밋업에서는 동종 업계 사람들이랑 어떻게 하면 &amp;quot;더 재밌게&amp;quot; 놀 수 있을지 고민해 봐야겠다.&lt;/p&gt;&lt;h3 id=&quot;언섹시-리서치-클럽&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%96%B8%EC%84%B9%EC%8B%9C-%EB%A6%AC%EC%84%9C%EC%B9%98-%ED%81%B4%EB%9F%BD&quot; aria-label=&quot;언섹시 리서치 클럽 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;언섹시 리서치 클럽&lt;/h3&gt;&lt;p&gt;이번 회사에 오면서 이전보다 기술적으로 더 깊이 다뤄볼 수 있는 고민과 일들을 많이 할 수 있게 된 거 같다.
재밌기는 하지만, 한편으로는 그래서 이게 내 인생에 그렇게 큰 의미가 있는가?라는 생각도 들곤 했다.
예를 들어, Kubernetes를 잘하면, 그게 내가 하고자 하는 것에 가치가 있나? 돈이라도 잘 벌어다 주나?
내가 생각하는 사회에 어떤 멋진 영향력을 주나? 와 같은 생각들이다.&lt;/p&gt;&lt;p&gt;아이러니하게도, 기술적으로 한 단계씩 접할수록, 나는 기술이 그렇게 중요할까?라는 생각이 조금씩 든다.
물론 중요하다. 넷플릭스나, 페이스북같이 자체 기술을 만들어서 업계 디 팩토를 만드는 기업들한테는.
그러나 대부분의 비즈니스의 경우는 이런 회사들이 아니고, 한편 기술 중심의 서비스가 그렇게 ROI가 잘 나오는 비즈니스인가 하면, 아닌 거 같다는 생각이 든다.
대부분의 IT 스타트업들은 탄탄한 비즈니스 모델 없이 기술적으로만 성장한 케이스도 많고, 그래서 그게 그렇게 성공했느냐 하면, 꽤나 극소수라는 점을 보면 말이다.&lt;/p&gt;&lt;p&gt;어느샌가 내 주된 관심사에 &amp;quot;비즈니스&amp;quot;가 생겼다.
&amp;quot;비즈니스&amp;quot;가 가장 중요하고, 그 목표를 이루기 위한 도구로 나는 남들보다 &amp;quot;기술적으로 좀 더 잘 할 수 있을 것&amp;quot; 뿐이라고 생각한다.
나는 기술을 하는 사람이지만, 기술은 부차적이고, 첫번째 본질은 &amp;quot;비즈니스&amp;quot;라는 생각이 점점 짙어진다.&lt;/p&gt;&lt;p&gt;이런 생각이 있던 중에, 우연찮게 &amp;quot;언섹시 비즈니스&amp;quot;라는 뉴스레터를 우연히 받아보게 되었고, 이 뉴스레터에서 운영하는 모임인 &amp;quot;언섹시 리서치 클럽 3기&amp;quot;에 참여하게 되었다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:64.86486486486486%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAACjklEQVQ4y4WS227TQBCG8wKkTuLd9flsrw9JnKSHpOVQ1NIbXoAXAN/AJVRCKtxEakFFINoiUWQhKiqkUgpX9NUqsOxBu00PXBQufs2svfPNP2PXpKZwx3S0/ZmZ3oc0beeEkLwlirksy7kkSTnG5ELkIkcY5wihvNls5a1Wa7der38RBOFeTZXJM9vSIQ4DCHwXkjiCftoFy9BBUyTQVQUMTQVDUy7lKn/vOTaPtmmApshAMPpYk7H4WCUIdEU6cQy9sHS1iAO3WFq8VawsLxcLw7lidjAopnspz1mc6fUK6tqFgsVCk3ChSehElzGoBG3VFIJWNQlDEtJifjisqGsDDTqwsnIXlm4vQkwDsHUVHEMH1zJ4TiMPXM8CbkQmTAWLCkHvzoGB6xSDNK3iwANd88BzKFDPBt+xOMizTR5d04CkG4MfOKDiUyBzeQHEaPVSl4p1DRwTZvspzA76EAUetEMK3TiCThxB2k547ugaA10NPN0FrtglU5XBs0zw+IgKH5OJNVOwyHUJ9n+HbI83F0awMJyD66Mh3JgfQb+TgKFIHDqB/Bs4ecgdMjdJSCHyPbZbCFyb74+6zrnYnStGFv8CqgRVvm1WaTup2lFYdeKo6sRh1eUxqpIw4GfXNPjdiYnfE+AOc/hkMvIvXSalSlDp21Y5nXbLOPDLmPplO47KJAzLmAZlN4rKhNLSNfVSk3DJaia1p0AZi0/PdsLEdmSpMoxfrsPB4QF8P/oGe++3uPb3P8PGzgZsvl7n/+XZxzmTgtFurSlMtcWG8FBsCPfFhvCgKdQzGYnZ2sY4O/xxlP08Ps72tjezT29fZF+PDrO17efZqzfjTJOlrDF1LRObQjapfdQSpkZ/AG5TV6dH2t5HAAAAAElFTkSuQmCC&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;unsexy 1&quot; title=&quot;unsexy 1&quot; src=&quot;/blog/static/151f360d59be270e8cd3a33825ec0930/fcda8/unsexy_1.png&quot; srcSet=&quot;/blog/static/151f360d59be270e8cd3a33825ec0930/12f09/unsexy_1.png 148w,/blog/static/151f360d59be270e8cd3a33825ec0930/e4a3f/unsexy_1.png 295w,/blog/static/151f360d59be270e8cd3a33825ec0930/fcda8/unsexy_1.png 590w,/blog/static/151f360d59be270e8cd3a33825ec0930/efc66/unsexy_1.png 885w,/blog/static/151f360d59be270e8cd3a33825ec0930/c83ae/unsexy_1.png 1180w,/blog/static/151f360d59be270e8cd3a33825ec0930/6ac4e/unsexy_1.png 3824w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;언섹시 비즈니스 뉴스레터. 구독하면 메일로 온다.&lt;/em&gt;&lt;/p&gt;&lt;p&gt;&amp;quot;언섹시 비즈니스&amp;quot;란 말 그대로, 섹시하지 않은 비즈니스, 즉 IT 기술이나 최근에 유행하는 트랜드, 대규모 트래픽을 지향하는 비즈니스가 아니라, 고리타분해 보이거나 규모가 작지만 비즈니스가 탄탄하고 돈을 버는 비즈니스를 말한다.
예를 들면 다음과 같은 비즈니스들이 있다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://maily.so/unsexybusinesskr/posts/e9402256&quot;&gt;영양제 정보를 정리해서 연간 15억을 버는 웹사이트가 있다.&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://maily.so/unsexybusinesskr/posts/d93cdb86&quot;&gt;혼자서 공황 장애로 힘들어하는 사람들을 위한 앱을 만들어 수십억원을 버는 비개발자&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://maily.so/unsexybusinesskr/posts/ea0fbcd8&quot;&gt;노션 하나로 수억원을 벌어 들이는 1인 기업가들이 이렇게 많습니다.&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;대부분 1인이 혼자 운영하며, 틈새시장을 노리고, 인력은 정말 필요한 경우에만 계약직이나, 아르바이트 추가로 고용하는 형태다.
기술이 메인은 당연히 아니고, 대부분 어떤 컨텐츠를 만들어서 그걸로 수익을 내는 형태다.&lt;/p&gt;&lt;p&gt;아무튼 나는 이 리서치 클럽에 참여하여, 4주간 매일 운영진이 올려주는 아티클을 보며 이런저런 언섹시 비즈니스 케이스들을 접하고, 클럽 내 다른 사람들의 생각을 볼 수 있었다. 또 한 번의 오프라인 아이디어톤에도 참여했는데, 여러 1인 창업가분들과 구체적으로 아이디어로 어떻게 돈을 버는 것을 시작할 수 있는지에 대한 과정을 지켜볼 수 있었다.&lt;/p&gt;&lt;p&gt;꽤 놀라웠던 건 &amp;quot;언섹시 리서치 클럽&amp;quot;에 사람이 꽤 많았던 것이다. 4주에 20만 원짜리 커뮤니티를 이렇게나 많이 참여할 줄 몰랐다. 아티클 큐레이팅으로 사람을 모으고, 클럽을 만들어 사람들로부터 돈을 버니, 내가 참여하고 있는 이 클럽 자체가 언섹시 비즈니스로 보였으며, 운영진들이 꽤나 대단하다고 생각했다.&lt;/p&gt;&lt;p&gt;한편, 언섹시라는게 쉬워 보이지만 쉽지 않다는 것도 느꼈다. 아이디어톤에 참가헀을 때, 생각보다 아이디어가 잘 나오지 않았으며, 내 아이디어는 온통 플랫폼과 관련된 기술적인 것들이었다. 그러나 돈을 벌러면 플랫폼으로 시작할 게 아니라, 컨텐츠로 시작해야 한다는 생각이 강하게 들었고, 실제로 운영진들도 그렇게 이야기했다. 나는 누군가가 사줄만한 컨텐츠를 가지고 있나? 싶은데, 잘 모르겠다. 기술을 잘 하는 사람보다, 비즈니스 시야와 감각을 가진 사람들이 부럽기도 했다.&lt;/p&gt;&lt;p&gt;당장은 내가 언섹시한 비즈니스를 만들기는 어려울 거 같지만, 그래도 이런 경험을 통해 이쪽으로 눈이 조금 더 뜨일 수 있음에 만족한다. 기술 말고 비즈니스. 과연 나는 무엇을 팔 수 있을지, 어떻게 해야 나 스스로 돈을 벌 수 있을지 계속해서 고민해 봐야겠다.&lt;/p&gt;&lt;h2 id=&quot;내-생활들&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%82%B4-%EC%83%9D%ED%99%9C%EB%93%A4&quot; aria-label=&quot;내 생활들 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;내 생활들&lt;/h2&gt;&lt;h3 id=&quot;책&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%B1%85&quot; aria-label=&quot;책 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;책&lt;/h3&gt;&lt;p&gt;올해는 진짜 책을 안읽었다.
읽은 책은 그 때의 내 관심사를 보여준다 생각한다.
그냥 목록만 적어본다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://product.kyobobook.co.kr/detail/S000001804983&quot;&gt;팀 토폴로지&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://product.kyobobook.co.kr/detail/S000001033135&quot;&gt;DevOps와 SE를 위한 리눅스 커널 이야기&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://product.kyobobook.co.kr/detail/S000001810124&quot;&gt;실습과 그림으로 배우는 리눅스 구조&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://product.kyobobook.co.kr/detail/S000201419245&quot;&gt;Docs for Developers&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://product.kyobobook.co.kr/detail/S000203332747&quot;&gt;Core Kubernetes&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://product.kyobobook.co.kr/detail/S000210138053&quot;&gt;모던 리눅스 교과서&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:56.08108108108109%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAADB0lEQVQoz12SbUxTBxiF7xLnNNMZM5XIRxxDBUxItjTIHxOjwWU2GWZZmPHvjMYY8Qvj1CkasWF+kCxQYSUYnBPdEKYoCoKIFYuKZSu0YiqlvW2lpaNcaPVKS+/ts6zMPzvJ+Xme5LzvEWQgBARjCmOxGMZnz7j5yER7z2O8bjf5G/LR5H1O1qpM8nJzedn8C+8U/zc3NsaEJBEYHUWWZYRrz+3UmgdoEn3UvxjG7PPTMixify1js/xFaloa3xZuZkP+F2RmrcRWU4rnWhXO3/X4bl+iubGBe+13uXLpIvc72hH0tRfYWrSHk2fO8lNVNX6/n7fhMBFZxnC+krzVuRQWFrJRq2X9unVYW5t4M9SPZOulsUaP6HLhGHIw7HAw4vUiVNddZOf3h/n518s03mlFCo5hd3upvXWPmt+a0Gq15OTkoNFoKCgowO4UCckyD7qN6A0VKKpKZ8d1WpqbEmcQDpeeoqjkBLuPHGVX8QEe9L+g7ukg1/sGMZktLFqShPCekHBySjLhSYkbVy+gKznCoYP7MJp6+eobLZ1tfxAbCSKYLBYaWtvYtnc/mzZv4Xh9J85XAUwuNw0WG0uTU5gzfxYfLp5NxvIMnI4hfiw5QF1VOad1pRQVH+Xj1Gx6/rRAJIpwplLP9n3FnDhXToXBQHdvH3V3urjS0Y1nxEdGZjrzlnzAvKTZrFy1IgE8eXAX5aU/YKg4x3c79rMgKZ1O46OZyh1ON5ctz7nlEOkSvVzt6qOlZ4Ab1mHqH1tJz/qEZZqFLFu9kM/WZBOanKTtZiNndccxPzGxregQa7/8Gv/o6AwwpKpI/20x8EbG7vVj7n2K6BIJh0Msz05nzkezmLvgfVZkf0okEiUaieARXQSDQTZu2sKxU6fx+30zwOD4OAP9/VhHfDhfvyUQlBLv/zsQQJocJyllEYIgJJyWmoYkSUxPTyfCExMTWG2DGB8+xONxzwBVRSEajRKJxVDicRQlhqIoqKqaWH5lpR6dTkdZWRnV1VVMTU2hKirT0Sj/Vzwe5x8Hho4JUVNPaAAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;books&quot; title=&quot;books&quot; src=&quot;/blog/static/5b760a011277f5b0e832ea3f1c297328/fcda8/books.png&quot; srcSet=&quot;/blog/static/5b760a011277f5b0e832ea3f1c297328/12f09/books.png 148w,/blog/static/5b760a011277f5b0e832ea3f1c297328/e4a3f/books.png 295w,/blog/static/5b760a011277f5b0e832ea3f1c297328/fcda8/books.png 590w,/blog/static/5b760a011277f5b0e832ea3f1c297328/efc66/books.png 885w,/blog/static/5b760a011277f5b0e832ea3f1c297328/c83ae/books.png 1180w,/blog/static/5b760a011277f5b0e832ea3f1c297328/29114/books.png 1920w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;Kubernetes를 하다보니, 리눅스 이해가 좀 더 필요해서 리눅스 관련 책들을 특히 더 읽었던 거 같다.&lt;/p&gt;&lt;h3 id=&quot;애니&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%95%A0%EB%8B%88&quot; aria-label=&quot;애니 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;애니&lt;/h3&gt;&lt;p&gt;집콕 + 넷플릭스 덕에 이런저런 애니를 꽤나 본거 같다.
왓챠피디아에 적어둔 걸 보면서 정리해 보면 ...&lt;/p&gt;&lt;ul&gt;&lt;li&gt;스파이 패밀리 2기 : ⭐️⭐️⭐️&lt;/li&gt;&lt;li&gt;주술회전 2기: 회옥, 옥절, 시부야 사변편: ⭐️⭐️⭐️⭐️&lt;/li&gt;&lt;li&gt;주술회전: 극장판: ⭐️⭐️&lt;/li&gt;&lt;li&gt;귀멸의 칼날: 도공 마을편: ⭐️⭐️⭐️&lt;/li&gt;&lt;li&gt;진격의 거인: 파이널 시즌 3: ⭐️⭐️⭐️⭐️&lt;/li&gt;&lt;li&gt;도박묵시룩 카이지: 1기, 2기: ⭐️⭐️⭐️&lt;/li&gt;&lt;li&gt;카우보이 비밥: ⭐️⭐️⭐️⭐️⭐️&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;내 최애의 애니, 진격의 거인은 드디어 끝이 났고! 귀멸의 칼날은 뭔가 점점 재미 없어지고 있다.
스파이 패밀리는 생각 없이 보기 좋았고, 카이지는 지환이랑 같이 코인 놀이했던 시절 생각하며 낄낄거리며 봤다.&lt;/p&gt;&lt;p&gt;위 중 내가 고른 최고의 작품은 카우보이 비밥.
&lt;a href=&quot;https://www.youtube.com/watch?v=WKnVaDwUg5s&quot;&gt;주피터 재즈편 OST&lt;/a&gt;를 처음 들었을 때, 색소폰 소리가 이렇게 울림이 깊구나 싶었다.
많은 사람들이 명작이라 말하는 이유가 있다.
마지막 남은 2편은 아껴놓고 아직 안보고 있는데, 언젠가 금요일 새벽에 자기 직전에 봐야지.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:43.24324324324324%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAABxpAB/8QAFRABAQAAAAAAAAAAAAAAAAAAICH/2gAIAQEAAQUCi//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABUQAQEAAAAAAAAAAAAAAAAAACAx/9oACAEBAAY/Aqv/xAAaEAEAAQUAAAAAAAAAAAAAAAARAAEgMYHx/9oACAEBAAE/IThCjl1b/9oADAMBAAIAAwAAABBDD//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABsQAQEAAQUAAAAAAAAAAAAAAAERACAhMVHw/9oACAEBAAE/EPV4iIx3sxlZxo//2Q==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;cowboy bebop&quot; title=&quot;cowboy bebop&quot; src=&quot;/blog/static/25121a5df70792e9a56608e91fa9b021/1c72d/cowboy_bebop.jpg&quot; srcSet=&quot;/blog/static/25121a5df70792e9a56608e91fa9b021/a80bd/cowboy_bebop.jpg 148w,/blog/static/25121a5df70792e9a56608e91fa9b021/1c91a/cowboy_bebop.jpg 295w,/blog/static/25121a5df70792e9a56608e91fa9b021/1c72d/cowboy_bebop.jpg 590w,/blog/static/25121a5df70792e9a56608e91fa9b021/a8a14/cowboy_bebop.jpg 885w,/blog/static/25121a5df70792e9a56608e91fa9b021/fbd2c/cowboy_bebop.jpg 1180w,/blog/static/25121a5df70792e9a56608e91fa9b021/c58a3/cowboy_bebop.jpg 1500w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;심플하지만 어떤 엔딩보다 간지가 나는 엔딩.&lt;/em&gt;&lt;/p&gt;&lt;h3 id=&quot;러닝--수영&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%9F%AC%EB%8B%9D--%EC%88%98%EC%98%81&quot; aria-label=&quot;러닝  수영 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;러닝 &amp;amp; 수영&lt;/h3&gt;&lt;p&gt;오런고 프로젝트를 시작하면서, 러닝 크루에 참여해 매주 5km씩 뛰게 되었다.
안 뛰면 km당 1000원 벌금. 생각보다 이거 때문에 뛰게 된다.&lt;/p&gt;&lt;p&gt;처음엔 숨 허덕거리며 뛰어봐야 3km였는데, 매주 뛰다 보니 어느새 5km까지 안 쉬고 뛸 수 있게 되었다.
점점 거리와 페이스 줄여나가는 것, 그리고 내가 만든 앱을 다른 사람들과 함께 사용하며 다음 기능을 생각해 볼 수 있다는 것이 또 새로운 재미를 줬다.&lt;/p&gt;&lt;p&gt;9월부터는 수영을 시작했다.
러닝으로는 뭔가 운동량이 부족하다고 느꼈고, 무엇보다 재택 하는데 아침 시간을 잘 활용해 보고 싶었다.
그래서 아침 7시 수영 강습반을 등록했다.&lt;/p&gt;&lt;p&gt;다행히 매일 아침 6시 반에 꾸준히 잘 일어날 수 있었고, 하다 보니 어느새 접영까지 배우고 있다.
집 앞 5분 거리에 수영장이 있고 재택근무를 할 수 있는 게 새삼 행운이라고 생각이 들었다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:55.4054054054054%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB+UlEQVQoz22S22oaURSG9xzUcRwn2kSp0dHEWAo1II3R9KY0UqEP5aXP4o1vIPgOgqLijYiIp3qsx+qMf9nbjolNFyz2wLC+/f97/WS9XmM0+onJZIL5fI79fg9ah8Ph1NvtbySTj1A8BIrbgkuviruPfjgcMggh5z2dTlGr19Dr9dBqtTAejxnQMAx2LhYL/Jov8PX5CfdpgrvPCpwuG95rKi4uVIiieA7Ef4rCqDITSs9EIg5BIrA7RYRvI0gmviAQCEAQhHPgYDBAPp9Hu91GLpdj/dqyCYzH46ehUCiEWCwGVVXfWi6VSshkMigWi8hmsygUCifIa4UmkOO4E9Dtdr8F0kV0Oh22FPP9TIVm6WdAgmAwiGg0Ck3TwFPLHPcC3G63bCEmoN/vg26eVrfbxW63Y/8eHkzLHETRApskwS5JkG1WCNwrhbPZDJVKBZvNhoHq9RqWyyWzWS6XQS/UdR3p9Ddofhe8Hhk8fxyWVRfsVz4Qi/QCpKDxeMTyR9XQGJlbHg6HDKbvDTynEnh3RXBzY4Uk8cdhuwLiuwXx+M/fsNlsskGqrNFonGxWq1WsVivoho4fqe+IXF7jUygCp+xgw17VhftrDR98fliFv3mkyiiMFv2mFv+Nzd7QkXp8gp9wCIsOKOSYPZUTEeZlhHg7FO6Yxz+zvCST29/nDQAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;running swim&quot; title=&quot;running swim&quot; src=&quot;/blog/static/d7a400a14fc32ba48ef6832382d9cca1/fcda8/running_swim.png&quot; srcSet=&quot;/blog/static/d7a400a14fc32ba48ef6832382d9cca1/12f09/running_swim.png 148w,/blog/static/d7a400a14fc32ba48ef6832382d9cca1/e4a3f/running_swim.png 295w,/blog/static/d7a400a14fc32ba48ef6832382d9cca1/fcda8/running_swim.png 590w,/blog/static/d7a400a14fc32ba48ef6832382d9cca1/efc66/running_swim.png 885w,/blog/static/d7a400a14fc32ba48ef6832382d9cca1/c83ae/running_swim.png 1180w,/blog/static/d7a400a14fc32ba48ef6832382d9cca1/fc477/running_swim.png 2426w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;처음으로 5km 달린 날과, 애플 워치도 사고 수영한 날&lt;/em&gt;&lt;/p&gt;&lt;p&gt;아침 수영. 좋다.
수영으로 힘 다 빼고 집 오는 길에 아아 하나사들고, 집 와서 스터디 책 좀 읽다가 근무 시작하면,
이렇게 갓생을 사는구나 싶을 수가 없다.&lt;/p&gt;&lt;p&gt;2024년에도 계속해서 아침 수영과 저녁 러닝을 할 예정이다.&lt;/p&gt;&lt;h3 id=&quot;여행&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%97%AC%ED%96%89&quot; aria-label=&quot;여행 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;여행&lt;/h3&gt;&lt;h4 id=&quot;여기저기-리조트&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%97%AC%EA%B8%B0%EC%A0%80%EA%B8%B0-%EB%A6%AC%EC%A1%B0%ED%8A%B8&quot; aria-label=&quot;여기저기 리조트 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;여기저기 리조트&lt;/h4&gt;&lt;p&gt;내가 생각하는 회사 최고의 복지는 유명 리조트를 저렴하게 갈 수 있다는 건데, 부모님 모시고 여수, 태안, 그리고 속초에 있는 리조트에 다녀왔다.&lt;/p&gt;&lt;p&gt;봄. 아빠와 번갈아가며 운전해서 장장 6시간에 걸려 도착한 여수 벨메르 리조트.
호텔 조식은 처음인 엄마, 아빠.
비싸다고 사지 말라고 하더니, 결국 잘 드시고 매우 만족해하셨다.
다음에 또 조식 있는 호텔로 가고 싶으시다고...
이런 말 들을 때 회사 다니는 맛 난다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:100%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAMEBQL/xAAWAQEBAQAAAAAAAAAAAAAAAAACAAP/2gAMAwEAAhADEAAAAbnFaGOszyOfYBpEGf/EABoQAAMAAwEAAAAAAAAAAAAAAAECAwAREhP/2gAIAQEAAQUCZgKNRXXeE+oHSE2IyVGVqtwrUbr/xAAWEQEBAQAAAAAAAAAAAAAAAAAQARL/2gAIAQMBAT8ByQ//xAAXEQEAAwAAAAAAAAAAAAAAAAAQAREx/9oACAECAQE/AbJ0/8QAHBAAAgICAwAAAAAAAAAAAAAAAAECIRBBElFh/9oACAEBAAY/Ak/BqLvD6WxFwZx0yhn/xAAbEAEAAgMBAQAAAAAAAAAAAAABABExQWEhUf/aAAgBAQABPyFntFyAdaYi9VBAvB9gAKepmeJY5KUpzjHFAt71BH401P/aAAwDAQACAAMAAAAQnCd8/8QAGREAAgMBAAAAAAAAAAAAAAAAAAERITFR/9oACAEDAQE/EEzUl8MD0//EABgRAQADAQAAAAAAAAAAAAAAAAEAEBEx/9oACAECAQE/EEjlAxDk/8QAHRABAAIDAAMBAAAAAAAAAAAAAQARITFRYYGxwf/aAAgBAQABPxAQVqXtifs3+sF2ZJZ2HmGQtChq32MkxusDixswfIcEyrHBunpxjAYEbtumfs3psKNte5//2Q==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;travel 1&quot; title=&quot;travel 1&quot; src=&quot;/blog/static/a9130ea30218eb0d6615a8c347fbc993/1c72d/travel_1.jpg&quot; srcSet=&quot;/blog/static/a9130ea30218eb0d6615a8c347fbc993/a80bd/travel_1.jpg 148w,/blog/static/a9130ea30218eb0d6615a8c347fbc993/1c91a/travel_1.jpg 295w,/blog/static/a9130ea30218eb0d6615a8c347fbc993/1c72d/travel_1.jpg 590w,/blog/static/a9130ea30218eb0d6615a8c347fbc993/a8a14/travel_1.jpg 885w,/blog/static/a9130ea30218eb0d6615a8c347fbc993/fbd2c/travel_1.jpg 1180w,/blog/static/a9130ea30218eb0d6615a8c347fbc993/9568a/travel_1.jpg 3024w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;여수 벨메르에서 아침 조식. 부모님이 그렇게 좋아하셨다.&lt;/em&gt;&lt;/p&gt;&lt;p&gt;여름. 두 번째 간 곳은 태안의 아일랜드 리솜.
어머니가 옛날부터 꼭 한번 가보고 싶었다는 그곳인데, 이렇게 회사 복지로 가게 되었다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:100%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAQCAwX/xAAWAQEBAQAAAAAAAAAAAAAAAAABAgD/2gAMAwEAAhADEAAAAe25cpcjYl7kX6QT/8QAHBABAAIBBQAAAAAAAAAAAAAAAgEDEQAQEiEy/9oACAEBAAEFAqwYJ62EvEOYnnqj0Tk0mFV//8QAFxEAAwEAAAAAAAAAAAAAAAAAABAREv/aAAgBAwEBPwGGX//EABYRAQEBAAAAAAAAAAAAAAAAABIAEP/aAAgBAgEBPwFS3//EAB0QAAICAgMBAAAAAAAAAAAAAAABAhEhMRASIkH/2gAIAQEABj8CXhYslSSzx92Su7s2TY5dpWRbyz//xAAcEAACAwEAAwAAAAAAAAAAAAABEQAhMWFBUZH/2gAIAQEAAT8htoJA12DUAGAOCXH3TIACHSuRff7CeFClUMgiNox5ZPM//9oADAMBAAIAAwAAABCg4P3/xAAXEQEAAwAAAAAAAAAAAAAAAAABABAR/9oACAEDAQE/EF21n//EABkRAAEFAAAAAAAAAAAAAAAAAAABEBFBcf/aAAgBAgEBPxBIUZf/xAAdEAEBAAIDAAMAAAAAAAAAAAABEQAhMUFRcaGx/9oACAEBAAE/EECejp5HeAteUAHh5lbyY4i9sjm77yMOdlrTwwQ+lh/M09VAkHwGCalQR0dJk8QamXadZ//Z&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;travel 2&quot; title=&quot;travel 2&quot; src=&quot;/blog/static/d564861fd4491a9264d019900dcd5c17/1c72d/travel_2.jpg&quot; srcSet=&quot;/blog/static/d564861fd4491a9264d019900dcd5c17/a80bd/travel_2.jpg 148w,/blog/static/d564861fd4491a9264d019900dcd5c17/1c91a/travel_2.jpg 295w,/blog/static/d564861fd4491a9264d019900dcd5c17/1c72d/travel_2.jpg 590w,/blog/static/d564861fd4491a9264d019900dcd5c17/a8a14/travel_2.jpg 885w,/blog/static/d564861fd4491a9264d019900dcd5c17/fbd2c/travel_2.jpg 1180w,/blog/static/d564861fd4491a9264d019900dcd5c17/9568a/travel_2.jpg 3024w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;날씨가 조금 우중충했지만, 그것 나름대로 운치가 있었다.&lt;/em&gt;&lt;/p&gt;&lt;p&gt;사실 나도 갔다가 다음에 또 오고 싶어서, 회원권 가격을 알아봤는데...
음 리조트 회원권이 이렇게 비싸구나.. 처음 알았다.
동시에 돈 많이 벌어야겠다는 또 하나의 동기가 생겼다.&lt;/p&gt;&lt;p&gt;마지막으로, 겨울에 갔던 속초, 소노펠리체 리조트.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:100%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAEEBQL/xAAYAQACAwAAAAAAAAAAAAAAAAADBAABAv/aAAwDAQACEAMQAAABszncXNNBNjHkKKwMk//EABwQAAEEAwEAAAAAAAAAAAAAAAEAAhESAyExQf/aAAgBAQABBQKWqWqjSi2DbeHePq9YTX//xAAYEQACAwAAAAAAAAAAAAAAAAAAARATMf/aAAgBAwEBPwGsWT//xAAYEQACAwAAAAAAAAAAAAAAAAAAARATIf/aAAgBAgEBPwG0b2f/xAAZEAADAAMAAAAAAAAAAAAAAAAAATEQETL/2gAIAQEABj8CpSI7LsWaz//EABwQAAMBAAIDAAAAAAAAAAAAAAABESFBYVFxgf/aAAgBAQABPyHWSdcbdt2TW8PmGITfGDXFabosZLwL4V6Z/9oADAMBAAIAAwAAABAQJ0H/xAAXEQEBAQEAAAAAAAAAAAAAAAABIQAQ/9oACAEDAQE/EEDcI7//xAAYEQEAAwEAAAAAAAAAAAAAAAABABEhEP/aAAgBAgEBPxC6ZHtxNn//xAAfEAEAAgEDBQAAAAAAAAAAAAABABEhMUFRcYGRocH/2gAIAQEAAT8QSbNOWAfOLXZdmsNrWA277wSUo9mtxU6vI+Y5i2ab6QgAC2CCAC7pAJ//2Q==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;travel 3&quot; title=&quot;travel 3&quot; src=&quot;/blog/static/cebe06ed30b8f0095c6286198b62d80f/1c72d/travel_3.jpg&quot; srcSet=&quot;/blog/static/cebe06ed30b8f0095c6286198b62d80f/a80bd/travel_3.jpg 148w,/blog/static/cebe06ed30b8f0095c6286198b62d80f/1c91a/travel_3.jpg 295w,/blog/static/cebe06ed30b8f0095c6286198b62d80f/1c72d/travel_3.jpg 590w,/blog/static/cebe06ed30b8f0095c6286198b62d80f/a8a14/travel_3.jpg 885w,/blog/static/cebe06ed30b8f0095c6286198b62d80f/fbd2c/travel_3.jpg 1180w,/blog/static/cebe06ed30b8f0095c6286198b62d80f/9568a/travel_3.jpg 3024w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;거실에서 보이던 울산 바위.&lt;/em&gt;&lt;/p&gt;&lt;p&gt;다행히 일정 내내 날씨가 좋아서, 멋진 울산 바위, 그리고 금강산도 멀찍이서 볼 수 있었다.&lt;/p&gt;&lt;p&gt;지금 보니, 북을 제외한 동, 서, 남 다 갔구나.
이제 부모님이 나이가 있으시니, 어디 돌아다니는 여행보다 이런 리조트 여행이 더 좋은 거 같다.&lt;/p&gt;&lt;p&gt;시간이 흐른다.
부모님과 같이 여행 갈 수 있을 때, 최대한 많이 가야지.&lt;/p&gt;&lt;h4 id=&quot;목포&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%AA%A9%ED%8F%AC&quot; aria-label=&quot;목포 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;목포&lt;/h4&gt;&lt;p&gt;여름, 맛있는 게 참 많다던 목포에 갔다 왔다.
나 혼자 산다에 나왔던 식당들도 가보고, 쏘카 차량을 빌려 여기저기 섬에도 다녀왔다.
특히 아무 기대 없이 천사 대교를 넘어가던 그 장면은 너무 아름다웠다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:100%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAQCBQH/xAAVAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAAB3TD5cdBCHlaIaBR//8QAGRAAAgMBAAAAAAAAAAAAAAAAAAECEiEQ/9oACAEBAAEFAo4KT5YuXYmOTFq//8QAFREBAQAAAAAAAAAAAAAAAAAAESD/2gAIAQMBAT8BI//EABYRAQEBAAAAAAAAAAAAAAAAAAERIP/aAAgBAgEBPwFbj//EABgQAAIDAAAAAAAAAAAAAAAAAAAxARAR/9oACAEBAAY/AtFAh072T//EABoQAQEBAQADAAAAAAAAAAAAAAERACEQMXH/2gAIAQEAAT8hFEV3RcDPQyuWPjmWK3wUTq8yA7iCFXrv/9oADAMBAAIAAwAAABC3573/xAAXEQEAAwAAAAAAAAAAAAAAAAABABAR/9oACAEDAQE/EBExv//EABgRAAIDAAAAAAAAAAAAAAAAAAABEBEh/9oACAECAQE/EE6Ln//EAB8QAQACAgICAwAAAAAAAAAAAAEAESExQVFxgaHB4f/aAAgBAQABPxCvGDzqYAvebg2rjnDUK2Rw4H1K0rhKtfL8i/Q2ZdkX3IKHqmEYPYr9eJ//2Q==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;travel 4&quot; title=&quot;travel 4&quot; src=&quot;/blog/static/685db68604ccb9b9ad24f05c0f78a8b6/1c72d/travel_4.jpg&quot; srcSet=&quot;/blog/static/685db68604ccb9b9ad24f05c0f78a8b6/a80bd/travel_4.jpg 148w,/blog/static/685db68604ccb9b9ad24f05c0f78a8b6/1c91a/travel_4.jpg 295w,/blog/static/685db68604ccb9b9ad24f05c0f78a8b6/1c72d/travel_4.jpg 590w,/blog/static/685db68604ccb9b9ad24f05c0f78a8b6/a8a14/travel_4.jpg 885w,/blog/static/685db68604ccb9b9ad24f05c0f78a8b6/fbd2c/travel_4.jpg 1180w,/blog/static/685db68604ccb9b9ad24f05c0f78a8b6/9568a/travel_4.jpg 3024w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;남쪽은 날씨마저도 참 한적하고 조용한 거 같다.&lt;/em&gt;&lt;/p&gt;&lt;p&gt;사실 내가 직접 쏘카 차량을 빌리는 건 처음이었는데, 빌리기 전날 밤, 주차하다가 사고 날까 봐 유튜브에서 주차 잘하는 법을 내내 봤다. 그리고 생각보다 영상을 본 효과가 있었다!&lt;/p&gt;&lt;p&gt;쏘카에서 근무할 때는 사실 쏘카 못 타서(운전면허가 없었음) 잘 몰랐는데, 사용해 보니, 쏘카 최고다.&lt;/p&gt;&lt;h4 id=&quot;제주도&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%A0%9C%EC%A3%BC%EB%8F%84&quot; aria-label=&quot;제주도 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;제주도&lt;/h4&gt;&lt;p&gt;친한 대학 동기 2인방 상협이, 경호 형과 제주도 갔다왔다.
이렇게 여행가면 늘 느끼는데, 친구들과 이렇게 뭐든 할 수 있는게 너무 좋다. (이제 다들 돈 버니까!)&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:100%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQADAAAAAAAAAAAAAAAAAAQBAgX/xAAWAQEBAQAAAAAAAAAAAAAAAAACAwH/2gAMAwEAAhADEAAAAadoc6LXNLAnSsSX/8QAGhABAAMBAQEAAAAAAAAAAAAAAQACESEDEP/aAAgBAQABBQLT5k6G8fTG92xGpP/EABYRAQEBAAAAAAAAAAAAAAAAABIAEP/aAAgBAwEBPwEQ3//EABcRAAMBAAAAAAAAAAAAAAAAAAABExD/2gAIAQIBAT8Bsiu//8QAGRAAAwADAAAAAAAAAAAAAAAAABAxAhEy/9oACAEBAAY/AqUqmzlYL//EABsQAAICAwEAAAAAAAAAAAAAAAABESExUWGB/9oACAEBAAE/IRZwhMNSHK6LWoKgZRE6XBV6ZKP/2gAMAwEAAgADAAAAEOj4PP/EABkRAAIDAQAAAAAAAAAAAAAAAABBARARcf/aAAgBAwEBPxDUs7HX/8QAGBEAAwEBAAAAAAAAAAAAAAAAAAEREEH/2gAIAQIBAT8QXREEUz//xAAfEAEBAAEEAgMAAAAAAAAAAAABEQAhMUFhcZGBocH/2gAIAQEAAT8Q1gk+cjwPSZ0PeNlgNTpjN1CbdVOMXIuuz3PzJgAWCDiQNyk8sfrFcj1n/9k=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;travel 5&quot; title=&quot;travel 5&quot; src=&quot;/blog/static/cfee1046c510bead26c755776a81d001/1c72d/travel_5.jpg&quot; srcSet=&quot;/blog/static/cfee1046c510bead26c755776a81d001/a80bd/travel_5.jpg 148w,/blog/static/cfee1046c510bead26c755776a81d001/1c91a/travel_5.jpg 295w,/blog/static/cfee1046c510bead26c755776a81d001/1c72d/travel_5.jpg 590w,/blog/static/cfee1046c510bead26c755776a81d001/a8a14/travel_5.jpg 885w,/blog/static/cfee1046c510bead26c755776a81d001/fbd2c/travel_5.jpg 1180w,/blog/static/cfee1046c510bead26c755776a81d001/9568a/travel_5.jpg 3024w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;셋이 찍은 사진이 진짜 없네.&lt;/em&gt;&lt;/p&gt;&lt;p&gt;셋 다 IT 서비스 회사에 다녀서 그런지 휴가도 쉽게 쓸 수 있었고, 차 안에서 컴공 개그도 주고받기가 가능했다.
그리고 확실히 쉴 땐 쉬어줘야 일도 잘할 수 있는 거 같다.&lt;/p&gt;&lt;h4 id=&quot;후쿠오카&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%ED%9B%84%EC%BF%A0%EC%98%A4%EC%B9%B4&quot; aria-label=&quot;후쿠오카 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;후쿠오카&lt;/h4&gt;&lt;p&gt;내 인생 첫 일본 여행을 갔다.
일본 항공권 지금 싸다는 소문을 듣고, 그 주 주말에 후쿠오카로 출발하는 항공권을 바로 예약했다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:100%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAMEAv/EABYBAQEBAAAAAAAAAAAAAAAAAAECAP/aAAwDAQACEAMQAAABp1gVG9kZl2SzDv/EABwQAAIBBQEAAAAAAAAAAAAAAAABExAREiExIv/aAAgBAQABBQLMkJBXE9+lTqff/8QAFREBAQAAAAAAAAAAAAAAAAAAESD/2gAIAQMBAT8BI//EABURAQEAAAAAAAAAAAAAAAAAABEg/9oACAECAQE/AWP/xAAZEAABBQAAAAAAAAAAAAAAAAAQAAEgMUH/2gAIAQEABj8CFLIMP//EABwQAAMBAAIDAAAAAAAAAAAAAAABESEx8FGRof/aAAgBAQABPyHrSfH070warPhMlM2jbonno4WYXVpngf/aAAwDAQACAAMAAAAQL+dA/8QAFhEAAwAAAAAAAAAAAAAAAAAAABAR/9oACAEDAQE/EBH/AP/EABcRAQADAAAAAAAAAAAAAAAAAAABEBH/2gAIAQIBAT8QdqH/xAAgEAEAAgIBBAMAAAAAAAAAAAABABEhMWFBUXGxgZHh/9oACAEBAAE/EAmcfaIBs8wCurx+YsYF4HvtBtVKFTDzLknYR9JdaBaxNDA4pNZjKAfNs//Z&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;travel 6&quot; title=&quot;travel 6&quot; src=&quot;/blog/static/92e3fc5e33a2284a7209dba489bc87c4/1c72d/travel_6.jpg&quot; srcSet=&quot;/blog/static/92e3fc5e33a2284a7209dba489bc87c4/a80bd/travel_6.jpg 148w,/blog/static/92e3fc5e33a2284a7209dba489bc87c4/1c91a/travel_6.jpg 295w,/blog/static/92e3fc5e33a2284a7209dba489bc87c4/1c72d/travel_6.jpg 590w,/blog/static/92e3fc5e33a2284a7209dba489bc87c4/a8a14/travel_6.jpg 885w,/blog/static/92e3fc5e33a2284a7209dba489bc87c4/fbd2c/travel_6.jpg 1180w,/blog/static/92e3fc5e33a2284a7209dba489bc87c4/9568a/travel_6.jpg 3024w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;후쿠오카 타워에서 찍었던 도심 사진.&lt;/em&gt;&lt;/p&gt;&lt;p&gt;유명하다던 이찌란 라멘도 먹고, 후쿠오카 타워도 가고, 시외 가라쓰 해변에 있는 숙소의 야외 노천탕도 가보고...
일본 관광 산업이 이렇게 발전되어 있는지 이번에 처음 알았다.&lt;/p&gt;&lt;p&gt;일본 여행 또 갈 거다.
다음엔 도쿄 아니면 오사카다!&lt;/p&gt;&lt;h2 id=&quot;정리&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%A0%95%EB%A6%AC&quot; aria-label=&quot;정리 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;정리&lt;/h2&gt;&lt;p&gt;몇 마디로 회고를 정리를 하려고 해봤는데... 모르겠다.&lt;/p&gt;&lt;p&gt;조금 답답했던 재택근무도 이제는 편안해지고, 일하는 데 크게 걸리는 게 없는걸 보니 회사에는 어느 정도 적응한 거 같다.
기술적인 성장은 이전보다 많이 느려지고 솔직히 체감도 잘 안되지만, 일하면 할수록 백 투 더 기본기로 향하게 된다.
내가 기본기가 부족하다는 생각이 들어서 그럴까.&lt;/p&gt;&lt;p&gt;기술 외적으로도 중요한 게 많이 있으며, 특히 비즈니스에 대한 이해와 기여를 내가 더 중요시하게 여긴다는 생각을 하게 되었고,
그래서 나는 어떤 엔지니어가 되고 싶은지에 대한 생각을 더 하게 된다.
물론 명확한 답은 못 내렸다.&lt;/p&gt;&lt;p&gt;확실한 건 신입 때보다 내가 커리어를 바라보는 관점이 많이 달라졌으며,
막상 어느 회사 면접에 들어가면 내가 회사에 물어볼 질문부터 달라져있을 거 같다.&lt;/p&gt;&lt;p&gt;지속적으로 일하고 건강하기 위해 운동은 계속해서 해야겠다.
이전보다 술 약속은 줄이고, 차라리 집에서 애니 보는 시간을 늘려야겠다.
(사실 나이 먹어가니 자연스레 술 약속이 줄어드는 거 같기도 하다.)&lt;/p&gt;&lt;p&gt;올해 책을 진짜 안 읽었는데, 2024년에는 사내 스터디 통해서 강제로라도 많이 읽어야겠다.&lt;/p&gt;&lt;p&gt;여전히 장기적인 계획, 목표는 마찬가지로 잘 모르겠다.
2023년, 내가 열심히 살았느냐 하면, 그렇다고 말 못 하겠다.
일단 열심히부터 살아야겠다.
그게 만족이 되면, 그다음에 또 생각해 봐야지.&lt;/p&gt;&lt;p&gt;2024년, 나 자신 화이팅.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[2022년 회고]]></title><description><![CDATA[귀찮지만, 연말에 회고는 해야 한다.
내용이 구릴거 같아도 아무튼 해야 한다. KPT나 3L…]]></description><link>https://heumsi.github.io/blog/posts/retrospective-2022/</link><guid isPermaLink="false">https://heumsi.github.io/blog/posts/retrospective-2022/</guid><pubDate>Sat, 31 Dec 2022 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;귀찮지만, 연말에 회고는 해야 한다.
내용이 구릴거 같아도 아무튼 해야 한다.&lt;/p&gt;&lt;p&gt;KPT나 3L 같은 회고 방식은 안 쓰겠다.
그저 생각나는 것들 위주로, 의식의 흐름대로 그냥 &amp;quot;적기&amp;quot;만 할 것이다.
이번 회고는 최소한으로 적어두고, 즐거웠구나, 그랬구나 정도로 만족하려 한다.&lt;/p&gt;&lt;p&gt;올해 1월부터, 지금 글을 작성하는 시점인 12월까지 하나씩 떠올려본다. &lt;/p&gt;&lt;h2 id=&quot;airflow-튜토리얼-문서를-작성했다&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#airflow-%ED%8A%9C%ED%86%A0%EB%A6%AC%EC%96%BC-%EB%AC%B8%EC%84%9C%EB%A5%BC-%EC%9E%91%EC%84%B1%ED%96%88%EB%8B%A4&quot; aria-label=&quot;airflow 튜토리얼 문서를 작성했다 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Airflow 튜토리얼 문서를 작성했다.&lt;/h2&gt;&lt;p&gt;1월부터 3월까지, &lt;a href=&quot;https://airflow.apache.org/&quot;&gt;Airflow&lt;/a&gt; 공식 문서를 보고 &lt;a href=&quot;https://heumsi.github.io/apache-airflow-tutorials-for-beginner/&quot;&gt;튜토리얼 가이드 문서&lt;/a&gt;를 작성했다.
회사에서 주로 다뤘던 Airflow에 대한 기초 지식을 어딘가에 정리하고 싶었다.&lt;/p&gt;&lt;p&gt;사실 Airflow에 대한 이미 훌륭한 가이드나 강의가 많긴 했지만, 역사 교과서를 노트에 필사하며 외우듯이 직접 작성하고 싶었다.
Airflow 공식 문서의 내용은 꽤 방대한데, 이 중에서 우리 팀에 신입이 들어온다면 이 정도는 알면 좋겠다 싶은 내용들 위주로 작성했다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:57.432432432432435%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABnUlEQVQoz62Rz0obURTG5y18CMEg6QzjQlGXRWwfQxChuHLryp07cSVZla4tdSekmSpiFintppnBmdw49yaZjA2hqJjmnvOVGzOSYEQpHvi4f75zf+dwrjU7M/1hYXG+8m51pbi0vOTZjuO5ruvZtj2Q4855b9w5L5/PDzwnu3ech9V13a+27ZRzudx7yzs7KwRhCCEELsIIUU1AKQUZx5CqgcvAhwoDtNMUKo4RSwk5otjkSQkh6jg5Pd20ut3uHu7jDoB+pOuuvtnZ1kfff+jKJP9ePQOQUq5brVZrn5lBRH0iYiKCOfc1DXKLdWBq9xMWjj8iYQBM0EQmPxMzs9ZaIwzDDStJkn1DZ+a+cYZ7EJkt4bwGHIif2AoKuO3dIPOzdfhGG3gURZOBpppqJlDNNhrNBv7+vkaqOhCqiXqs0L7qvBw4Vh1smsRRrYJv8tcoZLTLZ4FjYaygo/jyT8rD92PeJODesOKdGe4kZb9JT/jM3DNjiqJo3UrTtIBXCiHEplUul9eCICj6vn/o+/6X/9TnarV6XCqV3v4D+ooGZNjbdoUAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;1.png&quot; title=&quot;1.png&quot; src=&quot;/blog/static/6f57d1aa852c0abfdda2155db7fd2b9c/fcda8/1.png&quot; srcSet=&quot;/blog/static/6f57d1aa852c0abfdda2155db7fd2b9c/12f09/1.png 148w,/blog/static/6f57d1aa852c0abfdda2155db7fd2b9c/e4a3f/1.png 295w,/blog/static/6f57d1aa852c0abfdda2155db7fd2b9c/fcda8/1.png 590w,/blog/static/6f57d1aa852c0abfdda2155db7fd2b9c/efc66/1.png 885w,/blog/static/6f57d1aa852c0abfdda2155db7fd2b9c/c83ae/1.png 1180w,/blog/static/6f57d1aa852c0abfdda2155db7fd2b9c/efb68/1.png 2032w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;추후에 작성한 다른 문서들도 그렇지만, 누군가에게 보여주기 위한 문서라기보다는, 그냥 내가 공부한 걸 정리한 노트가 되었다.
난 이런 식으로 학습하는 걸 좋아하나 보다.&lt;/p&gt;&lt;p&gt;아직 미완성된 부분은 있지만, 그냥 퍼블리싱 했다.
미완성된 부분은, 내가 나중에 Airflow 더 다루게 되는 날이 오면, 그때마저 적어 넣어야겠다고 생각했다.
그때가 되면, 레퍼런스 모음 문서도 만들어볼 생각은 있다.&lt;/p&gt;&lt;h2 id=&quot;쏘카에서-일하며-느낀-몇가지&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%8F%98%EC%B9%B4%EC%97%90%EC%84%9C-%EC%9D%BC%ED%95%98%EB%A9%B0-%EB%8A%90%EB%82%80-%EB%AA%87%EA%B0%80%EC%A7%80&quot; aria-label=&quot;쏘카에서 일하며 느낀 몇가지 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;쏘카에서 일하며 느낀 몇가지&lt;/h2&gt;&lt;p&gt;4월까지 쏘카에서 무탈하게 일했다.
뭘 했는지는 지금은 기억이 잘 나지 않는데, 떠오르는 몇 가지의 단편적인 것들만 적어보면 이렇다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;비즈니스 분석가인 셀라나 키노를 보니, 꼭 에어플로우 같은 워크플로우 툴이 아니더라도, 구글 스프레드시트로도 데이터 오퍼레이션 파이프라인을 만들 수 있음을 알았다.&lt;ul&gt;&lt;li&gt;정교함이나 스케일적으로는 한계가 있겠지만, 비즈니스 초기나 스프레드시트가 편한 비즈니스 담당자들에게는 에어플로우 같은 것 보다 구글 스프레드시트가 더 훌륭한 도구일 수 있겠다 싶었다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;업무의 가시화는 너무나도 중요하다. 과연 우리는 2주 전보다 더 나아졌는가? 어떻게 알 수 있을까?&lt;ul&gt;&lt;li&gt;정성적인 회고를 넘어서, 그래서 나아졌는지에 대한 정량적인 결과를 알고 싶다.&lt;/li&gt;&lt;li&gt;데이터 관련 팀인데, 우리가 일하는 방식은 데이터를 기반으로 하여 효율적으로 일하고 있는 걸까?&lt;/li&gt;&lt;li&gt;지표를 기반으로 현재 우리가 일하는 퍼포먼스를 측정하고 개선하는 것에도 노력을 기울이면 좋겠다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;열심히 일하는 것도 중요하지만, 팀원들이 효율적으로 소통할 수 있는 프로토콜이 중요하다.&lt;ul&gt;&lt;li&gt;특히 조직이 커 갈수록 이 차이가 급격하게 벌어지는거 같다.&lt;/li&gt;&lt;li&gt;그런 점에서 템플릿, 컨벤션, 문서화, 라벨링은 중요하다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;특히 위에서 느낀 몇 가지는 계속해서 내 마음속에 이슈로 남아, 누군가와 이야기할 때 자주 꺼내는 토픽이 되었다.&lt;/p&gt;&lt;h2 id=&quot;이직-과정-중-여러-사람들을-만났다&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%9D%B4%EC%A7%81-%EA%B3%BC%EC%A0%95-%EC%A4%91-%EC%97%AC%EB%9F%AC-%EC%82%AC%EB%9E%8C%EB%93%A4%EC%9D%84-%EB%A7%8C%EB%82%AC%EB%8B%A4&quot; aria-label=&quot;이직 과정 중 여러 사람들을 만났다 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;이직 과정 중 여러 사람들을 만났다.&lt;/h2&gt;&lt;p&gt;쏘카에서 만 2년 정도를 채우고, 회사를 떠나게 되었다.
3월 중순부터 타 회사에 입사 지원을 넣었으며, 4월 퇴사 및 이직을 확정하게 되었다.&lt;/p&gt;&lt;p&gt;이 과정 중에 내 인생에서 처음으로 다음의 경험들을 해보게 되었다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;팀장님에게 &amp;quot;저 다음 달에 회사를 떠날 거 같아요&amp;quot;라고 말한 일.&lt;/li&gt;&lt;li&gt;팀원들과 소주를 주고받으며, 합격한 회사와 과정, 그리고 고민을 털어놓은 일&lt;/li&gt;&lt;li&gt;여태껏 퇴사한 분들처럼, 나도 사내 여럿 분들과 점심 그리고 티타임 하며 서로의 커리어 계획을 이야기한 일&lt;/li&gt;&lt;li&gt;처음으로 꽤 많은 회사의 면접에 들어가고, 면접으로 탈탈 털리기도, 재밌기도 했던 일&lt;/li&gt;&lt;li&gt;합격한 회사들에 자신 있게 희망 연봉 메일을 적어보낸 일&lt;/li&gt;&lt;li&gt;여러 면접과 티타임을 하며 세상에 참 좋은 엔지니어 분들이 많고, 이 업계로 잘 왔다고 느낀 일&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&amp;quot;착하고 겸손하게 살아야겠다&amp;quot;와 &amp;quot;다음 이직까지 부끄럽지 않게 열심히 내공을 다져야겠다&amp;quot;라는 생각이 들었다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:100%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAMEBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHnNiKKJac4NYP/xAAcEAACAgIDAAAAAAAAAAAAAAABAgMhABIQERP/2gAIAQEAAQUC8zmrjIi+iyIT1dcSSMClr//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABURAQEAAAAAAAAAAAAAAAAAABAB/9oACAECAQE/ASH/xAAdEAADAAEFAQAAAAAAAAAAAAAAAREhAiIxQVGB/9oACAEBAAY/AjF+G7U6SMxXekeHBhwTP//EABsQAAMAAgMAAAAAAAAAAAAAAAABESFBMVFx/9oACAEBAAE/IY9Wm/RiDGGLxMcPWgjgVqzwxpPDQ0wdGWctVn//2gAMAwEAAgADAAAAEAQogf/EABYRAQEBAAAAAAAAAAAAAAAAABABIf/aAAgBAwEBPxDCn//EABkRAAEFAAAAAAAAAAAAAAAAAAABECExQf/aAAgBAgEBPxCdFLN//8QAHRABAAICAwEBAAAAAAAAAAAAAQARIUExUYFx8P/aAAgBAQABPxCphVg8x4oNpL9hMuGxS+ZhKum95f3cekbD0H2MSa2CMKsS+pkE8rxeUjev42z/2Q==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;2.jpg&quot; title=&quot;2.jpg&quot; src=&quot;/blog/static/84f2109eacf8a1ae4311cac39c77d2f2/1c72d/2.jpg&quot; srcSet=&quot;/blog/static/84f2109eacf8a1ae4311cac39c77d2f2/a80bd/2.jpg 148w,/blog/static/84f2109eacf8a1ae4311cac39c77d2f2/1c91a/2.jpg 295w,/blog/static/84f2109eacf8a1ae4311cac39c77d2f2/1c72d/2.jpg 590w,/blog/static/84f2109eacf8a1ae4311cac39c77d2f2/a8a14/2.jpg 885w,/blog/static/84f2109eacf8a1ae4311cac39c77d2f2/fbd2c/2.jpg 1180w,/blog/static/84f2109eacf8a1ae4311cac39c77d2f2/9568a/2.jpg 3024w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;잘 가라며 나에게 법규를 날려주는 쏘카 팀원들. 난 이 사진이 왜 이렇게 좋은지.&lt;/em&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;퇴사와 이직에 관한 글은 이전에 블로그 아래에 적어두었다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://heumsi.github.io/blog/posts/goodbye-socar/&quot;&gt;나의 첫 회사, 쏘카를 떠나며 쓰는 회고&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://heumsi.github.io/blog/posts/my-first-job-change/&quot;&gt;나의 첫 번째 이직 회고&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;비교적 생생한 그때 느낌이 글에 녹아있다. 역시 회고는 적어두면 이득이다.&lt;/p&gt;&lt;/blockquote&gt;&lt;h2 id=&quot;한-달간-푹-쉬었다&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%ED%95%9C-%EB%8B%AC%EA%B0%84-%ED%91%B9-%EC%89%AC%EC%97%88%EB%8B%A4&quot; aria-label=&quot;한 달간 푹 쉬었다 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;한 달간 푹 쉬었다.&lt;/h2&gt;&lt;p&gt;쏘카에서 퇴사하고 다음 회사 입사일까지 5월 한 달을 여유있게 쉬었다.&lt;/p&gt;&lt;p&gt;한 달 동안 다음의 것들을 했다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Python으로 REST API 서버 만들었다.&lt;/li&gt;&lt;li&gt;블로그를 옮겼다.&lt;/li&gt;&lt;li&gt;운전 면허를 땄다.&lt;/li&gt;&lt;li&gt;일주일간 내일로 여행을 다녀왔다.&lt;/li&gt;&lt;/ul&gt;&lt;h3 id=&quot;python으로-rest-api-서버-만들었다&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#python%EC%9C%BC%EB%A1%9C-rest-api-%EC%84%9C%EB%B2%84-%EB%A7%8C%EB%93%A4%EC%97%88%EB%8B%A4&quot; aria-label=&quot;python으로 rest api 서버 만들었다 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Python으로 REST API 서버 만들었다.&lt;/h3&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/heumsi/python-rest-api-server-101&quot;&gt;Python으로 REST API 서버 만들기&lt;/a&gt;는 게시판 API 서버 하나를 만들더라도, 차근차근 잘 만들어보자는 생각으로 시작한 거였다.
싱글 모듈로 시작해서, 레이어드 아키텍처, 모듈 분리와 프로젝트 구조, Hateoas 그리고 API 버저닝을 고려한 RESTful API 서버를 만들어나가는 과정을 담고 싶었다.
누구나 이 과정을 거치면 기본적인 CRUD 설계와 응용은 잘 할 수 있을 거란 생각이 들었다.&lt;/p&gt;&lt;p&gt;코드는 다 완성했는데, 문서는 다 작성을 못했다.
문서 초기 부분을 작성하다가, 어느 순간 힘이 빠져서, 그냥 퍼블리싱 안 한 채로 두게 되었다.&lt;/p&gt;&lt;p&gt;결국 누군가에게 설명하고자 하는 본래 목적을 달성하지는 못했지만, 나름대로 차근차근 만들어나가며 패턴을 잡은 걸로 만족한다.
이것도 나중에 생각이 나면 미완성된 문서를 더 작성하지 않을까 싶다.&lt;/p&gt;&lt;h3 id=&quot;블로그를-옮겼다&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%B8%94%EB%A1%9C%EA%B7%B8%EB%A5%BC-%EC%98%AE%EA%B2%BC%EB%8B%A4&quot; aria-label=&quot;블로그를 옮겼다 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;블로그를 옮겼다.&lt;/h3&gt;&lt;p&gt;취업 준비 시절 때부터 쓰던 &lt;a href=&quot;https://dailyheumsi.tistory.com/&quot;&gt;티스토리 블로그&lt;/a&gt;를 마무리짓고, &lt;a href=&quot;https://heumsi.github.io/blog/&quot;&gt;Github로 블로그를 옮겼다.&lt;/a&gt;
언젠가 해야지 해야지 했던 건데, 푹 쉬는 시즌에 아주 즐겁게 할 수 있었다.
나의 홈페이지를 꾸미는 건 어릴 때에도 그렇고 지금도 역시 즐겁다.&lt;/p&gt;&lt;p&gt;블로그를 옮긴 이유는, 티스토리에 더 이상 묶여있고 싶지 않아서였다.
디자인도, 글을 쓰는 방식도, 데이터도 모두 특정 플랫폼에서 벗어나고 싶었다.
옮겨온 지금. 아주 만족한다.&lt;/p&gt;&lt;p&gt;쏘카에서 기술 블로그를 관리할 때 &lt;a href=&quot;https://jekyllrb.com/&quot;&gt;Jekyll&lt;/a&gt;을 썼어서, 내 블로그도 Jekyll을 쓰는 것이 나쁘지는 않겠다 싶었는데,
결국에는 Jekyll을 쓰지 않고 &lt;a href=&quot;https://www.gatsbyjs.com/&quot;&gt;Gatsby&lt;/a&gt;를 썼다.
이유는, 이럴 때 아니면 언제 Gatsby 쓸까 싶어서였다.
Gatsby라는 비교적 쉬운 난이도로 GraphQL과 React를 조금이라도 맛볼 수 있으니, 시간이 조금 걸리더라도 익히는 재미나 보람은 충분하다고 생각했다.&lt;/p&gt;&lt;p&gt;&amp;quot;일단 플랫폼 따지지 말고, 공부한 내용 정리해두자!&amp;quot;라는 생각으로 시작했던 티스토리 블로그.
내 취업 준비 시절의 고민과 생각들, 첫 회사에서의 경험과 느낀점이 그대로 다 남겨져 있어서 아주 아련하다.
어릴적 일기장 마냥. 과거의 기억을 그대로 간직한채 보관해두려 한다.&lt;/p&gt;&lt;h3 id=&quot;운전-면허를-땄다&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%9A%B4%EC%A0%84-%EB%A9%B4%ED%97%88%EB%A5%BC-%EB%95%84%EB%8B%A4&quot; aria-label=&quot;운전 면허를 땄다 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;운전 면허를 땄다.&lt;/h3&gt;&lt;p&gt;쏘카 다니며 가장 한이 되었던 운전 면허 따기.
나는 무려 &amp;quot;운전 면허&amp;quot;가 없어서, 직원 최대 복지 중 하나인 쏘카 75% 할인을 받지 못했다.&lt;/p&gt;&lt;p&gt;퇴사하자마자 바로 운전 면허 학원을 등록했다.
목표는 2종 보통이었다.
한 일주일이면 딸 줄 알았는데, 생각보다 시간이 걸려서 당황스러웠다.
이 때문에 바로 어디 여행 가지도 못했다.&lt;/p&gt;&lt;p&gt;기능은 무난히 합격, 도로 주행은 도로 나가기 전에는 굉장히 쫄렸는데,
막상 해보니 40~50킬로가 별로 빠르게 느껴지지 않았고, 생각보다 아주 스무스하게 합격했다.&lt;/p&gt;&lt;p&gt;자 이제 쏘카만 있으면 되는데...
면허 딴지 1년이 지나기를 기다리고 있다.&lt;/p&gt;&lt;h3 id=&quot;일주일간-내일로-여행을-다녀왔다&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%9D%BC%EC%A3%BC%EC%9D%BC%EA%B0%84-%EB%82%B4%EC%9D%BC%EB%A1%9C-%EC%97%AC%ED%96%89%EC%9D%84-%EB%8B%A4%EB%85%80%EC%99%94%EB%8B%A4&quot; aria-label=&quot;일주일간 내일로 여행을 다녀왔다 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;일주일간 내일로 여행을 다녀왔다.&lt;/h3&gt;&lt;p&gt;대학 동기인 경호형과 일주일간 내일로 여행을 갔다 왔다.
내일로는 20살 때 간 이후로 처음이니, 거의 9년 만에 가보는 셈이다.
그때는 대학생들 사이에서 내일로 가 한창 유행이었는데, 이번에는 놀라울 만큼이나 아주 조용한 내일로 여행이었다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:109.45945945945948%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAWABQDASIAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAMEBQEC/8QAFgEBAQEAAAAAAAAAAAAAAAAAAgAB/9oADAMBAAIQAxAAAAHvujAjsIGbQiK1AF//xAAaEAACAwEBAAAAAAAAAAAAAAABAgADEhMR/9oACAEBAAEFAu07TtL7jt7WYqfVdNEVksteB//EABYRAQEBAAAAAAAAAAAAAAAAABEAEP/aAAgBAwEBPwEjf//EABYRAQEBAAAAAAAAAAAAAAAAABEAEP/aAAgBAgEBPwFnf//EABsQAAMAAgMAAAAAAAAAAAAAAAABESExECJB/9oACAEBAAY/Auerwb0L0reSJkp//8QAHBABAQACAgMAAAAAAAAAAAAAAQARIUFRocHw/9oACAEBAAE/IRfEKIIjGHmEcOnNkDti5SNsaJvu9XX/2gAMAwEAAgADAAAAECQAf//EABURAQEAAAAAAAAAAAAAAAAAAAEg/9oACAEDAQE/EEEf/8QAFxEBAAMAAAAAAAAAAAAAAAAAAQAQEf/aAAgBAgEBPxATfZ//xAAfEAEAAgICAgMAAAAAAAAAAAABABEhMUFRYZGBobH/2gAIAQEAAT8Q7Y/KWdRE2+oIqhTV/qCaLhsU8ssM2pZTjo9VMt0Sgx4hujhDbFHKKv78T//Z&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;3.jpg&quot; title=&quot;3.jpg&quot; src=&quot;/blog/static/cbb28186ad8ddfc6380a159e271d9bd0/1c72d/3.jpg&quot; srcSet=&quot;/blog/static/cbb28186ad8ddfc6380a159e271d9bd0/a80bd/3.jpg 148w,/blog/static/cbb28186ad8ddfc6380a159e271d9bd0/1c91a/3.jpg 295w,/blog/static/cbb28186ad8ddfc6380a159e271d9bd0/1c72d/3.jpg 590w,/blog/static/cbb28186ad8ddfc6380a159e271d9bd0/a8a14/3.jpg 885w,/blog/static/cbb28186ad8ddfc6380a159e271d9bd0/fbd2c/3.jpg 1180w,/blog/static/cbb28186ad8ddfc6380a159e271d9bd0/9c9b2/3.jpg 2268w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;통영에서. 가방이 같았던 우리&lt;/em&gt;&lt;/p&gt;&lt;p&gt;여수, 순천, 통영, 부산, 경주.
아주 꽉꽉 알차게 갔다 왔다.&lt;/p&gt;&lt;p&gt;역시 시간이 지나면 남는 건 여행인가 보다.
다음에도 갭 먼스가 생기면, 무조건 여행을 가야겠다.&lt;/p&gt;&lt;h2 id=&quot;라인-플러스에-입사했다&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%9D%BC%EC%9D%B8-%ED%94%8C%EB%9F%AC%EC%8A%A4%EC%97%90-%EC%9E%85%EC%82%AC%ED%96%88%EB%8B%A4&quot; aria-label=&quot;라인 플러스에 입사했다 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;라인 플러스에 입사했다.&lt;/h2&gt;&lt;p&gt;6월 7일 화요일. 라인 플러스에 입사했다.
취업 준비 시절 오고 싶었던 회사 중 하나였는데, 이렇게 경력으로 오게 되다니.
감회가 새로웠다.&lt;/p&gt;&lt;p&gt;입사 후 몇 주 동안은 팀 리드이신 찬형님과 거의 매일 티타임을 했다.
라인 플러스 문화는 어떤지, 조직 내 우리 팀의 위치나 역할은 무엇이고, 팀장님이 바라는 미래가 무엇인지 등을 알 수 있었다.&lt;/p&gt;&lt;p&gt;쿠버네티스로 구글링하다 보면 &lt;a href=&quot;https://coffeewhale.com/&quot;&gt;커피고래의 블로그&lt;/a&gt;를 자주 보게 되는데, 이 블로그의 주인장이신 홍근 님도 같은 팀으로 만나게 되었다.
평소 보던 글 내용만큼이나 유쾌하고 재밌으셨다.
나랑 같은 MBTI 타입이신가 했는데, 나중에 알고 보니 아예 정반대셨다.
사회화된 MBTI 버전도 따로 있어야 되지 않나 싶은 생각이 들었다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:99.32432432432432%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAEDAv/EABgBAQADAQAAAAAAAAAAAAAAAAEAAgME/9oADAMBAAIQAxAAAAHVla84BzSAGv8A/8QAGBAAAgMAAAAAAAAAAAAAAAAAAAERIDH/2gAIAQEAAQUCwbJd/wD/xAAZEQACAwEAAAAAAAAAAAAAAAAAAQIQETH/2gAIAQMBAT8BlLWa6XD/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAWEAADAAAAAAAAAAAAAAAAAAAAMDH/2gAIAQEABj8CIj//xAAZEAEAAwEBAAAAAAAAAAAAAAABABEhEDH/2gAIAQEAAT8hUAe7bBfIQcWXL5d5md//2gAMAwEAAgADAAAAEGQYv//EABcRAQEBAQAAAAAAAAAAAAAAAAABEWH/2gAIAQMBAT8Q0K7KmYf/xAAWEQADAAAAAAAAAAAAAAAAAAABIDH/2gAIAQIBAT8QET//xAAdEAEAAgICAwAAAAAAAAAAAAABABEhMRBRQWFx/9oACAEBAAE/EEE2bffRNEC+dRYUPszb4XFgR7AzAjP/2Q==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;4.jpg&quot; title=&quot;4.jpg&quot; src=&quot;/blog/static/d1b1af8d0b850575469dbb54d477b183/1c72d/4.jpg&quot; srcSet=&quot;/blog/static/d1b1af8d0b850575469dbb54d477b183/a80bd/4.jpg 148w,/blog/static/d1b1af8d0b850575469dbb54d477b183/1c91a/4.jpg 295w,/blog/static/d1b1af8d0b850575469dbb54d477b183/1c72d/4.jpg 590w,/blog/static/d1b1af8d0b850575469dbb54d477b183/a8a14/4.jpg 885w,/blog/static/d1b1af8d0b850575469dbb54d477b183/fbd2c/4.jpg 1180w,/blog/static/d1b1af8d0b850575469dbb54d477b183/9568a/4.jpg 3024w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;입사 선물 중 하나였던 플래너&lt;/em&gt;&lt;/p&gt;&lt;p&gt;라인 플러스에 입사하고 약 7개월이 지난 지금, 무얼 경험했는지 떠오르는 대로 한번 적어본다. &lt;/p&gt;&lt;h3 id=&quot;온-프레미스-기반-플랫폼과-조직을-경험했다&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%98%A8-%ED%94%84%EB%A0%88%EB%AF%B8%EC%8A%A4-%EA%B8%B0%EB%B0%98-%ED%94%8C%EB%9E%AB%ED%8F%BC%EA%B3%BC-%EC%A1%B0%EC%A7%81%EC%9D%84-%EA%B2%BD%ED%97%98%ED%96%88%EB%8B%A4&quot; aria-label=&quot;온 프레미스 기반 플랫폼과 조직을 경험했다 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;온-프레미스 기반 플랫폼과 조직을 경험했다.&lt;/h3&gt;&lt;p&gt;라인 플러스는 쏘카 때와는 다르게 완전히 온-프레미스 인프라 환경이었다.
이 때문에 인프라 조직이 매우 컸고, 인프라를 사용하는 내 입장에서도 클라우드와는 전혀 다른 사용감과 조직 체계를 경험해 볼 수 있었다.&lt;/p&gt;&lt;p&gt;일단 우리 팀이 다루는 쿠버네티스 클러스터에 노드를 직접 추가하고 삭제해야 했으며, 더 이상 매니지드 쿠버네티스에서 누릴법한 기능들은 없었다.
(온-프레미스를 경험해 보니, 클라우드가 얼마나 편한지 알겠다.)&lt;/p&gt;&lt;p&gt;쿠버네티스 클러스터를 빌드 하는 것부터 &lt;a href=&quot;https://github.com/kubernetes-sigs/kubespray&quot;&gt;kubespray&lt;/a&gt;로 해야 했는데, 이는 완전히 처음 써보는 도구였다.
또한 ansible 같은 도구도 처음 써보며, 실제로 클러스터 하나를 빌딩 하는데 어떤 일들이 일어나는지 이전보다는 더 자세하게 알 수 있었다.
(클러스터 빌딩 과정이 궁금해서, &lt;a href=&quot;https://github.com/kelseyhightower/kubernetes-the-hard-way&quot;&gt;Kubernetes the hard way&lt;/a&gt;를 따라 해봤는데, 생각보다 뭐가 많으면서도, 또 생각보다 별거 없네라는 생각이 들었다.)&lt;/p&gt;&lt;p&gt;아무튼 클러스터 빌딩부터 시작해서, CSI, CNI, Scheduler, Admission Controller 등 이전 쿠버네티스 경험과 비교하면 꽤 Low 한 것들도 봐야 했다.
나에게 &amp;quot;클러스터를 사용하고 운영한다&amp;quot;라는 개념은 이전과 달라지게 되었다.&lt;/p&gt;&lt;p&gt;사실 클라우드가 훨씬 편하다는 생각이 들긴 했지만, 그래도 라인 플러스 정도 되는 조직 규모에서 이 정도의 온-프레미스 환경을 구축하고 운영하는 것도 내 경험적으로 나쁘진 않겠다는 생각이 들었다.
클라우드, 온-프레미스 둘 다 경험을 가지고 좀 더 유연하고 넒은 시야를 가질 수 있을 거 같았다.&lt;/p&gt;&lt;p&gt;이제 7개월이 지나니 온-프레미스 자체는 어느 정도 익숙해졌다.
이제 GKE나 EKS를 사용하게 되면 단순히 사용자 입장이 아니라, 클라우드 서비스 개발자, 운영자 입장으로의 시야에서 생각해 볼 수 있을 것만 같다.&lt;/p&gt;&lt;h3 id=&quot;이전과-전혀-다른-사람들을-만났다&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%9D%B4%EC%A0%84%EA%B3%BC-%EC%A0%84%ED%98%80-%EB%8B%A4%EB%A5%B8-%EC%82%AC%EB%9E%8C%EB%93%A4%EC%9D%84-%EB%A7%8C%EB%82%AC%EB%8B%A4&quot; aria-label=&quot;이전과 전혀 다른 사람들을 만났다 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;이전과 전혀 다른 사람들을 만났다.&lt;/h3&gt;&lt;p&gt;사람들이나 회사 분위기도 쏘카 때와는 많이 달랐다.&lt;/p&gt;&lt;p&gt;쏘카 때는 확실히 스타트업 느낌의 통통 튀는 분위기가 있었다.
팀원들과 이야기하다 보면 &amp;quot;이거 시도해보자. 저거 시도해보자.&amp;quot;라는 말이 많았고, 슬랙에서 이야기도 아주 활발했다.
빠르게 시도하고, 빠르게 결과를 냈다.&lt;/p&gt;&lt;p&gt;외부의 변화도 잦았다.
예를 들어, 비즈니스 오퍼레이션 변화로 인해 몇 달 전에 만든 파이프라인을 새로 디자인해야 하는 경우도 있었다.&lt;/p&gt;&lt;p&gt;업무 말고 사적인 활동이나 이야기도 많이 나누었고,
엔지니어링 그 자체보다는 사업이나 본인 인생에 대한 야망을 가진 분들이 많았다.
내가 속한 부서가 엔지니어들만 모여있던 부서가 아니어서 그랬던 거 같기도 하고,
직원 평균 연령이 낮았던 것도 한몫한 거 같다.&lt;/p&gt;&lt;p&gt;한편, 라인 플러스는 조용하게 진득하신 분들이 많은 거 같다.
이미 세부적으로 분업화가 잘되어 있고, 그 분업화된 조직 안에서도 기술적으로 해결해야 할 문제가 꽤 많았다.
전체 덩치가 크고, 많이 얽혀있다 보니, 쉽게 시도하기보다는 변화에 따른 사이드 이펙트를 심도 있게 고려해야 했다.
뭔가를 시도해 보려면, 같은 팀원이라도 제대로 할 설득할 준비를 해야 했다.
그리고 좀 더 큰 변화는 내 레벨에서 보이지 않는 영역까지 여파를 미칠 수 있기 때문에, 쉽게 제안해 보기는 어려웠다.&lt;/p&gt;&lt;p&gt;연령대, 연차도 꽤 다양했다.
대부분의 팀원들은 경력직이었고, 각자 잘하는 업무나 스킬을 최소 하나씩은 가지고 있었다.
확실히 내가 입사할 때 기대하던 &amp;quot;시니어 분들이 많은 환경&amp;quot; 이었다.&lt;/p&gt;&lt;p&gt;사내 세미나, 클래스를 통해 궁금했던 기술들을 쉽게 교육받을 수 있었다.
나는 올해 사내 MongoDB, MySQL 기초 강의를 들었는데, 웬만한 유료 강의보다 훨씬 좋은 퀄리티였다.
(사내에서 강의해 주셨던 분이 패스트 캠퍼스에서 유료 강의를 하고 계시기도 했다.)
이런 클래스를 직접 들을 수 있는 건 사내 최고 복지라는 생각이 들었다.&lt;/p&gt;&lt;p&gt;연차가 높은 분들이 많이 계시지만, 갑질이나 꼰대 문화는 전혀 없었다.
오히려 수평적 커뮤니케이션을 가지고 있으며, 실력 있는 겸손한 엔지니어들의 모습을 볼 수 있었다.
나에게 좋은 귀감이 되어주셨다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:100%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAIDBAH/xAAWAQEBAQAAAAAAAAAAAAAAAAABAAP/2gAMAwEAAhADEAAAAcUozy0qazLROgv/xAAaEAADAQEBAQAAAAAAAAAAAAAAAQIREiEy/9oACAEBAAEFAm9pep1Wkzpwc4LC/r//xAAWEQADAAAAAAAAAAAAAAAAAAAAECH/2gAIAQMBAT8BK//EABYRAAMAAAAAAAAAAAAAAAAAAAAQIf/aAAgBAgEBPwEj/8QAHBAAAQMFAAAAAAAAAAAAAAAAEAABERIhMVGh/9oACAEBAAY/Apd1pWkRV04H/8QAHBABAAICAwEAAAAAAAAAAAAAAQARIXExUWGx/9oACAEBAAE/IVs3sTYmENkpuNHI3qBkF9QgW5RV9hAYOyAFQT//2gAMAwEAAgADAAAAEGQoP//EABgRAQEBAQEAAAAAAAAAAAAAAAEAQREx/9oACAEDAQE/EBS6ttjy/8QAGBEAAgMAAAAAAAAAAAAAAAAAAAEQEVH/2gAIAQIBAT8QaRWJ/8QAHBABAQACAwEBAAAAAAAAAAAAAREAITFBUYHh/9oACAEBAAE/EHzitRpnhlCk1YopLb3+5IGgY05FAz3R9LmhbSuN96cAjG9hxgoFQeNsQVyvZH0wqEeBn//Z&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;5.jpg&quot; title=&quot;5.jpg&quot; src=&quot;/blog/static/f340833859e60471fa18ae3b3fa1120a/1c72d/5.jpg&quot; srcSet=&quot;/blog/static/f340833859e60471fa18ae3b3fa1120a/a80bd/5.jpg 148w,/blog/static/f340833859e60471fa18ae3b3fa1120a/1c91a/5.jpg 295w,/blog/static/f340833859e60471fa18ae3b3fa1120a/1c72d/5.jpg 590w,/blog/static/f340833859e60471fa18ae3b3fa1120a/a8a14/5.jpg 885w,/blog/static/f340833859e60471fa18ae3b3fa1120a/fbd2c/5.jpg 1180w,/blog/static/f340833859e60471fa18ae3b3fa1120a/7a4c2/5.jpg 3012w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;팀에서 첫 아웃팅 때, 규형 님, 홍근 님과 치열하게 했던 보드게임, 쿼리도&lt;/em&gt;&lt;/p&gt;&lt;p&gt;지금 생각해 보면, 쏘카에서는 나와 너무 잘 맞고 비슷한 사람들이랑만 있었던 거 같다.
비슷한 나이, 비슷한 연차, 비슷한 성향 등등.
편하고 즐거운 환경이긴 하지만, 힘을 덜 들여도 되는 세이프 존이었을 수도 있겠다는 생각이 든다.&lt;/p&gt;&lt;p&gt;라인 플러스에 와서는 나와 꽤 다른 사람들, 업무 분위기를 만나보게 되었다.
다양한 나이대, 다양한 연차, 완전 반대 성향 등등.
이전보다 쉽지는 않지만, 안전했던 조직을 나와 &amp;quot;일반적인 조직&amp;quot;에서 생존하는 법을 배우고 있는 중이라 생각한다.&lt;/p&gt;&lt;h3 id=&quot;운영-및-트러블-슈팅-경험을-했다&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%9A%B4%EC%98%81-%EB%B0%8F-%ED%8A%B8%EB%9F%AC%EB%B8%94-%EC%8A%88%ED%8C%85-%EA%B2%BD%ED%97%98%EC%9D%84-%ED%96%88%EB%8B%A4&quot; aria-label=&quot;운영 및 트러블 슈팅 경험을 했다 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;운영 및 트러블 슈팅 경험을 했다.&lt;/h3&gt;&lt;p&gt;입사 후 팀에서 가장 비중 있게 했던 업무는 쿠버네티스 운영이었다.
우리 팀이 빌딩 한 쿠버네티스 클러스터를 여러 데이터 관련 조직에서 사용하고 있는데,
이런 조직으로부터 뭐가 안된다, 이런 걸 하고 싶은데 어떻게 하면 되냐 등등의 요청을 받곤 했다.
그러면 나는 요청을 팀 내 요구사항 티켓으로 만든 뒤, 어떻게 하면 좋을지 팀 내에서 논의를 이끌기도 하고, 여러 대안을 찾아 공유했다.&lt;/p&gt;&lt;p&gt;뭐가 안된다는 요청이 오는 경우, 나도 뭐가 뭔지 잘 모르는 경우가 대부분인데, 그럼 진짜 맨땅에 헤딩하듯이 일을 시작하게 된다.
쿠버네티스 공식 문서를 뒤져보기도 하고, 슬랙에서 영어로 이것저것 물어보기도 하고, 필요한 대시보드를 그라파나에서 찾다가 없으면 만들어두기도 하고...
하지만 거의 대부분은 팀원들에게 도움을 받는 경우가 많았다.
그들 옆에서 어떻게 문제에 접근하는 것부터 시작하는지 지켜보는 건 정말 좋은 경험이라 생각한다.&lt;/p&gt;&lt;p&gt;없던 무언가에 대해 새로 기능을 제공해 줘야 하는 경우, 운영 정책에 대해서 생각해 보게 되었다.
예를 들면 이런 것들이었다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;클러스터에 GPU 리소스를 들여오는 경우, 모든 테넌트가 GPU를 가능한 대로 사용하기 원할 텐데, 리소스는 어떻게 분배해야 할까?&lt;ul&gt;&lt;li&gt;GPU 노드 풀은 어떻게 구성하고, 사용자들이 어떻게 사용할 수 있게끔 가이딩해야 할까?&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;클러스터에 용량이 큰 컨테이너 이미지를 빠르게 배포하고 싶다고 한다. 어떻게 해야 할까?&lt;ul&gt;&lt;li&gt;이미지 용량 최적화부터 해달라고 해야 할까? 클러스터 노드랑 가까운 곳에 Harbor를 띄워야 할까? 클러스터 차원의 Pre-Pulling을 지원해 줘야 할까?&lt;/li&gt;&lt;li&gt;현실적으로 Pre-Pulling을 지원해 줘야 할거 같은데, 그러면 모든 노드에 대해서 지원해 줘야 할까? 그러면 로컬 스토리지 용량에 부담은 없을까?&lt;/li&gt;&lt;li&gt;모든 테넌트가 다 Pre-Pulling을 쓰고 싶어 할 거 같은데, 어떻게 가이딩 해줘야 할까?&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;클러스터를 한 사람 혹은 한 팀만 사용하는 게 아니라 팀 단위로 사용하다 보니, 운영 정책을 마냥 심플하게만 세우는 게 쉽지 않았다.
클러스터라는 작은 마을에 사는 여러 사람들의 이해와 우리 팀의 운영 리소스를 생각해야 하니, 마치 정말 작은 마을을 운영하는 것과 비슷하다 느껴졌다.
아직은 동사무소 규모지만 더 잘 운영해서 시청 급으로도 키우고, 누구나 살고 싶어 하는 동네를 만드는 재미랄까.
그래서인지 사용자로부터 요청이 오면 내가 도와줄 수 있는 한 적극적으로 도와주고 싶었다.&lt;/p&gt;&lt;p&gt;그리고 갑자기 잘 돌던 시스템이 어느 순간 장애를 일으키는 경우도 있었다.
이런 장애가 클러스터 사용자에게 부정적인 영향을 미치는 경우, 이 장애는 &amp;quot;아웃티지&amp;quot;로 분류되고, 팀원들은 하던 일을 멈추고 이 장애를 해결하기 위해 뛰어들곤 했다.
원인도 잘 알고 있고, 해결할 방법도 알면 좋겠지만, 대부분의 경우 이렇게 쉽게 풀리지 않았다.
새벽 6시까지 잠 못 자고 뭐가 문제일까, 팀원 다 같이 끝낼 때까지 끝낼 수 없던 적도 있었다.&lt;/p&gt;&lt;p&gt;정리해 보면, 엔지니어들을 위한 &amp;quot;플랫폼&amp;quot; 운영, 그 와중에 여기저기 터지는 장애 처리, 추후 안정성을 위한 대안에 대한 고민을 주로 경험했다.
개발을 중심으로 일했던 나에게 소방관 마냥 이렇게 매번 장애를 대응하고 예측 불가능한 상황에 놓이는 건 사실 그렇게 재밌는 업무는 아니었다(누군들 좋아하겠냐마는...).
하지만 결국 조직 내 누군가는 해야 하는 업무기도 하고, 내 커리어에서 이런 운영 과정 역시 필요한 경험이라고 생각은 들었다.
또 막상 기술적인 장애를 겪으니, 1인분 하기 위해 기술적인 내용을 이전보다 더 다이브 해볼 수밖에 없기도 했는데, 막상 이러면서 실력이 느는 게 아닌가 싶기도 했다.&lt;/p&gt;&lt;p&gt;그리고 &amp;quot;플랫폼&amp;quot;이라는 게 유저 맞춤을 위한 을의 입장이 되느냐, 유저들을 락인 시킬 수밖에 없는 갑의 입장이 되느냐.
희망하는 건 당연히 후자겠지만, 그렇게 되는 건 꽤 어려운 일임을 조금이나마 느낄 수 있었다.&lt;/p&gt;&lt;h2 id=&quot;terraform-핸즈-온-문서를-작성했다&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#terraform-%ED%95%B8%EC%A6%88-%EC%98%A8-%EB%AC%B8%EC%84%9C%EB%A5%BC-%EC%9E%91%EC%84%B1%ED%96%88%EB%8B%A4&quot; aria-label=&quot;terraform 핸즈 온 문서를 작성했다 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Terraform 핸즈-온 문서를 작성했다.&lt;/h2&gt;&lt;p&gt;Terraform은 이전부터 너무 배우고 싶었는데, 딱히 현업에서 써볼 수 있는 기회가 없어서 뒤로 미뤄왔다.
그러다 어떤 일련의 삘이와서, 8월부터 간단한 목표를 세워 Terraform을 공부하며 &lt;a href=&quot;https://heumsi.github.io/hands-on-terraform-with-gcp/&quot;&gt;핸즈-온 문서&lt;/a&gt;를 만들었다.&lt;/p&gt;&lt;p&gt;기존의 튜토리얼 문서들을 보면 대부분 AWS 기반이 많았고, 실제 현업에서 운영까지 고려하여 어떻게 사용하는지에 대한 내용은 없는 경우가 많았다.
나는 AWS보단 내게 익숙했던 GCP 기반으로 만들어봐야겠단 생각과, 나중에 사이드 프로젝트를 할 때를 위해서라도, 지금 잘 작성해놔야겠다는 생각이 들었다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:57.432432432432435%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB7ElEQVQoz4WQ227aQBCG/QCVQrwQfAIHXArYXq9tjImPmIOSNK1a2qeoFEWq8i5RL/MMrbislIrLXvR5EmF5qt0ap0SRcvFpZr2zn+Y3h2qvvqrH8h9CjLvXmraRZYkhCM3N4WHtWRqN+uboqFGdEeJ/IcT/rh0crDhBVG+VlgZttQedzhAGQxv6Awu62hAkufss6vEb6Go6yIoGstItqwaC2L7mTCu+IU4GmKT3fnCej0/Octud5Y63yEfjZe6M5rnrLfag95Y9zYmT7XigDt0MLjndDL5ZdgKmFW/9yWnhenPAJIEoeQfZfMWYzlYwW3yC6ewj++75S8AkZnOYJAUmSU77ge5flcIULDvd0suyZ4+pJM0+MOL0PUyCcwiii1KYsLnyDRMO9cmjEJNka9kpE5pWDGF8wURUQHsqIc604gUhW31brs+GqWS+/Mwi05hRQjc8A89fgO1mu7h7kYc0soHDKnK5IcM/OS2C6G0xGi/ofy1c71+13awgzrT4f5ZuSB1DY3LFDXT/xsARGDi8N3CYV5hhrptBSVjVvRkc7foHA4fQH3iXnCRrt0qrB4rSA1af9k9RHul0dGir/eosSZ1rjkfCF1QX7xASvjeF1loQ22uExDWqvwAS16KksnkeCT9QXfzJ882Lv2a3OAtuIHQ5AAAAAElFTkSuQmCC&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;6.png&quot; title=&quot;6.png&quot; src=&quot;/blog/static/209623c5d368fe11057e9a7b94ed31db/fcda8/6.png&quot; srcSet=&quot;/blog/static/209623c5d368fe11057e9a7b94ed31db/12f09/6.png 148w,/blog/static/209623c5d368fe11057e9a7b94ed31db/e4a3f/6.png 295w,/blog/static/209623c5d368fe11057e9a7b94ed31db/fcda8/6.png 590w,/blog/static/209623c5d368fe11057e9a7b94ed31db/efc66/6.png 885w,/blog/static/209623c5d368fe11057e9a7b94ed31db/c83ae/6.png 1180w,/blog/static/209623c5d368fe11057e9a7b94ed31db/efb68/6.png 2032w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;핸즈-온 문서 첫 페이지&lt;/em&gt;&lt;/p&gt;&lt;p&gt;이전까지는 이런 튜토리얼 문서를 &lt;a href=&quot;https://vuepress.vuejs.org/&quot;&gt;Vuepress&lt;/a&gt;로 만들었었는데, 이번에는 &lt;a href=&quot;https://www.mkdocs.org/&quot;&gt;MkDocs&lt;/a&gt;로 만들어보았다.
이럴 때라도 좀 다양하게 Documentation 도구를 사용해 봐야지 하는 생각이 들어서였다.
(다음에는 &lt;a href=&quot;https://docusaurus.io/&quot;&gt;Docusaurus&lt;/a&gt;를 써봐야겠다.)&lt;/p&gt;&lt;p&gt;여하튼 목표했던 만큼의 내용은 공부하고 잘 정리해둘 수 있었다.
다음에 사이드 프로젝트를 하게 되면 꼭 Terraform을 써봐야겠다.&lt;/p&gt;&lt;h2 id=&quot;시스템-디자인-스터디를-진행했다&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%8B%9C%EC%8A%A4%ED%85%9C-%EB%94%94%EC%9E%90%EC%9D%B8-%EC%8A%A4%ED%84%B0%EB%94%94%EB%A5%BC-%EC%A7%84%ED%96%89%ED%96%88%EB%8B%A4&quot; aria-label=&quot;시스템 디자인 스터디를 진행했다 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;시스템 디자인 스터디를 진행했다.&lt;/h2&gt;&lt;p&gt;8월 말 쯔음인가 &lt;a href=&quot;https://dnd.ac/&quot;&gt;DND&lt;/a&gt; 7기 발표 모임에서, 열심히 그리고 좋은 퀄리티의 사이드 프로젝트를 만드는 분들의 발표를 보게 되었다.
이 발표 모임에 다녀온 후 삘 받아서 며칠 뒤에 &lt;a href=&quot;http://www.yes24.com/Product/Goods/102819435&quot;&gt;&amp;quot;가상 면접 사례로 배우는 대규모 시스템 설계 기초&amp;quot;&lt;/a&gt; 책을 읽고 주마다 정리, 발표하는 &lt;a href=&quot;https://buttered-vision-613.notion.site/206506405d444a51ba93a303ea663db4?v=b02097e914864269950a5cc3bc86c03d&quot;&gt;스터디&lt;/a&gt;를 만들었다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:57.432432432432435%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACHklEQVQoz5WR208TQRjF9+/zyT/D2JBoH3jBkJj4pKQIoTQBKUmDDVELWhYvUFIcUIJNLKEglGjTpFzame7MXnthZ+eYbUHUYNSTnGRmvszvO9+MtplbuLORy36eT07lhwbvkaHBYfL44QgZj42RqfgkST2ZJplUkrxMp8j60jOy8TpDtt4uku2VDCnkFsmH3BJZXc6sr+gvPs3NJG5q71cys2T5OVKTY4hGorh7O4oHw/cxMfIIidEYkvFxTI3GMBufQPbpDBbnpvFuIY1NPY2tN/PYXstia3UBH9deIZ2cjGrCtOKtdhsNSjuWZUohDBkKwP+4CwC12nFEo5Qm2u02TNP0Pc9Tvu8jCIILKyjVd7jvr4Pf3FMvQ6XybUBjjCU814XjOH6n01H9cIAvA/jn5zjvdhE2uQT/7LBhEATqK+vKGu+iflwd0JrNZsJ1HVDa8BljqtVq9YDCtcEMCts0w/S9s+ugPxIGASqVyhWwXq/7jFEVjt8HumCCwbIEOOd/BQa/AB0HZ2envhC8Vw3vCtdVTDSVaXLFOVd93h91BWSsGXccG6cnJx3DMKTneTKQUgrXlcKg0haGNLghLy5da6VUt/8plYjGOZ8N343SBhijuBzZbrVgWAYc24RtWfgXVavVqFYoFG7t7+/nd3aK2WKxqB8eHupHR0f67t6evrNb1PdKu3qpVNLL5XKvdp3L5XL24OBLLp/P3/gOarYTaZnhOfUAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;7.png&quot; title=&quot;7.png&quot; src=&quot;/blog/static/6ab99d62400ca7173d8f9836e0b9011a/fcda8/7.png&quot; srcSet=&quot;/blog/static/6ab99d62400ca7173d8f9836e0b9011a/12f09/7.png 148w,/blog/static/6ab99d62400ca7173d8f9836e0b9011a/e4a3f/7.png 295w,/blog/static/6ab99d62400ca7173d8f9836e0b9011a/fcda8/7.png 590w,/blog/static/6ab99d62400ca7173d8f9836e0b9011a/efc66/7.png 885w,/blog/static/6ab99d62400ca7173d8f9836e0b9011a/c83ae/7.png 1180w,/blog/static/6ab99d62400ca7173d8f9836e0b9011a/efb68/7.png 2032w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;스터디 내용을 공유하는데 노션을 활용했다.&lt;/em&gt;&lt;/p&gt;&lt;p&gt;나를 제외한 다섯 분과 함께 했으며, 9월 중순부터 시작해서 8주 동안 나름대로 재밌게 잘한 거 같다.
서현에 있는 회사까지 출근할 때 대략 1시간 반 정도 걸렸는데, 지하철에서 이 책을 읽으면 시간이 뚝딱 지나갔다.
책 내용도 너무 재밌고 나에게 필요한 내용들이었어서, 스터디를 매우 즐겁게 할 수 있었다.&lt;/p&gt;&lt;p&gt;11월, 위 스터디가 끝나고 몇 주 뒤 &lt;a href=&quot;https://buttered-vision-613.notion.site/d61dea25f7c543c09d863b243313458a?v=010df4ec036649b08c2faca4561c23fe&quot;&gt;이 책 내용을 구현하는 스터디&lt;/a&gt;를 하나 또 만들었다.
이번에는 책 내용을 정리하는게 아니라, 요구 사항을 정리하고 각자 나름대로 이를 &lt;a href=&quot;https://github.com/heumsi/implementing-system-design-interview&quot;&gt;코드로 구현한다.&lt;/a&gt;
그리고 격주 단위로 모여 각자 어떻게 구현했는지 발표한다. &lt;/p&gt;&lt;p&gt;이번에는 나를 제외한 두 분과 함께하고 있는데, 저번 스터디보다 더 재밌다.
별다른 이슈가 없다면 내년 중순까지 계속할거 같다.&lt;/p&gt;&lt;h2 id=&quot;이렇게-적고-보니&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%9D%B4%EB%A0%87%EA%B2%8C-%EC%A0%81%EA%B3%A0-%EB%B3%B4%EB%8B%88&quot; aria-label=&quot;이렇게 적고 보니 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;이렇게 적고 보니&lt;/h2&gt;&lt;p&gt;이렇게 적고 보니... 작년 이맘때쯤 뭔가 계획이 있었던 거 같은데, 계획과 다르게 그때그때의 삘 대로 산거 같다.
모르겠다. 회사에서는 팀과 내 일을 계획 있게 두려고 하는데, 회사 밖에서는 그렇게 살고 싶지 않았나 보다.&lt;/p&gt;&lt;p&gt;이제는 복잡한 계획 같은 건 별로 생각하고 싶지 않다.
이미 미래에 하고 싶은 것들은 머릿속에 충분히 가득 차 있고,
잊지 않게 TODO들만 남겨놓고 있다.
마치 관심 있는 책은 당장 읽지 않더라도 일단 사두는 것처럼.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:97.2972972972973%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAATABQDASIAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAMEBQEC/8QAFgEBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAGXxarYvUQz7ZWiI//EABwQAAICAgMAAAAAAAAAAAAAAAECABIDEBEiMv/aAAgBAQABBQItzoTqynHChmP1dr1E/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFhEBAQEAAAAAAAAAAAAAAAAAIQAQ/9oACAECAQE/ASN//8QAHBAAAQMFAAAAAAAAAAAAAAAAABARMQEhQZHh/9oACAEBAAY/AsHSK7JSEZ7J/8QAHRABAAMAAQUAAAAAAAAAAAAAAQARIUFRcYGR8P/aAAgBAQABPyEFa3e5LenqbJkSEoNckDhGAcT5iQ01Muy4dnxc/9oADAMBAAIAAwAAABBMGD//xAAZEQACAwEAAAAAAAAAAAAAAAAAARARMSH/2gAIAQMBAT8Q69KFsf/EABgRAAIDAAAAAAAAAAAAAAAAAAABEBFR/9oACAECAQE/EGsFBx//xAAfEAEAAgEEAwEAAAAAAAAAAAABABEhMVFhsUFxocH/2gAIAQEAAT8QQt5FXJBLwa3M/YrijiTos+B6i7vr2PyUYThkV2s5rFwvT1AHaCGiekT/2Q==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;8.jpg&quot; title=&quot;8.jpg&quot; src=&quot;/blog/static/c86d81e5b2bd6bcdf959d65b7a3d0450/1c72d/8.jpg&quot; srcSet=&quot;/blog/static/c86d81e5b2bd6bcdf959d65b7a3d0450/a80bd/8.jpg 148w,/blog/static/c86d81e5b2bd6bcdf959d65b7a3d0450/1c91a/8.jpg 295w,/blog/static/c86d81e5b2bd6bcdf959d65b7a3d0450/1c72d/8.jpg 590w,/blog/static/c86d81e5b2bd6bcdf959d65b7a3d0450/a8a14/8.jpg 885w,/blog/static/c86d81e5b2bd6bcdf959d65b7a3d0450/fbd2c/8.jpg 1180w,/blog/static/c86d81e5b2bd6bcdf959d65b7a3d0450/9568a/8.jpg 3024w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;사놓고 안 읽은 책들. 어느 순간 또 보게 되겠지.&lt;/em&gt;&lt;/p&gt;&lt;p&gt;인생 즐겜 유저 하고 싶다.
유명한 엔지니어들처럼 멋진 업적 같은 건 못 세우겠지만, 그냥 나 재밌는 거 그때그때 하며 하고 살고 싶다.
뭐 공부해 보고 싶은 거 있으면 공부해 보는 거고, 하다가 안 하고 싶으면 또 안 하는 거고.
그러고 나중에 또 하고 싶으면 하겠지.
나중에 또 할 수 있게 재미만 잃지 않으면 된다는 생각이 든다.&lt;/p&gt;&lt;p&gt;뭔가 큰 결심. 큰 노력 이런 거 말고.
주어진 거 잘하기 위해 노력하고, 하고 싶은 것들도 틈틈이 하고,
시작과 끝을 잘 끝내고.
그렇게 하고 느낀 거 잘 정라 해두고.&lt;/p&gt;&lt;p&gt;이 정도만 하고 살아가자. 내년도.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Kubernetes의 Server Side Apply란 무엇일까?]]></title><description><![CDATA[이번 글에서는 쿠버네티스 1.22부터 GA 버전으로 들어오게된 SSA(Server Side Apply)에 대해 정리해본다. last-applied-configuration 의 역할 SSA에 대해 바로 말하기 전에, 기존의 Apply…]]></description><link>https://heumsi.github.io/blog/posts/server-side-apply-in-kubernetes/</link><guid isPermaLink="false">https://heumsi.github.io/blog/posts/server-side-apply-in-kubernetes/</guid><pubDate>Mon, 26 Dec 2022 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;이번 글에서는 쿠버네티스 1.22부터 GA 버전으로 들어오게된 SSA(Server Side Apply)에 대해 정리해본다.&lt;/p&gt;&lt;h2 id=&quot;code-classlanguage-textlast-applied-configurationcode의-역할&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#code-classlanguage-textlast-applied-configurationcode%EC%9D%98-%EC%97%AD%ED%95%A0&quot; aria-label=&quot;code classlanguage textlast applied configurationcode의 역할 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code class=&quot;language-text&quot;&gt;last-applied-configuration&lt;/code&gt;의 역할&lt;/h2&gt;&lt;p&gt;SSA에 대해 바로 말하기 전에, 기존의 Apply 방식부터 하나씩 살펴보자.&lt;/p&gt;&lt;p&gt;다음과 같은 Configmap을 정의한 Manifest 파일이 있다고 하자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# cm-csa.yaml&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; v1
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ConfigMap
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; cm&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;csa
&lt;span class=&quot;token key atrule&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;value&amp;quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;이런 Manifest 파일을 쿠버네티스 클러스터에 배포할 때는 보통 다음처럼 &lt;code class=&quot;language-text&quot;&gt;kubectl apply&lt;/code&gt; 명령어를 사용한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl apply -f cm-csa.yaml

configmap/cm-csa created&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;만들어진 오브젝트를 확인해보면 다음과 같다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;$ kubectl get cm cm&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;csa &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;o yaml

&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; v1
&lt;span class=&quot;token key atrule&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; value
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ConfigMap
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;annotations&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;kubectl.kubernetes.io/last-applied-configuration&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token scalar string&quot;&gt;
      {&amp;quot;apiVersion&amp;quot;:&amp;quot;v1&amp;quot;,&amp;quot;data&amp;quot;:{&amp;quot;key&amp;quot;:&amp;quot;value&amp;quot;},&amp;quot;kind&amp;quot;:&amp;quot;ConfigMap&amp;quot;,&amp;quot;metadata&amp;quot;:{&amp;quot;annotations&amp;quot;:{},&amp;quot;name&amp;quot;:&amp;quot;cm-csa&amp;quot;,&amp;quot;namespace&amp;quot;:&amp;quot;default&amp;quot;}}&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;creationTimestamp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;2022-12-21T14:28:14Z&amp;quot;&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; cm&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;csa
  &lt;span class=&quot;token key atrule&quot;&gt;namespace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; default
  &lt;span class=&quot;token key atrule&quot;&gt;resourceVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;2193971&amp;quot;&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;uid&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 33084809&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;6b86&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;479e&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;95af&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;97d45e38daf6&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;이 때 &lt;code class=&quot;language-text&quot;&gt;metadata.annotataions&lt;/code&gt; 안에 &lt;code class=&quot;language-text&quot;&gt;kubectl.kubernetes.io/last-applied-configuration&lt;/code&gt; 키가 추가가 되어있다.
이 키의 값은 내가 방금 &lt;code class=&quot;language-text&quot;&gt;kubectl apply&lt;/code&gt; 로 제출한 내용을 그대로 담아낸다.&lt;/p&gt;&lt;p&gt;그럼 &lt;code class=&quot;language-text&quot;&gt;kubectl.kubernetes.io/last-applied-configuration&lt;/code&gt; 값은 그럼 어떤 용도로 쓰이는걸까?&lt;/p&gt;&lt;p&gt;우리가 다음 차례에 (미래에 있을) &lt;code class=&quot;language-text&quot;&gt;kubectl apply&lt;/code&gt; 를 할 때, 쿠버네티스가 오브젝트를 업데이트하는 과정에서 쓰인다.
쿠버네티스가 오브젝트를 업데이트 하는 과정은 간략히 다음과 같다.&lt;/p&gt;&lt;ol&gt;&lt;li&gt;먼저 오브젝트에서 삭제할 필드를 계산한다. 이 필드들은 &lt;code class=&quot;language-text&quot;&gt;kubectl.kubernetes.io/last-applied-configuration&lt;/code&gt; 내에는 존재하는데, 전달받은 Manifest 파일 내에는 없는 필드들이다.&lt;/li&gt;&lt;li&gt;그런 다음, 추가 또는 설정되어야 할 필드를 계산한다. 이 필드들은 현재 배포되어 있는 오브젝트와 불일치하는 값을 가지는 Manifest 파일 내 존재하는 필드이다.&lt;/li&gt;&lt;/ol&gt;&lt;blockquote&gt;&lt;p&gt;구체적인 예시가 궁금하다면, &lt;a href=&quot;https://kubernetes.io/docs/tasks/manage-kubernetes-objects/declarative-config/#merge-patch-calculation&quot;&gt;이 페이지&lt;/a&gt;를 참고하자.&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;이렇듯 &lt;code class=&quot;language-text&quot;&gt;kubectl.kubernetes.io/last-applied-configuration&lt;/code&gt; 는 오브젝트를 업데이트 할 때, 기존 오브젝트와 새 오브젝트 내용을 머지 패치(Merge Patch) 할 때 쓰인다.&lt;/p&gt;&lt;h2 id=&quot;field-manager&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#field-manager&quot; aria-label=&quot;field manager permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Field Manager&lt;/h2&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;kubectl apply&lt;/code&gt; 를 실행할 때 위 1, 2 과정과 같이 복잡한 머지 패치를 하지 않고 &lt;code class=&quot;language-text&quot;&gt;kubectl apply -f {Manifest 파일 경로}&lt;/code&gt; 에서 전달받은 Manifest의 내용으로 그냥 덮어써서(Overwrite) 배포해버리면 되는거 아닌가? 싶을 수 있다.
그러나 기본적으로 &lt;code class=&quot;language-text&quot;&gt;kubectl apply&lt;/code&gt; 가 이렇게 덮어쓰지 않고 귀찮더라도 머지 패치를 하는 이유는, &lt;code class=&quot;language-text&quot;&gt;kubectl apply&lt;/code&gt; 을 실행할 때 추가, 수정된 필드를 그대로 보존하기 위함이다.&lt;/p&gt;&lt;p&gt;예를 들어, 다음처럼 위에서 만든 오브젝트에 라벨 &lt;code class=&quot;language-text&quot;&gt;key: value&lt;/code&gt; 을 추가해보자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl label cm cm-csa &lt;span class=&quot;token assign-left variable&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;value

configmap/cm-csa labeled&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;이렇게 추가된 &lt;code class=&quot;language-text&quot;&gt;key: value&lt;/code&gt; 라벨은 &lt;code class=&quot;language-text&quot;&gt;kubectl apply&lt;/code&gt; 로 제어되지 않는다.
이유는 이 라벨은 &lt;code class=&quot;language-text&quot;&gt;kubectl apply&lt;/code&gt; 을 통해 추가된 것이 아니여서 &lt;code class=&quot;language-text&quot;&gt;kubectl.kubernetes.io/last-applied-configuration&lt;/code&gt; 에 포함되어 있지 않기 때문이다.
정말 그런지 확인해보자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl get cm cm-csa -o yaml    
                 
apiVersion: v1
data:
  key: value
kind: ConfigMap
metadata:
  annotations:
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    kubectl.kubernetes.io/last-applied-configuration: &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;apiVersion&amp;quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;v1&amp;quot;&lt;/span&gt;,&lt;span class=&quot;token string&quot;&gt;&amp;quot;data&amp;quot;&lt;/span&gt;:&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;key&amp;quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;value&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;token string&quot;&gt;&amp;quot;kind&amp;quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;ConfigMap&amp;quot;&lt;/span&gt;,&lt;span class=&quot;token string&quot;&gt;&amp;quot;metadata&amp;quot;&lt;/span&gt;:&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;annotations&amp;quot;&lt;/span&gt;:&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;token string&quot;&gt;&amp;quot;name&amp;quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;cm-csa&amp;quot;&lt;/span&gt;,&lt;span class=&quot;token string&quot;&gt;&amp;quot;namespace&amp;quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;default&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;  creationTimestamp: &lt;span class=&quot;token string&quot;&gt;&amp;quot;2022-12-21T14:28:14Z&amp;quot;&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  labels:&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    key: value&lt;/span&gt;  name: cm-csa
  namespace: default
  resourceVersion: &lt;span class=&quot;token string&quot;&gt;&amp;quot;2194033&amp;quot;&lt;/span&gt;
  uid: &lt;span class=&quot;token number&quot;&gt;33084809&lt;/span&gt;-6b86-479e-95af-97d45e38daf6&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;key: value&lt;/code&gt; 라벨은 추가되었지만, &lt;code class=&quot;language-text&quot;&gt;kubectl.kubernetes.io/last-applied-configuration&lt;/code&gt; 내에 이 라벨은 추가되지 않았다.
이 때문에 이 라벨은 &lt;code class=&quot;language-text&quot;&gt;kubectl apply&lt;/code&gt; 를 통해 머지 패치가 진행될 때 삭제되지 않는다.&lt;/p&gt;&lt;p&gt;그럼 왜 이렇게 설계되어 있을까?
그 이유는 각 필드마다 그 필드를 관리하는 주체(Field Manager)가 다를 수 있기 때문이다.&lt;/p&gt;&lt;p&gt;예를 들어, &lt;code class=&quot;language-text&quot;&gt;kubectl apply -f cm-csa.yaml&lt;/code&gt; 은 데브옵스 팀에 의해서 실행되었고, &lt;code class=&quot;language-text&quot;&gt;kubectl label cm cm-csa key=value&lt;/code&gt; 는 서비스 팀에 의해서 실행되었다고 해보자.
만들어진 오브젝트에 대한 관리 주체는 기본적으로 데브옵스 팀이 되지만, &lt;code class=&quot;language-text&quot;&gt;key: value&lt;/code&gt; 라벨에 한해서는 서비스팀이 관리 주체가 된다는 것이다.&lt;/p&gt;&lt;p&gt;만약 오브젝트를 업데이트 하는 과정에서 머지 패치를 안하고 그냥 덮어쓴다면, 서비스팀이 만든 라벨은 갑자기 데브옵스 팀에 의해 사라지게 될 것이다.
이렇게 안되게 하기 위해 머지 패치 과정을 거치게 하는 것이고, &lt;code class=&quot;language-text&quot;&gt;kubectl.kubernetes.io/last-applied-configuration&lt;/code&gt; 를 이 과정 중에 사용하는 것이다.&lt;/p&gt;&lt;p&gt;다음처럼 &lt;code class=&quot;language-text&quot;&gt;kubectl&lt;/code&gt; 옵션 중 하나인 &lt;code class=&quot;language-text&quot;&gt;--show-managed-fields&lt;/code&gt; 를 사용하면 실제로 각 필드의 관리 주체가 누구인지 알 수 있다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl get cm cm-csa -o yaml --show-managed-fields

apiVersion: v1
data:
  key: value
kind: ConfigMap
metadata:
  annotations:
    kubectl.kubernetes.io/last-applied-configuration: &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;apiVersion&amp;quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;v1&amp;quot;&lt;/span&gt;,&lt;span class=&quot;token string&quot;&gt;&amp;quot;data&amp;quot;&lt;/span&gt;:&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;key&amp;quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;value&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;token string&quot;&gt;&amp;quot;kind&amp;quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;ConfigMap&amp;quot;&lt;/span&gt;,&lt;span class=&quot;token string&quot;&gt;&amp;quot;metadata&amp;quot;&lt;/span&gt;:&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;annotations&amp;quot;&lt;/span&gt;:&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;token string&quot;&gt;&amp;quot;name&amp;quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;cm-csa&amp;quot;&lt;/span&gt;,&lt;span class=&quot;token string&quot;&gt;&amp;quot;namespace&amp;quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;default&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  creationTimestamp: &lt;span class=&quot;token string&quot;&gt;&amp;quot;2022-12-21T14:28:14Z&amp;quot;&lt;/span&gt;
  labels:
    key: value
  managedFields:
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  - apiVersion: v1&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    fieldsType: FieldsV1&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    fieldsV1:&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      f:data:&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;        .: &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;        f:key: &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      f:metadata:&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;        f:annotations:&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;          .: &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;          f:kubectl.kubernetes.io/last-applied-configuration: &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    manager: kubectl-client-side-apply&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    operation: Update&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    time: &lt;span class=&quot;token string&quot;&gt;&amp;quot;2022-12-21T14:28:14Z&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  - apiVersion: v1&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    fieldsType: FieldsV1&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    fieldsV1:&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      f:metadata:&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;        f:labels:&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;          .: &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;          f:key: &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    manager: kubectl-label&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    operation: Update&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    time: &lt;span class=&quot;token string&quot;&gt;&amp;quot;2022-12-21T14:28:50Z&amp;quot;&lt;/span&gt;&lt;/span&gt;  name: cm-csa
  namespace: default
  resourceVersion: &lt;span class=&quot;token string&quot;&gt;&amp;quot;2194033&amp;quot;&lt;/span&gt;
  uid: &lt;span class=&quot;token number&quot;&gt;33084809&lt;/span&gt;-6b86-479e-95af-97d45e38daf6&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;managedFields&lt;/code&gt; 내에 다음처럼 2개의 &lt;code class=&quot;language-text&quot;&gt;manager&lt;/code&gt; 가 보인다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;kubectl-client-side-apply&lt;/code&gt;&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;kubectl-label&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;첫 번째의 경우 &lt;code class=&quot;language-text&quot;&gt;kubectl apply&lt;/code&gt; 로 인해 생긴 필드들을 관리하는 주체임을 알 수 있다.
두 번째의 경우는 &lt;code class=&quot;language-text&quot;&gt;kubectl label&lt;/code&gt; 로 인해 생긴 필드들을 관리하는 주체임을 알 수 있다.
이렇듯, 각 필드는 각자의 관리 주체를 가진다.&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;물론 위처럼 &lt;code class=&quot;language-text&quot;&gt;kubectl apply&lt;/code&gt; 이 아닌 배포 명령어들(&lt;code class=&quot;language-text&quot;&gt;kubectl label&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;kubectl patch&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;kubectl edit&lt;/code&gt; 등)을 쓰거나 혼용하는 것은 안티패턴이다.
여기서는 단지 예를 위해 위렇게 표현했다.&lt;/p&gt;&lt;p&gt;그리고 보통 프로덕션 환경에서의 관리 주체는 위처럼 특정 팀이라기 보단 배포 도구나 Operator들이 되곤 한다.
kubectl, helm, ArgoCD 등이 이 예시가 되겠다.&lt;/p&gt;&lt;/blockquote&gt;&lt;h2 id=&quot;csa-client-side-apply&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#csa-client-side-apply&quot; aria-label=&quot;csa client side apply permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;CSA (Client Side Apply)&lt;/h2&gt;&lt;p&gt;위에서 &lt;code class=&quot;language-text&quot;&gt;kubectl apply&lt;/code&gt; 로 인해 생긴 필드들의 관리 주체가 &lt;code class=&quot;language-text&quot;&gt;kubectl-client-side-apply&lt;/code&gt; 임을 알았다.
그런데 왜 &lt;code class=&quot;language-text&quot;&gt;kubectl-apply&lt;/code&gt; 가 아니라 &lt;code class=&quot;language-text&quot;&gt;kubectl-client-side-apply&lt;/code&gt; 일까?
왜 &lt;code class=&quot;language-text&quot;&gt;client-side&lt;/code&gt; 란 용어가 들어가있을까?&lt;/p&gt;&lt;p&gt;이유는, 우리가 일반적으로 사용해온 &lt;code class=&quot;language-text&quot;&gt;kubectl apply&lt;/code&gt; 는 Client Side 옵션으로 실행되기 때문이다.
이는 다음처럼 &lt;code class=&quot;language-text&quot;&gt;kubectl apply&lt;/code&gt; 의 옵션을 살펴보면 알 수 있다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl apply --help

&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.
--field-manager&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;kubectl-client-side-apply&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt;
        Name of the manager used to track field ownership.
&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.
--server-side&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;false:
        If true, apply runs &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; the server instead of the client.
&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;기본적으로 &lt;code class=&quot;language-text&quot;&gt;--server-side&lt;/code&gt; 옵션의 값이 &lt;code class=&quot;language-text&quot;&gt;false&lt;/code&gt; 이기 때문에, 우리가 위에서 실행한 &lt;code class=&quot;language-text&quot;&gt;kubectl apply&lt;/code&gt; 를 좀 더 풀어쓰면 다음과 같다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl apply -f cm-csa.yaml --server-side&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;false&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;이처럼 우리가 일반적으로 사용하는 &lt;code class=&quot;language-text&quot;&gt;kubectl apply&lt;/code&gt; 는 &lt;code class=&quot;language-text&quot;&gt;--server-side=false&lt;/code&gt; 옵션이 붙어서 실행되며, 이렇게 실행하는 방식을 CSA(Client Side Apply)라 부른다.&lt;/p&gt;&lt;p&gt;CSA의 특징은 API 서버에게 요청을 보낼 때, 최종적으로 요청에 실을 Manifest를 클라이언트에서 모두 만들고 요청을 보낸다는 것이다.
즉 머지 패칭의 과정을 클라이언트(kubectl)에서 실행한다(&lt;code class=&quot;language-text&quot;&gt;metadata.annotations&lt;/code&gt; 에  &lt;code class=&quot;language-text&quot;&gt;kubectl.kubernetes.io/last-applied-configuration&lt;/code&gt; 를 붙이는 것도 &lt;a href=&quot;https://github.com/kubernetes/kubectl/blob/3e4add843df6081d9a679b6d70a24b01c307d2dd/pkg/cmd/apply/apply.go#L752&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;kubectl&lt;/code&gt; 이 한다&lt;/a&gt;).
API 서버는 요청에 실려있는 Manifest를 패치(PATCH) 하기만 한다.&lt;/p&gt;&lt;h2 id=&quot;csa의-문제점&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#csa%EC%9D%98-%EB%AC%B8%EC%A0%9C%EC%A0%90&quot; aria-label=&quot;csa의 문제점 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;CSA의 문제점&lt;/h2&gt;&lt;p&gt;Client Side Apply를 쓰면 어떤 문제 상황이 생길 수 있을까?&lt;/p&gt;&lt;p&gt;위처럼 &lt;code class=&quot;language-text&quot;&gt;kubectl label cm cm-csa key=value&lt;/code&gt; 로 라벨을 추가한 상황에서 Manifest 파일을 다음처럼 수정한 뒤 배포한다고 해보자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# cm-csa.yaml&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; v1
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ConfigMap
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; cm&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;csa
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  &lt;span class=&quot;token key atrule&quot;&gt;labels&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token key atrule&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; modified&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;value&lt;/span&gt;&lt;span class=&quot;token key atrule&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;value&amp;quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;key: modified-value&lt;/code&gt; 라벨을 추가했다.
이 때, 기존의 라벨과 같은 &lt;code class=&quot;language-text&quot;&gt;key&lt;/code&gt; 임을 인지하자.&lt;/p&gt;&lt;p&gt;이제 다음처럼 배포해보자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl apply -f cm-csa.yaml

configmap/cm-csa configured&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;문제없이 잘 배포되었다.&lt;/p&gt;&lt;p&gt;라벨이 잘 추가되었는지 확인해보자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl get cm cm-csa -o yaml --show-managed-fields
apiVersion: v1
data:
  key: value
kind: ConfigMap
metadata:
  annotations:
    kubectl.kubernetes.io/last-applied-configuration: &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;apiVersion&amp;quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;v1&amp;quot;&lt;/span&gt;,&lt;span class=&quot;token string&quot;&gt;&amp;quot;data&amp;quot;&lt;/span&gt;:&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;key&amp;quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;value&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;token string&quot;&gt;&amp;quot;kind&amp;quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;ConfigMap&amp;quot;&lt;/span&gt;,&lt;span class=&quot;token string&quot;&gt;&amp;quot;metadata&amp;quot;&lt;/span&gt;:&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;annotations&amp;quot;&lt;/span&gt;:&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;token string&quot;&gt;&amp;quot;labels&amp;quot;&lt;/span&gt;:&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;key&amp;quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;modified-value&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;token string&quot;&gt;&amp;quot;name&amp;quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;cm-csa&amp;quot;&lt;/span&gt;,&lt;span class=&quot;token string&quot;&gt;&amp;quot;namespace&amp;quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;default&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  creationTimestamp: &lt;span class=&quot;token string&quot;&gt;&amp;quot;2022-12-21T15:05:49Z&amp;quot;&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  labels:&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    key: modified-value&lt;/span&gt;  managedFields:
  - apiVersion: v1
    fieldsType: FieldsV1
    fieldsV1:
      f:metadata:
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;        f:labels: &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;    manager: kubectl-label
    operation: Update
    time: &lt;span class=&quot;token string&quot;&gt;&amp;quot;2022-12-21T15:06:00Z&amp;quot;&lt;/span&gt;
  - apiVersion: v1
    fieldsType: FieldsV1
    fieldsV1:
      f:data:
        .: &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        f:key: &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      f:metadata:
        f:annotations:
          .: &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          f:kubectl.kubernetes.io/last-applied-configuration: &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;        f:labels:&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;          f:key: &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;    manager: kubectl-client-side-apply
    operation: Update
    time: &lt;span class=&quot;token string&quot;&gt;&amp;quot;2022-12-21T15:09:34Z&amp;quot;&lt;/span&gt;
  name: cm-csa
  namespace: default
  resourceVersion: &lt;span class=&quot;token string&quot;&gt;&amp;quot;2197986&amp;quot;&lt;/span&gt;
  uid: 2f4c6231-c884-4302-a1e2-9cad271545d4&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;문제없이 잘 추가되었다.
해당 라벨에 대한 &lt;code class=&quot;language-text&quot;&gt;manager&lt;/code&gt; 도 &lt;code class=&quot;language-text&quot;&gt;kubectl-client-side-apply&lt;/code&gt; 로 변경되었다.&lt;/p&gt;&lt;p&gt;자 그럼 이렇게 아무 문제없이 잘 변경된 것이 정말 문제가 없는 것일까?
&lt;code class=&quot;language-text&quot;&gt;kubectl label&lt;/code&gt; 로 라벨을 최초에 추가한 사람 입장에선 갑자기 자기가 추가한 라벨의 값이 누군가에 의해서 바뀌게 되었다.
만약 이 과정 중 합의가 없었더라면, 이 사람에게는 꽤 짜증나는 상황이 될 것이다.&lt;/p&gt;&lt;p&gt;즉 지금의 문제는, 각 필드에 대한 관리 주체는 있으나 관리 주체가 아니더라도 누구나 필드를 수정하고 덮어쓸 수 있다는 것이다.&lt;/p&gt;&lt;h2 id=&quot;ssa-server-side-apply&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#ssa-server-side-apply&quot; aria-label=&quot;ssa server side apply permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;SSA (Server Side Apply)&lt;/h2&gt;&lt;p&gt;위 같은 문제를 느낀 일부 유저들은 필드의 관리 주체가 아닌 주체가 필드를 업데이트하려고 한다면, 이를 바로 업데이트 하지 못하도록 API 서버 단에서 막아야 한다고 생각했다.
결국 클라이언트인 &lt;code class=&quot;language-text&quot;&gt;kubectl&lt;/code&gt; 이 아니라, &lt;a href=&quot;https://github.com/kubernetes/enhancements/issues/555&quot;&gt;서버인 API 서버에서 Apply 실행에 대한 머지 패칭이 진행되게끔 기능이 추가&lt;/a&gt;되었고,
이 기능이 바로 &lt;a href=&quot;https://kubernetes.io/docs/reference/using-api/server-side-apply/&quot;&gt;SSA(Server Side Apply)&lt;/a&gt;다.&lt;/p&gt;&lt;p&gt;SSA를 사용하면 이제 더이상 &lt;code class=&quot;language-text&quot;&gt;kubectl.kubernetes.io/last-applied-configuration&lt;/code&gt; 를 사용하지 않는다.
오로지 &lt;code class=&quot;language-text&quot;&gt;managedFields&lt;/code&gt; 만을 사용하여 API 서버에서 머지 패칭을 진행하며, 필드의 관리 주체가 아닌 주체가 필드를 업데이트하려고 한다면 Conflict 메시지와 함께 업데이트가 진행되는 것을 막는다.&lt;/p&gt;&lt;p&gt;SSA 옵션을 한번 사용해보자.&lt;/p&gt;&lt;p&gt;위에서 만든 Configmap 오브젝트를 삭제하고 다시 다음처럼 Configmap Manifest를 준비한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# cm-ssa.yaml&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; v1
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ConfigMap
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; cm&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;ssa
&lt;span class=&quot;token key atrule&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;value&amp;quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;이제 &lt;code class=&quot;language-text&quot;&gt;kubectl apply&lt;/code&gt; 로 배포할건데, 이 때 다음처럼 &lt;code class=&quot;language-text&quot;&gt;--server-side&lt;/code&gt; 옵션을 같이 준다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl apply -f cm-ssa.yaml --server-side

configmap/cm-ssa serverside-applied&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;만들어진 오브젝트를 확인해보자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl get cm cm-ssa -o yaml --show-managed-fields

apiVersion: v1
data:
  key: value
kind: ConfigMap
metadata:
  creationTimestamp: &lt;span class=&quot;token string&quot;&gt;&amp;quot;2022-12-22T15:08:14Z&amp;quot;&lt;/span&gt;
  managedFields:
  - apiVersion: v1
    fieldsType: FieldsV1
    fieldsV1:
      f:data:
        f:key: &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    manager: kubectl&lt;/span&gt;    operation: Apply
    time: &lt;span class=&quot;token string&quot;&gt;&amp;quot;2022-12-22T15:08:14Z&amp;quot;&lt;/span&gt;
  name: cm-ssa
  namespace: default
  resourceVersion: &lt;span class=&quot;token string&quot;&gt;&amp;quot;2263083&amp;quot;&lt;/span&gt;
  uid: f5485a89-a8a8-4d42-a948-39977f88042a&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;먼저 &lt;code class=&quot;language-text&quot;&gt;kubectl.kubernetes.io/last-applied-configuration&lt;/code&gt; 가 없는 것을 알 수 있다.
또한 &lt;code class=&quot;language-text&quot;&gt;manager&lt;/code&gt;가 &lt;code class=&quot;language-text&quot;&gt;kubectl&lt;/code&gt; 이 된 것을 볼 수 있다.
(CSA로 배포했을 때는 &lt;code class=&quot;language-text&quot;&gt;manager&lt;/code&gt; 가 &lt;code class=&quot;language-text&quot;&gt;kubectl-client-side-apply&lt;/code&gt; 였다.)&lt;/p&gt;&lt;p&gt;이제 다음처럼 오브젝트에 라벨 &lt;code class=&quot;language-text&quot;&gt;key: value&lt;/code&gt; 을 추가해본다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl label cm cm-ssa &lt;span class=&quot;token assign-left variable&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;value

configmap/cm-ssa labeled&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;그리고 CSA의 문제 상황을 만든 것처럼 Manifest 파일을 다음처럼 수정하자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# cm-ssa.yaml&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; v1
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ConfigMap
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; cm&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;ssa
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  &lt;span class=&quot;token key atrule&quot;&gt;labels&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token key atrule&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; modified&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;value&lt;/span&gt;&lt;span class=&quot;token key atrule&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;value&amp;quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;아까와 같이 &lt;code class=&quot;language-text&quot;&gt;kubectl apply&lt;/code&gt; 에 &lt;code class=&quot;language-text&quot;&gt;--server-side&lt;/code&gt; 옵션을 주어 배포한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl apply -f cm-ssa.yaml --server-side

error: Apply failed with &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; conflict: conflict with &lt;span class=&quot;token string&quot;&gt;&amp;quot;kubectl-label&amp;quot;&lt;/span&gt; using v1: .metadata.labels.key
Please review the fields above--they currently have other managers. Here
are the ways you can resolve this warning:
* If you intend to manage all of these fields, please re-run the apply
  &lt;span class=&quot;token builtin class-name&quot;&gt;command&lt;/span&gt; with the &lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;--force-conflicts&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;/span&gt; flag.
* If you &lt;span class=&quot;token keyword&quot;&gt;do&lt;/span&gt; not intend to manage all of the fields, please edit your
  manifest to remove references to the fields that should keep their
  current managers.
* You may co-own fields by updating your manifest to match the existing
  value&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; this case, you&amp;#x27;ll become the manager &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; the other manager&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  stop managing the field &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;remove it from their configuration&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;.
See https://kubernetes.io/docs/reference/using-api/server-side-apply/&lt;span class=&quot;token comment&quot;&gt;#conflicts&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;이번엔 아까 CSA를 사용할 때와는 다르게 에러 메시지가 등장한다.
메시지를 해석해보면, &lt;code class=&quot;language-text&quot;&gt;.metadata.labels.key&lt;/code&gt; 값의 관리 주체는 &lt;code class=&quot;language-text&quot;&gt;kubectl-label&lt;/code&gt; 인데 지금 너(&lt;code class=&quot;language-text&quot;&gt;kubectl&lt;/code&gt;)랑 달라서 충돌이 나고, 업데이트를 할 수 없다는 것이다.&lt;/p&gt;&lt;p&gt;그리고 여기에 대한 대안 3가지를 다음처럼 말해준다.&lt;/p&gt;&lt;ol&gt;&lt;li&gt;이렇게 덮어쓰는 걸 의도한게 맞다면, &lt;code class=&quot;language-text&quot;&gt;--force-conflicts&lt;/code&gt; 을 붙여서 기존 관리 주체를 무시하고 CSA처럼 그냥 덮어써라.&lt;/li&gt;&lt;li&gt;의도한게 아니라면, Manifest 파일에서 관리 주체가 다른 필드(여기서는 &lt;code class=&quot;language-text&quot;&gt;.metadata.labels.key&lt;/code&gt;)를 빼라.&lt;/li&gt;&lt;li&gt;해당 필드에 대한 관리 주체를 너(&lt;code class=&quot;language-text&quot;&gt;kubectl&lt;/code&gt;)를 포함시켜라. (이 경우, 기존 관리 주체가 해당 필드를 포기하면 필드 관리 권한은 나에게 넘어온다.)&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;사실상 현실적인 선택지는 1번과 2번인거 같다.
3번은 결국 관리 주체로 내가 포함되어도, 소유권은 여전히 기존 관리 주체에게 있기 때문에, 바로 해당 필드를 삭제하거나 업데이트할 수가 없기 때문이다.&lt;/p&gt;&lt;h2 id=&quot;그래서-ssa는-왜-쓰는가&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EA%B7%B8%EB%9E%98%EC%84%9C-ssa%EB%8A%94-%EC%99%9C-%EC%93%B0%EB%8A%94%EA%B0%80&quot; aria-label=&quot;그래서 ssa는 왜 쓰는가 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;그래서 SSA는 왜 쓰는가?&lt;/h2&gt;&lt;p&gt;그럼 위에서 1을 선택하면 결과적으로는 CSA랑 별 차이를 모르겠는데, 그럼 대체 SSA는 CSA와 비교하여 무엇이 좋으며, 왜 써야하는걸까?&lt;/p&gt;&lt;p&gt;여러 사이트에서 의견을 찾아보고 정리하면 다음과 같다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;CSA와 다르게 SSA는 Conflict을 내기 때문에, 실수로 기존 관리 주체를 그대로 덮어써버리는 실수를 줄일 수 있다.&lt;/li&gt;&lt;li&gt;CSA는 (내가) 관리하지 않아도 되는 필드를 모두 적어줘야했지만, SSA는 (내가) 관리할 필드만 적어서 제출하면 된다.&lt;/li&gt;&lt;li&gt;복잡한 CR(Custom Resource)을 CSA로 쓰면 &lt;code class=&quot;language-text&quot;&gt;kubectl.kubernetes.io/last-applied-configuration&lt;/code&gt; 이 꽤 비대해지는데, 더 이상 이런 비대한 필드를 볼 일이 없고, etcd의 저장 공간을 아낄 수 있다.&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;개인적인 생각으로는 SSA는 한 오브젝트에 대해 여러 관리 주체가 수정을 시도할 때, CSA보다 조금 더 정밀하고 안전하게 시도할 수 있게끔 해주는게 가장 큰 장점인거 같다.&lt;/p&gt;&lt;p&gt;한편, 여러 관리 주체가 수정을 시도하는 환경이 아니라면(예를 들어 모든 &lt;code class=&quot;language-text&quot;&gt;kubectl&lt;/code&gt; 을 팀 내 한 사람만 쓴다든지, ArgoCD만을 이용하여 배포한다든지),
내 생각엔 굳이 SSA까지 써야하나 싶은 생각도 든다.&lt;/p&gt;&lt;h2 id=&quot;code-classlanguage-text--dry-runservercode&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#code-classlanguage-text--dry-runservercode&quot; aria-label=&quot;code classlanguage text  dry runservercode permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code class=&quot;language-text&quot;&gt;--dry-run=server&lt;/code&gt;&lt;/h2&gt;&lt;p&gt;한편 SSA를 쓰는 경우, 다음처럼 &lt;code class=&quot;language-text&quot;&gt;--dry-run=client&lt;/code&gt; (&lt;code class=&quot;language-text&quot;&gt;--dry-run&lt;/code&gt; 과 동일)은 쓸 수 없다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl apply -f cm-ssa.yaml --server-side --dry-run&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;client

error: --dry-run&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;client doesn&amp;#x27;t work with --server-side &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;did you mean --dry-run&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;server instead?&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;상식적으로 생각해봐도 API 서버를 안거치는 &lt;code class=&quot;language-text&quot;&gt;--dry-run=client&lt;/code&gt; 와 API 서버를 거쳐야 하는 &lt;code class=&quot;language-text&quot;&gt;--server-side&lt;/code&gt; 는 같이 사용하는 것은 이상하며, 상충되는 일이다.
따라서 SSA를 쓰는 경우 &lt;code class=&quot;language-text&quot;&gt;--dry-run&lt;/code&gt; 을 사용하고 싶다면, 다음처럼 &lt;code class=&quot;language-text&quot;&gt;--dry-run=server&lt;/code&gt; 을 사용해야 한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl apply -f cm-ssa.yaml --server-side --dry-run&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;server

configmap/cm-ssa serverside-applied &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;server dry run&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;&lt;p&gt;한편 CSA를 쓰면서 &lt;code class=&quot;language-text&quot;&gt;--dry-run=server&lt;/code&gt; 을 쓰는 것은 가능하다.
그럼 &lt;code class=&quot;language-text&quot;&gt;--dry-run&lt;/code&gt; 의 값으로 &lt;code class=&quot;language-text&quot;&gt;client&lt;/code&gt; 와 &lt;code class=&quot;language-text&quot;&gt;server&lt;/code&gt; 는 무슨 차이인가? 하면 &lt;code class=&quot;language-text&quot;&gt;client&lt;/code&gt; 는 요청이 API Server 내 Admission Controller를 거치지 않는 한편,
&lt;code class=&quot;language-text&quot;&gt;server&lt;/code&gt; 는 거친다. 따라서, &lt;code class=&quot;language-text&quot;&gt;--dry-run&lt;/code&gt; 으로 배포에 문제가 없는지 확인하고 싶다면 &lt;code class=&quot;language-text&quot;&gt;server&lt;/code&gt; 값을 사용하는게 맞고, 단순히 &lt;code class=&quot;language-text&quot;&gt;-o yaml&lt;/code&gt; 옵션과 함께
YAML 스펙만 확보하고 싶다면 &lt;code class=&quot;language-text&quot;&gt;client&lt;/code&gt; 옵션만 써도 무방하다.
이에 대한 자세한 내용이 궁금하다면 &lt;a href=&quot;https://nunoadrego.com/posts/kubectl-dry-run/&quot;&gt;이 블로그 글&lt;/a&gt;을 참고하면 좋을거 같다.&lt;/p&gt;&lt;/blockquote&gt;&lt;h2 id=&quot;정리&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%A0%95%EB%A6%AC&quot; aria-label=&quot;정리 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;정리&lt;/h2&gt;&lt;p&gt;지금까지 작성한 내용을 요약, 정리하면 다음과 같다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;kubectl은 초기에 CSA만 지원했고, CSA를 사용하면 kubectl은 오브젝트 업데이트에 &lt;code class=&quot;language-text&quot;&gt;kubectl.kubernetes.io/last-applied-configuration&lt;/code&gt; 필드를 머지 패칭에 활용했다.&lt;/li&gt;&lt;li&gt;그러나 이는 한 필드에 대해 여러 관리 주체가 있는 경우, Conflict 없이 쉽게 기존 값을 덮어써서 문제가 될 수 있었다.&lt;/li&gt;&lt;li&gt;kubectl에 SSA가 등장했고, SSA를 사용하면 &lt;code class=&quot;language-text&quot;&gt;kubectl.kubernetes.io/last-applied-configuration&lt;/code&gt; 은 사용되지 않고, kubectl이 아닌 API 서버가 머지 패칭을 진행한다.&lt;/li&gt;&lt;li&gt;필드에 기존과 다른 관리 주체가 업데이트를 시도하면 Conflict 에러가 나고 업데이트를 진행시키지 않는다. 따라서 더 안전하게 업데이트(Apply)를 진행할 수 있다.&lt;/li&gt;&lt;/ul&gt;&lt;blockquote&gt;&lt;p&gt;잘못되거나 틀린 내용이 있을 수 있습니다.
이러한 부분은 댓글로 말씀해주시면 정말 감사하겠습니다.&lt;/p&gt;&lt;/blockquote&gt;&lt;h2 id=&quot;참고&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%B0%B8%EA%B3%A0&quot; aria-label=&quot;참고 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;참고&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://kubernetes.io/docs/reference/using-api/server-side-apply/&quot;&gt;https://kubernetes.io/docs/reference/using-api/server-side-apply/&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://kubernetes.io/blog/2022/10/20/advanced-server-side-apply/&quot;&gt;https://kubernetes.io/blog/2022/10/20/advanced-server-side-apply/&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://kubernetes.io/blog/2022/11/04/live-and-let-live-with-kluctl-and-ssa/&quot;&gt;https://kubernetes.io/blog/2022/11/04/live-and-let-live-with-kluctl-and-ssa/&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://github.com/kubernetes/enhancements/blob/master/keps/sig-api-machinery/555-server-side-apply/README.md&quot;&gt;https://github.com/kubernetes/enhancements/blob/master/keps/sig-api-machinery/555-server-side-apply/README.md&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://argo-cd.readthedocs.io/en/latest/proposals/server-side-apply/#motivation&quot;&gt;https://argo-cd.readthedocs.io/en/latest/proposals/server-side-apply/#motivation&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=P12z8X-qhis&amp;amp;ab_channel=AquaSecurityOpenSource&quot;&gt;https://www.youtube.com/watch?v=P12z8X-qhis&amp;amp;ab_channel=AquaSecurityOpenSource&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://nunoadrego.com/posts/kubectl-dry-run/&quot;&gt;https://nunoadrego.com/posts/kubectl-dry-run/&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[블로그에 Plausible Analytics을 사용해보기]]></title><description><![CDATA[무료 트라이얼 기간(한 달)동안 Plausible Analytics Cloud를 블로그에 연동하여 사용해봤다.
이제 내일 쯔음에 트라이얼 기간이 끝나는데, 그 전에 사용 방법과 간단한 후기를 기록해보려 한다. 또 Plausible Analytics…]]></description><link>https://heumsi.github.io/blog/posts/plausible-as-blog-analytics/</link><guid isPermaLink="false">https://heumsi.github.io/blog/posts/plausible-as-blog-analytics/</guid><pubDate>Sat, 17 Dec 2022 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;무료 트라이얼 기간(한 달)동안 Plausible Analytics Cloud를 블로그에 연동하여 사용해봤다.
이제 내일 쯔음에 트라이얼 기간이 끝나는데, 그 전에 사용 방법과 간단한 후기를 기록해보려 한다.&lt;/p&gt;&lt;p&gt;또 Plausible Analytics은 Self-Hosting 방식으로도 사용할 수 있는데,
Self-Hosting으로 배포해보고, 뭐가 다른지도 한번 살펴봐야겠다.&lt;/p&gt;&lt;h2 id=&quot;plausible-analytics&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#plausible-analytics&quot; aria-label=&quot;plausible analytics permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Plausible Analytics&lt;/h2&gt;&lt;p&gt;Plausible Analytics에 대한 설명부터 간단히 하자.&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://plausible.io/&quot;&gt;Plausible Analytics&lt;/a&gt;은 Web Analytics이다.
쉽게 말해, 웹 사이트 내 사용자와 관련된 유용한 통계 정보들을 웹 UI 대시보드로 제공해주는 도구라 보면 되겠다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:57.432432432432435%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACLUlEQVQoz4VS22rbQBTUHzUUbL8Wt099KOlfBEKh5F9CHkPpHwRBWijEdUJpEntlWZFXF8uWZDu9OL4ksa1dabVTVrk1lLaC4axWZ+bszkgrPX3y9vmLKnm9/uqgWn1WL5VK9XK5XNR/oVwp3fdWKpVauVw5WVtbW9dOG43dMIoRxQNEUQzT8kGMNoKghzCM4HcD+N1eUbtBH1EcwWz38P6dD0L6iAcR+mGEXj9E/fBoS/s5vtgGAAkwACKXEJmQQq0lUNQ7yFvc9Dy8A+C5BPphuKkNhqMdxlMkjGeMp3K5SmBTD6ZFYdkOSMtF/dBF7XMHnrtAL2DwvATDIQNLC55kPBWrhMFxvTfacHS+w9MMjKeFoFonjGMynWM8meJiMkXQG8Pzx/gxnuFiMsNsfq3676A4QnFcz38syNNMTVPXv3++HOWo11Lkv2/eWFQIKs5fBdW0NBPoBgEaTQKj1cbHDwb29w00m20QYoIYJhoNgjgeIhP5/0+4Sph0PU+enBqSGKa0O5akji2tM1uenXWk2bakaVqyG/TVcPmH4GA42r71QmmKq+uFMlhI+ZCiLFLNHyWu+hLGhQqE8ZSrUFzP29TOv33fVf+BOr7ySX24XiwhJbBYCiyWOVZJjtk8w3SWYnaZgXOBy6urgiMUcgllld8NtrSvx8cbjuMeUEr3XNfVLcvSjVZLt21HbzY7OiE3MAx6j1bL1puE6JQ6OnUc3XGcPUrpp1qt9vIX1z34Ajw7KZ8AAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;1.png&quot; title=&quot;1.png&quot; src=&quot;/blog/static/7ff8d1e7504dba3faf57714d309b09d9/fcda8/1.png&quot; srcSet=&quot;/blog/static/7ff8d1e7504dba3faf57714d309b09d9/12f09/1.png 148w,/blog/static/7ff8d1e7504dba3faf57714d309b09d9/e4a3f/1.png 295w,/blog/static/7ff8d1e7504dba3faf57714d309b09d9/fcda8/1.png 590w,/blog/static/7ff8d1e7504dba3faf57714d309b09d9/efc66/1.png 885w,/blog/static/7ff8d1e7504dba3faf57714d309b09d9/c83ae/1.png 1180w,/blog/static/7ff8d1e7504dba3faf57714d309b09d9/efb68/1.png 2032w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;Plausible Analytics 공식 홈페이지 화면&lt;/em&gt;&lt;/p&gt;&lt;p&gt;비슷하면서 아주 유명한 도구로 &lt;a href=&quot;https://analytics.google.com/analytics/web/&quot;&gt;GA(Google Analytics)&lt;/a&gt;가 있는데,
뭐가 많고 복잡한 GA보다 Plausible Analytics이 더 간단하고 직관적이며 가볍다.
당장 위 대시보드만 봐도, 블로그 같은 곳에 되게 가볍게 쓰기 좋다고 느낄 수 있을 것이다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:57.432432432432435%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACMUlEQVQoz21S3UobQRTeF6qtJhGt0Cu9KfTnMQoiFN9FvJS+gp1ChdSfhYLERIzZzWazps1Ge29tdufMOWfnlJlV20IHPs7vfHPOxwTPm0/er6+/OH/z+tXRxsZGuLa2Fi4vL4fNZit8trgYLi01wkajRqvV8rUHuHh1dTVcWVk5bjaanacLC2+D9uHx3mTyTa4mE0mSRMZZJuk4k2GSyjAZySjNJE0zb6fTXGaza8nzmcc0zyWfzeT7dCpJMpJ2+8t2cD7Md6gSsSJgiHkOzFbEo7K1lXtYK1xV9jF2cLEVMa55nF1tBlk23i01iAZDpQaLxggCiLMGQAhRrLUeACBFqaWqrAdXlYBBq8Gwyw+ieCuYzq53waAnNAatayQWQbbiJicf12BmT4TEgkjCXIlBsmCQ3VBRPNwKrm9+PBK618DUjdbv9wc1YSXuPEzsDv5FGA8TR3jjCcEgaTD2592daA1CxH4iZx20ISeyIJGQyzOLBpJ6iJpwlI7/JSy1sb/mpUVES8R2rtEaZEvMtgS02pDlex+w9v9HuKPBuJWh1MDzQjMRs0HkEpANEiMSF9qwEx9d3vt1zeU0GOMI03S86TTc8yLfC317eytFUXrx50UhRVEIEfn13cNOy1pH98+Mv0dc+VoySreDw6Pjd4MoPhpE0f4gilW321W9Xk8N41h9PT1Tp50zFUWxGvQv1IdPffXxJFEnnZHq9RPV6Z6r/uVARXG8f9G/bH8+OHj5GxxbBXbvH0Z/AAAAAElFTkSuQmCC&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;2.png&quot; title=&quot;2.png&quot; src=&quot;/blog/static/9362952d2b0dee72197912ad246061f5/fcda8/2.png&quot; srcSet=&quot;/blog/static/9362952d2b0dee72197912ad246061f5/12f09/2.png 148w,/blog/static/9362952d2b0dee72197912ad246061f5/e4a3f/2.png 295w,/blog/static/9362952d2b0dee72197912ad246061f5/fcda8/2.png 590w,/blog/static/9362952d2b0dee72197912ad246061f5/efc66/2.png 885w,/blog/static/9362952d2b0dee72197912ad246061f5/c83ae/2.png 1180w,/blog/static/9362952d2b0dee72197912ad246061f5/efb68/2.png 2032w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;기능은 많지만 다소 복잡한 GA&lt;/em&gt;&lt;/p&gt;&lt;p&gt;나는 원래 블로그에 Web Analytics으로 GA를 쓰고 있었는데, GA에서 대시보드 구성 중에 차트의 부족함과 설정에 대한 피로감을 느껴,
GA 대안 도구를 찾고 있었다. 대안 도구로는 다음의 것들이 있었다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://plausible.io/&quot;&gt;Plausible Analytics&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://ackee.electerious.com/&quot;&gt;Ackee&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.hotjar.com/&quot;&gt;Hotjar&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://posthog.com/&quot;&gt;Posthog&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://umami.is/&quot;&gt;Umami&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;여기서 Plausible Analytics가 Github Star 수가 제일 높기도 하고, 문서도 깔끔하게 되어있어서 이를 선택하게 되었다.&lt;/p&gt;&lt;h2 id=&quot;saas-cloud&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#saas-cloud&quot; aria-label=&quot;saas cloud permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;SaaS (Cloud)&lt;/h2&gt;&lt;p&gt;공식 홈페이지에 들어가면 Plausible Analytics을 쉽고 빠르게 사용할 수 있게 SaaS 형태로도 제공하는데,
일단 30일은 트라이얼 기간으로 준다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:57.432432432432435%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACCUlEQVQoz61QXW8SURDdfySJAim8FZ98avRPmDQkpv+l4bH/oW5tTasUYiJdPpTYwt6F3aWtGoGoKft1Z++9M+ZugRQT35zk5J6Ze+ZkZozC40evKk+3ey+e79Qrle3mk3y+mc/nm8VisVkul5ulUmkD5XKpWSgUMo1GaWtLa8+LxaKVy+V2jFbLOhi7Pnn+hMauR6OxSzq/Gtj08aJDne5nsto9anc+Ze9Fu0s2G21oNXdGLtXPG3vGt+8/9lOhiIPkkEqpISTKu0Ukh8yVI/dGspGfvbbjS2d8LaMYMs1KD6kCDkKb7hq+f10LwpiCMBZBGKPmURRTwjn9KxZBSGGU9dCyR94tQrq8GlYNf3JTC8JkbRjFMf36ySkIgBAVKYUbQMTMLEn4pmEQ3Rve3n6tcZ5SwkEkHDDhQGmKJAURIpGUkgCAAFIS8JtQQTalrscJ0LJHxjEnmzlVYzab1ZabCCJCTRKR0iKISUpFXIn1qrquzyHEWkpLIvU2vu9Xjel0mhkiosBlCCkQUkCllD4Bvqt/wJbVRaEkAgAKIbK/VWhDpRR5npcZ7usaInJElA+hhWkqZKfXl18uh1l+Pw3+DdAn8Dxv15jP5wf0n2IymewZlmW9ZIzVGWOHjDFTw7Ztc+Q4Zr/fN0/enppHb07M10fH5unZe3MwGJgr3QMc2rZ91mg0nv0BAnYDers7eiQAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;3.png&quot; title=&quot;3.png&quot; src=&quot;/blog/static/2a90f353f35934c0dc3ab3015bad27f8/fcda8/3.png&quot; srcSet=&quot;/blog/static/2a90f353f35934c0dc3ab3015bad27f8/12f09/3.png 148w,/blog/static/2a90f353f35934c0dc3ab3015bad27f8/e4a3f/3.png 295w,/blog/static/2a90f353f35934c0dc3ab3015bad27f8/fcda8/3.png 590w,/blog/static/2a90f353f35934c0dc3ab3015bad27f8/efc66/3.png 885w,/blog/static/2a90f353f35934c0dc3ab3015bad27f8/c83ae/3.png 1180w,/blog/static/2a90f353f35934c0dc3ab3015bad27f8/efb68/3.png 2032w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;결제 정보를 입력하지 않고, 계정만 만들면 사용할 수 있다.&lt;/p&gt;&lt;h2 id=&quot;dashboard--panels&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#dashboard--panels&quot; aria-label=&quot;dashboard  panels permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Dashboard &amp;amp; Panels&lt;/h2&gt;&lt;p&gt;계정을 만들고 블로그 연동과 관련된 작업을 몇가지 해두면, 다음처럼 대시보드 화면을 볼 수 있다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:57.432432432432435%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACCElEQVQoz5WRzWrbQBSF/RKNNDP6tSWNNCPJsmw5rf/i2KmhTRd9jEIplLxL6DLvULwspGjZRZ8nJYNOmbHIooFCFoc7wz3n417ugBHrK0/T3/N5cy+kaAl1WtumLWVOy5jTEkJbyyKtZdmtbZOW6j6hvVjruF5LmfuTMufXmWV/HDA/vfNGBcJ4DD8qod9uKMGLBfL6Alm1RFatwMsFRmIOXi4R8incMIc3LOCPClO1qMdvBsTNbqkvQTz5QHypqJ8r4gk1kgslm2uV1m9VUm2N4vLC1IA3xqO91GTkH82wHf55QLzsGwtysCB/ZEHe6Tf1BEZyCTF7h7Q+gE/24NUe6eQKvNrBT2agvkCf0xnFNNDlX56A1JeP1JcnoC8wEq8Rl2tE+RJJuQEfbxAVK/DxFiFvnoB9RtH/AYmXIW8ukc8PSMZbiHqH2foD5GyPrN5jmJ2bLV4AFEgnW2T1DlGxBq8uMF1dQ073iMsNghdO2FFfdMPsvIvLdRcV6y4uVh0fb8w/LjddkMyM5+R9Bkxve+CDvphu6gtG+VJl04NKJ5cqq3eqPD8oXm1VVu9VJN8YTw96duW7/lpP0usMxQJpfYV0cmlWTsa9qi3CdK4HwL852+U3gzMafbKc5N5iyXeLJUfLSY4Wi4/OsDyGaWPkJ9OT+OwY8ObIwtx4Tl4jnf3xigzf/wVWnihq8BnDFgAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;4.png&quot; title=&quot;4.png&quot; src=&quot;/blog/static/5d43f27a1268a160da585370c20b3915/fcda8/4.png&quot; srcSet=&quot;/blog/static/5d43f27a1268a160da585370c20b3915/12f09/4.png 148w,/blog/static/5d43f27a1268a160da585370c20b3915/e4a3f/4.png 295w,/blog/static/5d43f27a1268a160da585370c20b3915/fcda8/4.png 590w,/blog/static/5d43f27a1268a160da585370c20b3915/efc66/4.png 885w,/blog/static/5d43f27a1268a160da585370c20b3915/c83ae/4.png 1180w,/blog/static/5d43f27a1268a160da585370c20b3915/efb68/4.png 2032w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;대시보드에는 총 5가지 패널이 나오는데, 각 패널들은 다음과 같은 차트와 데이터를 보여준다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;전반적인 통계에 대한 대표 값과 시계열 그래프&lt;ul&gt;&lt;li&gt;유니크 방문자 수 (Unique Visitors)&lt;/li&gt;&lt;li&gt;총 페이지 뷰 (Total Pageviews)&lt;/li&gt;&lt;li&gt;이탈율 (Bounce Rate)&lt;/li&gt;&lt;li&gt;방문 지속 시간 (Visit Duration)&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;Top N 유입 소스에 대한 통계&lt;ul&gt;&lt;li&gt;유입 소스 (Top N Sources)&lt;/li&gt;&lt;li&gt;소스 내 유입 경로 (Top Referrers)&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;Top N 페이지별 통계&lt;ul&gt;&lt;li&gt;페이지의 방문 수 (Top Pages)&lt;/li&gt;&lt;li&gt;페이지의 유니크 방문 수 (Entry Pages)&lt;/li&gt;&lt;li&gt;페이지의 이탈 수 (Exit Pages)&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;사용자 인구, 통계 정보&lt;ul&gt;&lt;li&gt;지도&lt;/li&gt;&lt;li&gt;나라&lt;/li&gt;&lt;li&gt;지역&lt;/li&gt;&lt;li&gt;도시&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;재밌는건, 특정 패널 내 값을 선택하면, 해당 값으로 대시보드 내 데이터가 필터링 되어, 대시보드가 그 값에 맞게 다시 갱신된다는 것이다.&lt;/p&gt;&lt;p&gt;예를 들어, Top Sources에서 &lt;code class=&quot;language-text&quot;&gt;dailyheumsi.tistory.com&lt;/code&gt; 소스를 클릭하면,
다음처럼 대시보드 전체가 &lt;code class=&quot;language-text&quot;&gt;dailyheumsi.tistory.com&lt;/code&gt; 소스 기준의 데이터로 갱신된다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:57.432432432432435%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB+0lEQVQoz5WRy2rcMBiF5yUa25LvN91sj+0Ze2Yy9wxpm3QT6EsUSqHkXUKWeYfiZSHFyy76PCkR/os1ZqANlHZxkCWd80nyGWFD+0wo/VHX1SPnvDUtpzUtuzVNq0XYVDKQ2Wqa3uo6ahEyW91ASoaBW9t2e883hM3vZ5p+M8IOfbCDFLxoDE6YgRNkYPsJkGQBotwCLzYgijXEyRwCVkGcnoNHSrC8BGw/HfypErLJ7ciw2B1yBBi2eDIcIZGTSMPmMhBLmc5vZLZ4L0V1JWl5kKQ4yiWV8vRepDLiZ8/QTfJxZNjsHrsJYDd5xm7S9d/I5hCIFfDpFbDJWyVavj6NLqkAORyGXJ+RuAda5NMJiBzxjBxxAoZiAXG2hiBZQpSuIMpWECZLiMfb34BDRqK/AQ2bAS+2kM3eAMl3QIs9TJbXIKaXwMoD+GymDv1nYH+6R2fqNlG2UeNk+Q745KDmHq3/64Ydcnjns1kXZesuTNddlK46mm87Mt6oNTeeKs/R+wJI7wbgU99Yv9k3GIpzycoLSYu9ZOVepvWlJPlOsvIgAz5XngH0ouWHoa2T+k2fL4AWF+r/kXyrnq2U74ZSBPyZ0y1yOzpD4QfNjB81HH/RcNxoZtxoOGqsIG98Nms8VjcOmSq5tGo8WjfYS5Xn6FXqs19fGf71L7vzKN1GrtXrAAAAAElFTkSuQmCC&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;5.png&quot; title=&quot;5.png&quot; src=&quot;/blog/static/0109ea2ea1f8288f408a111dbe88ba00/fcda8/5.png&quot; srcSet=&quot;/blog/static/0109ea2ea1f8288f408a111dbe88ba00/12f09/5.png 148w,/blog/static/0109ea2ea1f8288f408a111dbe88ba00/e4a3f/5.png 295w,/blog/static/0109ea2ea1f8288f408a111dbe88ba00/fcda8/5.png 590w,/blog/static/0109ea2ea1f8288f408a111dbe88ba00/efc66/5.png 885w,/blog/static/0109ea2ea1f8288f408a111dbe88ba00/c83ae/5.png 1180w,/blog/static/0109ea2ea1f8288f408a111dbe88ba00/efb68/5.png 2032w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;또 이 상태에서 Top Pages에서 &lt;code class=&quot;language-text&quot;&gt;/blog/posts/goodbye-socar/&lt;/code&gt; 페이지를 클릭하면,
다음처럼 대시보드 전체가 &lt;code class=&quot;language-text&quot;&gt;dailyheumsi.tistory.com&lt;/code&gt; 소스 기준이면서 &lt;code class=&quot;language-text&quot;&gt;/blog/posts/goodbye-socar/&lt;/code&gt; 페이지 기준의 데이터로 갱신된다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:57.432432432432435%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB/klEQVQoz5WRzWrcMBSF5yUajyRbsse2ZFm25ycez0zmNxloyhT6Q1+iUAol7xKyzDsULwspXnbR50mJ8C3SmJQ2UNrF4V6scz7ZPj2CnE88Ed+ranqXpmnjeqxxPdpQ5jeM+Q0hboOx2zhOv0EI272PsBVCpKHUbzBxv2Lifjtx+m96hCW3NMwhiIfAogJYWAAdZCDyM8gmO0iGS5DDJfBsBqGcAs8XEIgJeEEGdJB3/twKU3HVQ568xkwBouoeMaUxyzSiUodqpYv5W10s3ul8/lqr6Uutqlc6LQ/aF6VGNLVebDPqh2H0XfGhh6i8IX4GxM8eiJ+1Zsc0hTBbQ1oeQJ5egjx9AUk3jXwxBcxS6HImo4kBeuLjIxAz9YCZ+gVUc+DFGsJsCXG+snuULYEXm9+AXUbjvwERlSDHWyhmlyBGOytV7iEZX4Cc7CFIKnvpPwPN7UEyAz7cQlxsIMrXVmY3zxgv/+sNW8zSdiBnbVys2zhft1G+auN8dZzFpvV5aT1H7xNgct0B701j5tA0GKkzLScXOhmf21lUz7UY7bSc7HWYzq2nAz1p+bZr61HmcJAu7D9LxucgRlv7qVajXVeKgj9zfU9c9U5w9N5x+Z1D+GeH8Npxee2QuPbCUT2QszqQVc1EaeUn0zpIqpoEufUcvVYm++UZGhx+AuYnKLWPR9qYAAAAAElFTkSuQmCC&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;6.png&quot; title=&quot;6.png&quot; src=&quot;/blog/static/c28b597a822a933b0219e26a9eec48a3/fcda8/6.png&quot; srcSet=&quot;/blog/static/c28b597a822a933b0219e26a9eec48a3/12f09/6.png 148w,/blog/static/c28b597a822a933b0219e26a9eec48a3/e4a3f/6.png 295w,/blog/static/c28b597a822a933b0219e26a9eec48a3/fcda8/6.png 590w,/blog/static/c28b597a822a933b0219e26a9eec48a3/efc66/6.png 885w,/blog/static/c28b597a822a933b0219e26a9eec48a3/c83ae/6.png 1180w,/blog/static/c28b597a822a933b0219e26a9eec48a3/efb68/6.png 2032w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;이런식으로 보고자 하는 범위에 맞게 데이터와 대시보드를 드릴 다운 해나갈 수 있다.&lt;/p&gt;&lt;p&gt;대시보드 우측 상단에 보면 Filter라는 버튼이 보이는데, 이렇게 드릴 다운해나간 항목들이 이 필터 내에 담겨있게 된다.
직접 다음처럼 Filter 버튼을 눌러 설정할 수도 있다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:57.432432432432435%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACP0lEQVQoz4WR22oTURiF8xLNnPdMMoe953zIzKRpM8k0PdE0QkHBd1AE6bsUL/sOGnslqHPphc9TcTNLZoilFdGLxfr5N+tjsf+BIglvKWPfy7L47Hleo6qkUTWtkSSlEUS5ESW5EQSpEQSxn7t9p27upGl6IyvqF1lRvw0F8Wqg6OyWmCFGdozOLbdAnK/gJ4dg0QzhZAEvmcNkOdRRAG0cwvJKWP4UuhVBN8M+R8YhZEKvB5Lm3si6D0n370XN5SM25X5+zqPpmkfTDQ+nFzwoTnlQnvCRv881WnAzmHOWHXPNSrlEPC7rwY+OIar09UAi7jvFCKAYwU9Z91uD5mDZKaLZC8QHLxHtPwdNTuFmR2BpBcIKWFEFJ15Cs1J0GcUIuNIBNfrmKZB47YiVCMpn8PI1vPyid7/YwJ2cw45rWNESLDsHTY+hmckDUP4rUPdagxZwkiPQR3KSGk5cg6Yr0GS1269A+obeP4B9wwI0XmDsz2D6Bw+iUQXTn2HszWAFFZxoDmL9p6FE3Nb2Z+20vmrD8qxl2apl6aqlSd0W1abNDi9bPz9p3eykd93O2q7En8CbHfBeJh43aM7dbMWdeMntaLHziufzDU8P1pylNbfCitOk5sROeZdRjKdXvt0Bu/rQnby/4GPZ0QKTw0uE5Rlo/59L0PQIxM76zO+8qNHrwZ5AXg0l4+tQMj4MJeNOVM07YiUfR+5024uVW4MWWxbPt/6k7t1gRf8m695WUOytoDrvBcX5tCeN178AkNkv14k/qZgAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;7.png&quot; title=&quot;7.png&quot; src=&quot;/blog/static/eac6ec684d1240a7be93a48d64302beb/fcda8/7.png&quot; srcSet=&quot;/blog/static/eac6ec684d1240a7be93a48d64302beb/12f09/7.png 148w,/blog/static/eac6ec684d1240a7be93a48d64302beb/e4a3f/7.png 295w,/blog/static/eac6ec684d1240a7be93a48d64302beb/fcda8/7.png 590w,/blog/static/eac6ec684d1240a7be93a48d64302beb/efc66/7.png 885w,/blog/static/eac6ec684d1240a7be93a48d64302beb/c83ae/7.png 1180w,/blog/static/eac6ec684d1240a7be93a48d64302beb/efb68/7.png 2032w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;h2 id=&quot;time-range&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#time-range&quot; aria-label=&quot;time range permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Time Range&lt;/h2&gt;&lt;p&gt;Filter 버튼 옆 컴포넌트을 클릭하면 다음처럼 시간 구간(Time Range)을 설정할 수 있다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:57.432432432432435%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACL0lEQVQoz42R22rbQBCG/RKJtZK1knXa1flgy3YSW5YPSdqQkLxGKYWSdwm5zDsEXRYafNmLPk9Ll/2L1NShB0ovfv6ZH+ZjhulppP+ecf55Mik/BmGwI6q26ytkpyjq3vciL07ID9d1Y6dq+pOqDT4d9pWbnkb5A7VjmG4Kw44xdDP48RHcoITjj2B5OaidwLATUCuG6aSwWAHDzaBbMdrZNqdWBJWy2x7R/TvVCEGM8Iui+8LyZyIavxLReCOC0VpE5VbE5amIy62wo3knnlfC4BOhDRNBaChUI/zaMpQBe9sj1L/XzAiaGX1TjUCarATLagTj12DZGm5SwUtf5CYLJLMtvGyBgZ1CNUKpmZHQWqDO3v0BHLISYXmBaHqDsLwCz7cdmGWrzr20RjzZwI6PMbCSPVD9K5AGcsgn4MUpWL7pYH5x1vU8P32ut/BHKzjJHLqd/QeQlfCSBezoBHZ4DCeaw43nXeZEx13mxkuwtAJ18n8DCQ2kHUxlenQuWbaUXlpJltVdnU7PZDBaS57V0s830i9W0nAL2S7xO/DuGdh92UuOxLi6FCyrBc9XnbNsKcrqSkzra5FMz7ucF2thuIVQaSA0M/rlyw/PQBDqd+flJ5dw4gW8dLnXtL7GrL5BMFrDiSvwfAXDLdqT8XNe0dlt70Chbw6J+XRIzMcDxWyokzdeMm9MXjZDPunU1vF41fhZ1djhrOutYNqoZtj0NbfpD7zHvuZ9OCDWxXczlC9H0KaGCgAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;8.png&quot; title=&quot;8.png&quot; src=&quot;/blog/static/b35ff152ee5cd8f654ce94e500d59af5/fcda8/8.png&quot; srcSet=&quot;/blog/static/b35ff152ee5cd8f654ce94e500d59af5/12f09/8.png 148w,/blog/static/b35ff152ee5cd8f654ce94e500d59af5/e4a3f/8.png 295w,/blog/static/b35ff152ee5cd8f654ce94e500d59af5/fcda8/8.png 590w,/blog/static/b35ff152ee5cd8f654ce94e500d59af5/efc66/8.png 885w,/blog/static/b35ff152ee5cd8f654ce94e500d59af5/c83ae/8.png 1180w,/blog/static/b35ff152ee5cd8f654ce94e500d59af5/efb68/8.png 2032w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;시간 구간을 바꾸면 다음처럼 전체 데이터와 대시보드가 갱신된다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:57.432432432432435%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACFElEQVQoz4WR2YoTQRSG8xKm9yW91dJ7pzvbJN3pJCZEHJF5CkEEmXcZvJx3kL4URnLphc8zYlFHurMwo6IXH4c6VH11Dn9PkYSPHkbfR6PigVJ6UFX9IIrSQXiCKMpHpFM99yT5oGnGQVbUr7KifusL4tueouN73QrBdGMw7BAsLwMaXYHnF+DQHGyUgeHEHbp9vOeQHCycd+cOqyUAWUe3PUkjd7Lhg2T4j6JGmE0mLCj2zM83HWGxYdF4y/x8zexgzpxw0eHFFdPslEk6ZbIR/Ggdoore9ySdfFLMABQz+CkblA9wASipwI3KDpxuwIuX4MXVM1CyBN1JQTZ8rpgBU1qhhj78ITRRAV6yBDc6Sv3iNaB0DW60uHzS0ko1O7kI5X8JyXAHJNsCyV4CPpNuul5bzzyd8O9CnfIBKgAnFVj+DJzgqsMNF4DiCuyuNwc3bNcu/z+hpFNu0wlPZ3tOsprjdMlxUnOcVDyZ7ng03nKc1pyka06HK264GW+H+E2I707CR0kjzI3mbFzfdAmTbM1wWjOcLtmofMOmqxuWTPddwiRbMdMbdikr5vOU709CkHQKTjSBeLYDJyzBvSRaQVFeQ764BjpcgxOVQLIVGO6wXRnO70UN3fb6svNOUL0HQfU+92Wn0dy4IVnZWGTcmHjUDE6Eed2gaN5YtO0XjU0njWL6TV9xm/atoHhfXkjWq1+Mqy+p/fywyAAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;9.png&quot; title=&quot;9.png&quot; src=&quot;/blog/static/02e4345ca369f91ec0aa8db3fbd9eb54/fcda8/9.png&quot; srcSet=&quot;/blog/static/02e4345ca369f91ec0aa8db3fbd9eb54/12f09/9.png 148w,/blog/static/02e4345ca369f91ec0aa8db3fbd9eb54/e4a3f/9.png 295w,/blog/static/02e4345ca369f91ec0aa8db3fbd9eb54/fcda8/9.png 590w,/blog/static/02e4345ca369f91ec0aa8db3fbd9eb54/efc66/9.png 885w,/blog/static/02e4345ca369f91ec0aa8db3fbd9eb54/c83ae/9.png 1180w,/blog/static/02e4345ca369f91ec0aa8db3fbd9eb54/efb68/9.png 2032w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;h2 id=&quot;google-search-console&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#google-search-console&quot; aria-label=&quot;google search console permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Google Search Console&lt;/h2&gt;&lt;p&gt;블로그에 Google Search Console을 붙여놨다면, 다음처럼 Plausible Analytics Site Settings 페이지에서 Google Search Console이랑도 연동이 가능하다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:57.432432432432435%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACJUlEQVQoz3WR22rbQBCG/RKNrT3qaGm1OtiyJNs5OE0aWkgJKaUPUQiFkncJucw7FF0WUnzZiz5PQhb/ZRWHHkIuPoZhdj5mZgfUGX4dJ/Gvtm1uVZquOZdrSvl65NC1s2XkkD5/tTPq6fMR6SOhbE0o/0Eo+7kzHH0YUJHcCD+HF5UQfoax3kNR7UMGOZinwb0Mtk5EirOz9/j08RzeeIJIzSCCvO+xdRuJiC8HDldXRGo4Ut+NuDKhWphJc2Ky6YHJpwemqFZGBKWxNe7lPURoQ+Q/3FvHiMUXA0eoa+pmoG72QKTecL+ACEpQV2OcL1HO3yCrXyPQC8ikgasaeKqBn87BgxK2h7qZoVbI4y/PhDKcQAQTDFmCIFtCN8fQzRFUdYi42EVU7CHId+FnSzD/j5C8JLTTyWiKIVOI8gWKxVvo+gR5e4x0uuqF4VbK/OJlIZH6YVsE83I4IkFSnENVp/B0CzddQKbzHnfLMyH7b0LqZhv7wBF6Q2S6EUG7YX61IV62oV7+F8UjbvaEsY5+Qh5Nr+yxZdLciaQ2Xro0Yb5rvHRueFwZL223zI2r2i1NH0VcG5k0lnuZ1GBheTEQ8ezGrvO0UlSuUC7fQdXHkOkC+fwEaX3Uf46aHWI8XWE8OUBU7kOqOZ567Qn4eHo5IH72mYblLQ3LbzQsOxYWHYsmHY8mnc0D3XYyrjoWlp2Iq85Vs85NHqFB0b/Z9n53vPT0N2pTKfzbTQM7AAAAAElFTkSuQmCC&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;10.png&quot; title=&quot;10.png&quot; src=&quot;/blog/static/a936c0935d4e23676030c422c082edca/fcda8/10.png&quot; srcSet=&quot;/blog/static/a936c0935d4e23676030c422c082edca/12f09/10.png 148w,/blog/static/a936c0935d4e23676030c422c082edca/e4a3f/10.png 295w,/blog/static/a936c0935d4e23676030c422c082edca/fcda8/10.png 590w,/blog/static/a936c0935d4e23676030c422c082edca/efc66/10.png 885w,/blog/static/a936c0935d4e23676030c422c082edca/c83ae/10.png 1180w,/blog/static/a936c0935d4e23676030c422c082edca/efb68/10.png 2032w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;이렇게 연동해두면, Top Sources에서 &lt;code class=&quot;language-text&quot;&gt;Google&lt;/code&gt; 소스를 클릭했을 때 다음처럼 Top Referrers가 아닌 Search Terms이 나오게 된다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:57.432432432432435%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACMElEQVQoz4WR2W7TQBSG8xLE+5LEnhmP7XiL7TSbszgNLS0C8RJIFRLqu1Rc9h3QXCIV+ZILnqeIkQ/yNEQCsVz8mplz9H86c/6epkjvEcFfiyJ/oJQ2umE2umE0sqI2kqwI9ftS05fkRpaVRpbVRlE00e9kGFajavpnVdO/9CX5VU+zyL05CmHgxtCdLs0hzmsI0iX4yRJovAAcTgH5JdgohRHJAIVTcIMpWE4E1igUPnMYgmri255ieHeq5YNi+Y+y4fEBKTnNzjnNdicF+Z7TrOZutOY43nEUrTlJttx0Eq6YlKtW8K1jyDq+6Smm90GzA9Ds4Ltq+a2NJ4DjLTjhEpxwATipAUVbcffSA9DJBZB0D+54BaaTQOfR7IBrHdDA734DUgH08xfgZQcgSQ1+fiWE4vWx/lz0UFQdgVQA1b8DcwHy0nOg2QFwvBawbiov3QNJa9Enye7/QMWk7dArIJhsYeSfwSiYgRPMwQ3nQOLVU82fgRtWQOIKzFF8+vI/gGWbzC5amu1akmxaL922KKraYnXdTjev22R22fqTWvRNN23/MCG5OwIfVYtyC2XcHVfcHa+EUFRxJ1zwsnrJ5/UbkXhXx/FapNx5NPvXlO+PwG586HYo9hZVJ3WJ5qtrmCyvgGY78cbJBkw3FZ6fftnAt72+6ryVdPQg6eijpLlMG4RsQAo29ErmBGfMJgWzSc5QOGNDOmVoPGcDr2QDr2CqRVnnefKiT8+U4eUPJm8wi//aEbEAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;11.png&quot; title=&quot;11.png&quot; src=&quot;/blog/static/4565a0e6fde75301e62120bc9f9469c2/fcda8/11.png&quot; srcSet=&quot;/blog/static/4565a0e6fde75301e62120bc9f9469c2/12f09/11.png 148w,/blog/static/4565a0e6fde75301e62120bc9f9469c2/e4a3f/11.png 295w,/blog/static/4565a0e6fde75301e62120bc9f9469c2/fcda8/11.png 590w,/blog/static/4565a0e6fde75301e62120bc9f9469c2/efc66/11.png 885w,/blog/static/4565a0e6fde75301e62120bc9f9469c2/c83ae/11.png 1180w,/blog/static/4565a0e6fde75301e62120bc9f9469c2/efb68/11.png 2032w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;h2 id=&quot;email-reports&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#email-reports&quot; aria-label=&quot;email reports permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Email Reports&lt;/h2&gt;&lt;p&gt;다음처럼 Plausible Analytics Site Settings 페이지에서 이메일로 위클리 리포트를 받아보는 설정을 할 수도 있다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:57.432432432432435%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACBUlEQVQoz42Rz2rcMBDG9yW6tiVZkv9KtmR717G9ay+laUOh9BQKPfdaKKUl7xJ6zDuUHAspPvbQ50mI0AQ724ZtSunhYzSab34MfAvsOZ9TKX52XXuV5/lICB09hMel445Lx5ur66LR9fBeaK/73vfZiDD5jjD5sXTc0wWm8oKGBQRJBTTUINQGqvoYVNXP0qthnhGuwA/0rMk3v0MNLCpg2p/+EBVnC8/PzhFT4FF17dHcsHhlItkYnqyNKAej6mcmyFrDRWsC2Rma1MaP14aJI0PC0nhUGcTUzcRwifiw8Gj2BXMNmOtbxJSlUQV+WIJDBIjqBNa7V6Da5yDrHQT6CHi+AZZvINA9+FEF0w7m2uAJ6IuPj4AsXgFLanBIBlw0EOsBvKAAGp+A0G+BZ1tgWTdDSVj+BqI/gYip2/0QMC8A0RwCOUBc7CBUHaj6FKruHfC8n6/kagskrP4NxFzbaTD3NIdYPQXVvIBID0BlDX5aAc+6e+B8YfVfF9o92NJkbVnaWpflNsne2Lr5ZJncWCoby2RrSVjavwDl+R54jdicmJkMU+JJ0ZtV/9Ko5tjE5WCiojc86wyVrQnU1vjR6pf/IOWLfSgHmgxMNJCUO0jKAUK1BSbbA02hYPaw4/ribLFE8XuHpFcOTr86OL18rORyiZO5OiQ91INv2v32xAtf3wFHuSSMeuXdVAAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;12.png&quot; title=&quot;12.png&quot; src=&quot;/blog/static/92e344cb2df72bb42dfa75fd58c9fc56/fcda8/12.png&quot; srcSet=&quot;/blog/static/92e344cb2df72bb42dfa75fd58c9fc56/12f09/12.png 148w,/blog/static/92e344cb2df72bb42dfa75fd58c9fc56/e4a3f/12.png 295w,/blog/static/92e344cb2df72bb42dfa75fd58c9fc56/fcda8/12.png 590w,/blog/static/92e344cb2df72bb42dfa75fd58c9fc56/efc66/12.png 885w,/blog/static/92e344cb2df72bb42dfa75fd58c9fc56/c83ae/12.png 1180w,/blog/static/92e344cb2df72bb42dfa75fd58c9fc56/efb68/12.png 2032w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;이렇게 설정해두면 주 단위로 다음과 같은 리포트를 이메일에서 볼 수 있다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:57.432432432432435%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACIElEQVQoz32S3WrUQBiGcz8WxCa7VouteNgqeBlCKUgvwyNPynoivQPBsiiFLS2havHAWrObbvcnm2RrpVa3u0kmM5OZzCuTbdeuBQMvmW++Z54kHzHum7efP5if+7L48NHOwsKi/fjJsr20vGTP3Zu3Z03LnjVL9p1ZyzYty7askm1apeJ+lVKpbJfLd3dN0/o8c2vmqfF+d39j32nD6/XRbHk47vjoeCFanQCtboC2F6LdDeD1Qvh+iDDsIwj66PnjWsfzfLhuE1tbtTXjQ72/3j6XiCgYAJmrv9F1JiDPzmNJWVbUg4jJhIpifRUF8FwBPT9YMY6b7crwIgJlQgiZK8YFroekHFGcIkpSxITi9DzCRcSKHmWZjj4jU8pxcHC4arTavcrgIgHjUsh/hDyTSFOGOCZIkhRErwkBZbzo8TGneCYl1cKvh6tGwz2ujKJ0SqjhiZBy/BwkIEwiE+P9hNAJMxGyS2HXCyoJ4f8Vxgm5LsB15oawf/KjQpkEZROh4lyqS1DpGcUJUYRyRZkoapKyoqeZqU/WMwzD0/WU6gELJmQu9YCvokGSMvnr90BSRqVSuX6qjJN0imNccP2GjcbRinHy/WyDZwqZUNCXkGoqmcgxHCXoBQP44QiDIYeQ+Q1OiFz/j2vG3t6nZ079aMdx3M2Ge1R16u5U9N7BYaP66vV29cXLd9U3bz9Wm81m9ZszxW06dbdWq20v/QEV0AIsoc+a4gAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;13.png&quot; title=&quot;13.png&quot; src=&quot;/blog/static/5dc26d3020c8d26ae2d83c85259b4e35/fcda8/13.png&quot; srcSet=&quot;/blog/static/5dc26d3020c8d26ae2d83c85259b4e35/12f09/13.png 148w,/blog/static/5dc26d3020c8d26ae2d83c85259b4e35/e4a3f/13.png 295w,/blog/static/5dc26d3020c8d26ae2d83c85259b4e35/fcda8/13.png 590w,/blog/static/5dc26d3020c8d26ae2d83c85259b4e35/efc66/13.png 885w,/blog/static/5dc26d3020c8d26ae2d83c85259b4e35/c83ae/13.png 1180w,/blog/static/5dc26d3020c8d26ae2d83c85259b4e35/efb68/13.png 2032w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;h2 id=&quot;self-hosting&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#self-hosting&quot; aria-label=&quot;self hosting permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Self Hosting&lt;/h2&gt;&lt;p&gt;무료 트라이얼 기간이 곧 끝나서, 이제 SaaS가 아닌 Self Hosting으로 Plausible을 사용해보려 한다.
설치 및 배포 방법은 &lt;a href=&quot;https://plausible.io/docs/self-hosting&quot;&gt;공식 홈페이지&lt;/a&gt;에 아주 친절히 다 나와있다.&lt;/p&gt;&lt;p&gt;먼저 VM이 하나 필요한데, 나는 GCP에 있는 프리 티어 GCE(Google Compute Engine)를 사용하기로 했다.
프리 티어 GCE에 대한 내용은 &lt;a href=&quot;https://cloud.google.com/free/docs/free-cloud-features#free-tier-usage-limits&quot;&gt;GCP 관련 문서&lt;/a&gt;나, 아래 스크린 샷 내용을 참고하면 되는데,
요약하면, 아무튼 가장 싼 VM 인스턴스 하나를 계속 써도 돈이 안나온다는 내용이다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:66.21621621621621%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABfElEQVQ4y5WTi47bIBRE8//fWDXd+MEbY7Bjx04yq7mJ06ay1BRpxAWLwwzgw8/K48fJ49R6WBugjIcPCZfLAu8556CtQy4FwzCIxnF8ieNSBpRhwLquODgXQBFmbIAWYAe2Ugq8D7A+YJpnfNIOBGz6DUy4LAti7GCthXMO5unyfr+/FrP+WwfzdGb+cBhiQt9naGMeMGMEzL7ve4m5LMsL+uZwD8jI1+sVXdchhAjjPMbxLHPTNOF8PmNdr/8HZKNL6xys8+hzwe12e1u8wf4ZmUB+ZDxG9iEgdkkc7rn6yCEXpZTkMpR1EptAztPpQ/e38a5DpXkpj4NvmhbGWMQY5Qn1OT/6PiOlXhLknKWn5B3uObQuom0VjsdfOH6d8FVV0FqLlNJy2+xbpaRu2xZ13aDr0j5QamOhCNBa4FxQ17WIgKqq0DQNlFJSVzqhjNM+0PlOovAM8zMmf68tGp1scT96NozMSNyd2hzyXW5nxk045vlyY9bzPOMblRHhJwOXFbEAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;14.png&quot; title=&quot;14.png&quot; src=&quot;/blog/static/5c54cef2040f841071bb4ecf27e87c2e/fcda8/14.png&quot; srcSet=&quot;/blog/static/5c54cef2040f841071bb4ecf27e87c2e/12f09/14.png 148w,/blog/static/5c54cef2040f841071bb4ecf27e87c2e/e4a3f/14.png 295w,/blog/static/5c54cef2040f841071bb4ecf27e87c2e/fcda8/14.png 590w,/blog/static/5c54cef2040f841071bb4ecf27e87c2e/66caf/14.png 853w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;GCP 문서 화면 일부&lt;/em&gt;&lt;/p&gt;&lt;p&gt;여튼 GCE에 ssh로 접속하여 Docker, Docker Compose를 설치해준 뒤, 공식 문서에 나오는대로 Plausible Analytics을 배포하면 된다.
이 과정 중에 VM IP에 붙일 도메인도 필요하고, VM이 https도 지원하게 해야하는데, 도메인은 &lt;a href=&quot;https://www.duckdns.org/&quot;&gt;Duck DNS&lt;/a&gt;를 통해 서브 도메인을 무료로 받았고,
https에 필요한 인증서 및 세팅은 &lt;a href=&quot;https://certbot.eff.org/&quot;&gt;Certbot&lt;/a&gt;을 사용해서 빠르고 쉽게 해결할 수 있었다.&lt;/p&gt;&lt;p&gt;배포하고 브라우저로 접속하면 처음 화면으로 다음 화면이 등장한다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:57.432432432432435%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABs0lEQVQoz5WRTW7UMBSAc4M4yfgvTspMfhwnw8xUk5lSphKIsmPFATgAUoWEuoIFx6hY9gwglkhFs2TBeVrV8kNxnZLSkQqLT/Z7fu+T7efFlLyvavWrbZcXqq63jIstZXxLWfwHyi1smLvLDx4nPzFhr72IFeckqYGlDdCkBiIUYKFu1rgCHCvI6w1kVQsRlzc5d97TxxHLTz1EijNEJSAiLxGROqBSI1JqLBrdLJ7pZv+5nq9e6nl7rGftC100hzriSve1jivrwNmJF5Dic8gqCFl1HbLKdHtESuDjBczWxyDnR5DKFSTFEkgyBSym4Op7uh4dsu5S+btbYUDldUjlrTDO9qF4vLGinogreFSsrTigElyfFQb0ASGfLGCsDqy4k6VlawWjWFnxfwkDUgIbzyFrnkJarkDkSxDuhl3jQPZPQoNIbkS2McuDj+bJ5oNZH34yavbGBKww7s+ME5ldwjMnvBxMzU5yJJQmaaPp3lTjpNaucRdXTnjiBbQ4/2tq7jn9k/qcgl11QxDJTz1/NH6LcHbh48kXhCffOny3IpxZutgfDfP3+Irw5Lsf7b36DQlqEdARupduAAAAAElFTkSuQmCC&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;15.png&quot; title=&quot;15.png&quot; src=&quot;/blog/static/031a379c994b2d5bdfd957e4957ceb71/fcda8/15.png&quot; srcSet=&quot;/blog/static/031a379c994b2d5bdfd957e4957ceb71/12f09/15.png 148w,/blog/static/031a379c994b2d5bdfd957e4957ceb71/e4a3f/15.png 295w,/blog/static/031a379c994b2d5bdfd957e4957ceb71/fcda8/15.png 590w,/blog/static/031a379c994b2d5bdfd957e4957ceb71/efc66/15.png 885w,/blog/static/031a379c994b2d5bdfd957e4957ceb71/c83ae/15.png 1180w,/blog/static/031a379c994b2d5bdfd957e4957ceb71/efb68/15.png 2032w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;SaaS 버전에서와 마찬가지로 똑같이 계정 만들고, 사이트 등록해주고, 스크립트 코드 심어주면 된다.&lt;/p&gt;&lt;p&gt;그러면 다음처럼 SaaS 버전에서 쓰는 것과 동일한 화면이 등장하게 된다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:57.432432432432435%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB+klEQVQoz42R247TMBCG+xI0jZ04aY6OnaRpk7TdhaSnXS1CiMNbICEktO+y2st9BlAukRb1kgueZxGWB9k9QKVFcPHrj2fyf/J4etg0PlKWfK/r8p5zvsWWszUGaDsw8dY0sfZToUeEvyJsf+v3B296mNA74mfgBjkoD5I5ZONzcPwMLJeDPTyVFxVHqf/tYQq2lwLxUkAkvu6ZdnKDHA6mwx9MwgTxC5HkrQjYVHi0FsOoFLY30sLDXPdV3aW1wG4mkMMFctIfijGw4vc9kyS32E0Bu+lPRJj06Ax4dQW82gCvLrQXZ88hrS8hyBoI81aLjldAgjEgh0vspgIroB1/OAU6TLpxBdFocQz+1kLXD724UMAJqIwCor8D632oeQR6UANxsQYSlqCm+ieQjtf6Biq089XxvOstgU4u/uOGhMlhXElaLGWQPpNB1sgwa2WUt5IWi10tbWSUL2U8aqXtj+ThDf8A0ps98MG0ExGmZ6JqXopkvBJxsRRU+0IU8yuRTS8FKzcimWwEK9fCCScCESawe7rluz0QTMIgTM+hbl/pLarRlKK8hdnyNcxXb4GVG/3GeimhGpnDIT+w4+teHwXvDCu6N6zoUx8Fne3nnc/nnRvXnUuVpvp7NN10Uf50X6s7L5l1yGGdgcPOsKLPBo6+PDG9F78AF68tDCSSoQcAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;16.png&quot; title=&quot;16.png&quot; src=&quot;/blog/static/0f592b4dbef23bfe85274adb7082afd9/fcda8/16.png&quot; srcSet=&quot;/blog/static/0f592b4dbef23bfe85274adb7082afd9/12f09/16.png 148w,/blog/static/0f592b4dbef23bfe85274adb7082afd9/e4a3f/16.png 295w,/blog/static/0f592b4dbef23bfe85274adb7082afd9/fcda8/16.png 590w,/blog/static/0f592b4dbef23bfe85274adb7082afd9/efc66/16.png 885w,/blog/static/0f592b4dbef23bfe85274adb7082afd9/c83ae/16.png 1180w,/blog/static/0f592b4dbef23bfe85274adb7082afd9/efb68/16.png 2032w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;무료 VM이라 성능이 과연 얼마나 받춰줄 수 있을지 모르겠지만, 일단 돌아는 가니까...
이걸로 매달 9달러는 굳혔다!&lt;/p&gt;&lt;h2 id=&quot;후기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%ED%9B%84%EA%B8%B0&quot; aria-label=&quot;후기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;후기&lt;/h2&gt;&lt;p&gt;GA랑 비교하면, 훨씬 간결하고 깔끔하다.
&amp;quot;알잘딱깔센&amp;quot;이 딱 들어맞는달까?&lt;/p&gt;&lt;p&gt;고오급 기능은 없지만(사실 어울리지도 않고), 나처럼 가볍게 블로그 통계 대시보드를 보는데에는 딱 핏한거 같다.
블로그에 GA도 물론 연동해놨지만, 왠만하면 Plausible Analytics를 주로 볼거 같다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[찍먹음 시리즈 #1 Airbyte]]></title><description><![CDATA[…]]></description><link>https://heumsi.github.io/blog/posts/savor-airbyte/</link><guid isPermaLink="false">https://heumsi.github.io/blog/posts/savor-airbyte/</guid><pubDate>Sat, 26 Nov 2022 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;찍먹음 시리즈는 &amp;quot;찍어 먹어보고 음미하기 시리즈&amp;quot;의 약자로, 개인적으로 평소 궁금했던 소프트웨어를 빠르게 시도해본 뒤 기본 사용법과 후기를 기록하는 글 모음입니다. &lt;/p&gt;&lt;p&gt;쓰고보니 별로 깊이 없는 내용일 가능성이 높으며, 의식의 흐름에 따라 쓰는 경우가 더러 있으므로 이점 양해해서 읽어주시면 되겠습니다 :)&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;이 글을 바탕으로 &amp;quot;수군수군 데이터 엔지니어링 밋업 1회&amp;quot;에서 발표를 진행했습니다.
발표 슬라이드를 보고 싶으신 분은 &lt;a href=&quot;https://docs.google.com/presentation/d/1h2-0MetjyYWxsq3TYQL0OusG---X5K_upEGV21EHlkk/edit?usp=sharing&quot;&gt;이 페이지&lt;/a&gt;를 참고하시면 됩니다.&lt;/p&gt;&lt;/blockquote&gt;&lt;hr/&gt;&lt;h2 id=&quot;들어가며&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0&quot; aria-label=&quot;들어가며 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;들어가며&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://airbyte.com&quot;&gt;Airbyte&lt;/a&gt;는 특정 데이터 스토리지에서 다른 데이터 스토리지로 데이터를 복제하는 오픈소스 도구이다.
보통 통합 데이터 스토리지를 구축하기 위해, 프로덕트에서 사용하는 스토리지 내 데이터를 데이터 웨어하우스나 데이터 레이크로 옮겨야할 때 이런 일을 해야한다.
이런 목적으로 데이터를 복제하는 것을 &amp;quot;통합 스토리지에 데이터를 로드한다&amp;quot;라고 말하며, Airbyte는 이 데이터 로드에 초점을 두고 있는 도구인 것이다.&lt;/p&gt;&lt;p&gt;아래 그림에 나오듯, Airbyte는 데이터 피라미드에서 &amp;quot;Data storage / Management&amp;quot; 영역에 위치한다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:61.48648648648649%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAADLklEQVQoz0WT2W9UZRiHz5/kFSGxRBM1BKx6YTVyAUqjItJoCC4xrSnVmEjlAhOMayCVtnQDWujGdLbOdPbpmeWcM9uZ6Ww9s2+dttEbns90avTiyXv1PsnvXaSpWY+w2GNMz3lYWAywtCyz+jSCyaLicCVwmorEtCrpnQrZXJ3CbpNSuU21tkejuU+j2f2XfZrNfSHduedgcsb9v3DlWLhhV9n2ZbFNGyLs61CttymVO9Tq3aNGOp1DOnuHGKUGyVSRRLJAudJCmn3g49GTbZbXI6xtRDFZVaybMbyBNP4FFfMfuli8W0dPtTHKTco96R6NRpdW64B25/A/Wu0DJJc3hcWuYLUp+IMZYnGDZLZGyqtjvm4Sy7cUfr1eFA+nW2QLZdKZKvliA1XNEwimcG4p2DcjPdKZMpLNEcdiU7HaVTw+nVC0QCJpIH8/x+on82L2Kw+3r6XE10MtEZL3abY7GKU2O9kKetpAi+XQYnkUJUup3EKamHJyZ8LG9KyLhQceNtxpwjNPcV8YE48v/cn0VbO49bHMlYGi+PHmX+wfHBCOZAgEk0SjGVQti6Ls4PfHj4VLy0Huz23xaMnH4zUZnzOK6d0PuHdmUPzy1hg/vPMzw2/PcvHsCmdf8or1dYNc3iCzUyWzUyGZMnpR9XSJbK6GZNuMYTJHsNkVHL4M+soqgeFhYf7yBk9Gfhfz3zzk7phZ3Ph8i2tXIuKn27uk9CKhcBpVO46rafleLRTrSJMzLiYm7UzNe1BDGYSe4O+OEAdyjMS6jLyi4liME3K0SUQFwYAQpZJAUXW2XAqynMLj1XA4IuTyFSSnK4HFGiUar3D/2zHGXz0lxs8NiNHXB8TouY/EyPkvxGcXRsX5/mEx0P+dOHN6XAxe/I14oojLrfW27PXFsdvDvUVJXr8ujk4nIicZ6X+FoZPPMdR3kvf7XuTS6Tf58LX3GHzjMv2nBnn5+cu80HeVEyc+ZW5uC38ggWljG6stxNq6/2ieQlrbiKYtmzFhd8afud0xgsEU4XAGVcmiaTkS8QK6blAo1CkUGz3yhQa7RpNqrUulunf0hs9q9a4oV9rpfwAyqQ3RKboEAQAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;30.png&quot; title=&quot;30.png&quot; src=&quot;/blog/static/f7da4c64a4d4c59dc63f82dd6c11f0f7/fcda8/30.png&quot; srcSet=&quot;/blog/static/f7da4c64a4d4c59dc63f82dd6c11f0f7/12f09/30.png 148w,/blog/static/f7da4c64a4d4c59dc63f82dd6c11f0f7/e4a3f/30.png 295w,/blog/static/f7da4c64a4d4c59dc63f82dd6c11f0f7/fcda8/30.png 590w,/blog/static/f7da4c64a4d4c59dc63f82dd6c11f0f7/efc66/30.png 885w,/blog/static/f7da4c64a4d4c59dc63f82dd6c11f0f7/c83ae/30.png 1180w,/blog/static/f7da4c64a4d4c59dc63f82dd6c11f0f7/29007/30.png 1600w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;출처: &lt;a href=&quot;https://airbyte.com/blog/structure-a-data-team-to-climb-the-pyramid-of-data-science&quot;&gt;https://airbyte.com/blog/structure-a-data-team-to-climb-the-pyramid-of-data-science&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;&lt;p&gt;통합 데이터 스토리지에 데이터를 옮기는 방법은 보통 &lt;a href=&quot;https://www.guru99.com/etl-vs-elt.html&quot;&gt;ETL과 ELT 두 가지 방법&lt;/a&gt;이 있는데, Airbyte는 &lt;a href=&quot;https://airbyte.com/blog/why-the-future-of-etl-is-not-elt-but-el&quot;&gt;ELT 방법을 따른다.&lt;/a&gt;
자세한 내용은 아래에서 천천히 확인해보자.&lt;/p&gt;&lt;p&gt;이번 글에서는 이 Airbyte의 설치 방법, 주요 기능과 사용 방법, 간단한 동작 원리 등을 살펴보겠다.&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;공식 홈페이지에서 Airbyte Demo를 제공하는데, &lt;a href=&quot;https://demo.airbyte.io/workspaces/b734c3d7-ece6-47e0-8f07-c4be707fbcfa/&quot;&gt;이 페이지&lt;/a&gt;에서 확인할 수 있다.&lt;/p&gt;&lt;/blockquote&gt;&lt;h2 id=&quot;시작해보기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%8B%9C%EC%9E%91%ED%95%B4%EB%B3%B4%EA%B8%B0&quot; aria-label=&quot;시작해보기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;시작해보기&lt;/h2&gt;&lt;p&gt;제일 먼저 궁금한 것은, 어떤 핵심 기능을 제공해주고, 어떻게 사용할 수 있는지에 대한 것이다.
빠르게 설치하고 사용해보며 위 궁금함을 해결해보자.&lt;/p&gt;&lt;p&gt;Airbyte는 크게 다음 두 방식으로 사용할 수 있다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Cloud (SaaS)&lt;/li&gt;&lt;li&gt;Open Source (Self-host)&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Cloud를 쓰면 현재는 14일간 Free Trial 기간을 준다.
Cloud도 좋지만 여기서는 직접 배포하는 맛을 느끼기 위해 Open Source 방식으로 사용해보겠다.&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;SaaS 사용에 대한 가격 정보는 &lt;a href=&quot;https://airbyte.com/pricing&quot;&gt;이 페이지&lt;/a&gt;에서 확인할 수 있다.&lt;/p&gt;&lt;/blockquote&gt;&lt;h3 id=&quot;설치하고-배포하기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%84%A4%EC%B9%98%ED%95%98%EA%B3%A0-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0&quot; aria-label=&quot;설치하고 배포하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;설치하고 배포하기&lt;/h3&gt;&lt;p&gt;Local, Kubernetes, AWS 등등 어디에 설치할 것이냐에 따라 설치 방법도 조금 다를 순 있는데, 여기서는 단순하게 하기 위해 Local에 설치한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; clone https://github.com/airbytehq/airbyte.git
$ &lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; airbyte&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;그리고 다음처럼 &lt;code class=&quot;language-text&quot;&gt;docker-compose&lt;/code&gt; 명령어로 배포한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;docker-compose&lt;/span&gt; up&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;다음처럼 컨테이너들이 배포된 것을 확인할 수 있다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;docker-compose&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ps&lt;/span&gt;

              Name                            Command               State                                        Ports
-----------------------------------------------------------------------------------------------------------------------------------------------------------
airbyte-bootloader                 /bin/bash -c $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;APPLICATION &lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.   Exit &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
airbyte-connector-builder-server   uvicorn connector_builder. &lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.   Up       &lt;span class=&quot;token number&quot;&gt;0.0&lt;/span&gt;.0.0:8003-&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;80&lt;/span&gt;/tcp
airbyte-cron                       /bin/bash -c $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;APPLICATION &lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.   Up
airbyte-db                         docker-entrypoint.sh postgres    Up       &lt;span class=&quot;token number&quot;&gt;5432&lt;/span&gt;/tcp
airbyte-proxy                      ./run.sh ./run.sh                Up       &lt;span class=&quot;token number&quot;&gt;80&lt;/span&gt;/tcp, &lt;span class=&quot;token number&quot;&gt;0.0&lt;/span&gt;.0.0:8000-&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8000&lt;/span&gt;/tcp, &lt;span class=&quot;token number&quot;&gt;0.0&lt;/span&gt;.0.0:8001-&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8001&lt;/span&gt;/tcp
airbyte-server                     /bin/bash -c $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;APPLICATION &lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.   Up       &lt;span class=&quot;token number&quot;&gt;8000&lt;/span&gt;/tcp, &lt;span class=&quot;token number&quot;&gt;0.0&lt;/span&gt;.0.0:52152-&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8001&lt;/span&gt;/tcp
airbyte-temporal                   ./update-and-start-temporal.sh   Up       &lt;span class=&quot;token number&quot;&gt;6933&lt;/span&gt;/tcp, &lt;span class=&quot;token number&quot;&gt;6934&lt;/span&gt;/tcp, &lt;span class=&quot;token number&quot;&gt;6935&lt;/span&gt;/tcp, &lt;span class=&quot;token number&quot;&gt;6939&lt;/span&gt;/tcp, &lt;span class=&quot;token number&quot;&gt;7233&lt;/span&gt;/tcp, &lt;span class=&quot;token number&quot;&gt;7234&lt;/span&gt;/tcp, &lt;span class=&quot;token number&quot;&gt;7235&lt;/span&gt;/tcp, &lt;span class=&quot;token number&quot;&gt;7239&lt;/span&gt;/tcp
airbyte-webapp                     /docker-entrypoint.sh ngin &lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.   Up       &lt;span class=&quot;token number&quot;&gt;0.0&lt;/span&gt;.0.0:52151-&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;80&lt;/span&gt;/tcp
airbyte-worker                     /bin/bash -c $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;APPLICATION &lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.   Up       &lt;span class=&quot;token number&quot;&gt;0.0&lt;/span&gt;.0.0:52153-&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;9000&lt;/span&gt;/tcp
init                               /bin/sh -c ./scripts/creat &lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.   Exit &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;&lt;p&gt;Local을 비롯해 여러 환경에 설치하는 방법은 &lt;a href=&quot;https://docs.airbyte.com/category/deploy-airbyte-open-source&quot;&gt;이 페이지&lt;/a&gt;에서 확인할 수 있다.&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;웹 브라우저에서 &lt;code class=&quot;language-text&quot;&gt;http://localhost:8000&lt;/code&gt; 로 접속하면 다음처럼 인증과 관련된 페이지가 등장한다.
&lt;a href=&quot;https://docs.airbyte.com/deploying-airbyte/local-deployment#setup--launch-airbyte&quot;&gt;기본 값&lt;/a&gt;으로 username 값은 &lt;code class=&quot;language-text&quot;&gt;airbyte  &lt;/code&gt;, password 값은 &lt;code class=&quot;language-text&quot;&gt;password&lt;/code&gt; 이다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:57.432432432432435%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABXElEQVQoz62QzWrCQBSF5zH82ShkkUILSjGzFArtotCfxyhYUfQZ7BuIdFFc9QWky4I1iItQqtCNEzCIRklIMV0qzswt12oJIZQiPfAR5t5zzoQh2nGmfHp28nZ1edHO5/O6pml6LpfbQCnVFUXRY7G4Hk8kdFVVN7PdHkE/pfSFUmpkM9lrMhj0m7PZDObzOdi2/cNkMoHFYgG3xRKoB0eQSitQq92B7/ubXdCL+el0Cr1er0J836/Dt5YAwMOUylUeS6Z4Mn3I7x8eeZQHAFZYYNt2gTiO05BSghBiLYSQQgjYgWLMhG63C6/9d3A/PgFAQtCDGSkl55zDaDQqEtd1GxiUUq5xAwGFjpGzbYZjuWVZ0YX42QXRiLcjYjsLlv6pMPxHQSL2vxfuo3BhfXv7Eh93T1b4JJZlFYjneU34J43H4woxDOPGNM02Y6zFGHvak9ZwOHzudDrnX/YaAJ7eztSwAAAAAElFTkSuQmCC&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;1.png&quot; title=&quot;1.png&quot; src=&quot;/blog/static/181eec78aeb5381f5e058b94ce976eac/fcda8/1.png&quot; srcSet=&quot;/blog/static/181eec78aeb5381f5e058b94ce976eac/12f09/1.png 148w,/blog/static/181eec78aeb5381f5e058b94ce976eac/e4a3f/1.png 295w,/blog/static/181eec78aeb5381f5e058b94ce976eac/fcda8/1.png 590w,/blog/static/181eec78aeb5381f5e058b94ce976eac/efc66/1.png 885w,/blog/static/181eec78aeb5381f5e058b94ce976eac/c83ae/1.png 1180w,/blog/static/181eec78aeb5381f5e058b94ce976eac/efb68/1.png 2032w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;인증이 잘 되었으면 다음처럼 Airbyte 웹 UI가 등장하게 된다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:57.432432432432435%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABzUlEQVQoz52R24oTQRCG55Ei5GD0SqI38cbHEJYF2XdZcrnvsHijRNaNsMKGVTaTkDG4M5PDxU7MOdNTVT29XVKZKCZEL2z4+Jvqv366q52njx+9ef7i2Zdq9eVFpVJplMvlLU8axWKxkc8XtuS3FBqFQobsxVMqlT4Wi6XrXC73ynn/7ubM6/Z5MBhwEPR38P2QgyDgMAw5DPsbftX/RGp3dwFfXn46cb7e3J+uVywLHx7Y7IPIJkmMUYqMiskAaGPtrsdaJmMs+35w5IxGwxoAcpJQCoAWgGTPokohLxbEs5ni6XTJk8lyo0oBZz7p2/QYqXW7346d6D6qaW3EkCJqi6g3ZtHBGBmJGBLNsEw4BeI4SXm2IqatD4Ckx0i45/WOnfF4XEvTw4Gj6YTnM+ThkNjvEc+jOa9j4EWMjP8T+EOtGJF4BcSR3A4Ux7M1x+ofgVEkT05/B4oBIFMEI2bredo2m9qGobYa0aKcI2W6H9jvD09l+ACEMtxdcKNeNzHNa2UCPzGkpXnfRySf4nm9I2c4GJ3JgOVj/gZzhrWGNR32EKXc630/ca6uPr9utzsXrts+d93O20Pc3ma0WofPXbdz3mq16/X6h+pPdhsCBgiOYjkAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;2.png&quot; title=&quot;2.png&quot; src=&quot;/blog/static/697958ed28ef8f13b33017407280d8df/fcda8/2.png&quot; srcSet=&quot;/blog/static/697958ed28ef8f13b33017407280d8df/12f09/2.png 148w,/blog/static/697958ed28ef8f13b33017407280d8df/e4a3f/2.png 295w,/blog/static/697958ed28ef8f13b33017407280d8df/fcda8/2.png 590w,/blog/static/697958ed28ef8f13b33017407280d8df/efc66/2.png 885w,/blog/static/697958ed28ef8f13b33017407280d8df/c83ae/2.png 1180w,/blog/static/697958ed28ef8f13b33017407280d8df/efb68/2.png 2032w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;여기서 사용하는 Airbyte 버전은 &lt;code class=&quot;language-text&quot;&gt;0.40.21&lt;/code&gt; 이다.&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;이제 Airbyte의 메인 기능인 데이터 로드(Extract and Load)를 위한 파이프라인을 만들어보자.&lt;/p&gt;&lt;h3 id=&quot;source-추가하기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#source-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0&quot; aria-label=&quot;source 추가하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Source 추가하기&lt;/h3&gt;&lt;h4 id=&quot;테스트용-mysql-만들어두기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%ED%85%8C%EC%8A%A4%ED%8A%B8%EC%9A%A9-mysql-%EB%A7%8C%EB%93%A4%EC%96%B4%EB%91%90%EA%B8%B0&quot; aria-label=&quot;테스트용 mysql 만들어두기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;테스트용 MySQL 만들어두기&lt;/h4&gt;&lt;p&gt;먼저 파이프라인의 소스(Source)가 되는 스토리지를 추가해야한다.
보통 프로덕트에서 사용하는 Database가 될텐데, 여기서는 테스트를 위해 간단히 다음처럼 MySQL 컨테이너를 로컬에 하나 띄워두었다.&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;MySQL 컨테이너는 다음처럼 띄워두었다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;docker&lt;/span&gt; run --name mysql-as-source -e &lt;span class=&quot;token assign-left variable&quot;&gt;MYSQL_ROOT_PASSWORD&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;root -d -p &lt;span class=&quot;token number&quot;&gt;3306&lt;/span&gt;:3306 mysql:8&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;docker&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;exec&lt;/span&gt; -it mysql-as-source mysql -u root -p
&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;p&gt;소스 데이터로는 다음을 준비해두었다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;DATABASE&lt;/span&gt; my_database&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;TABLE&lt;/span&gt; table_one&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  id &lt;span class=&quot;token keyword&quot;&gt;integer&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;PRIMARY&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;KEY&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  name &lt;span class=&quot;token keyword&quot;&gt;VARCHAR&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  updated_at &lt;span class=&quot;token keyword&quot;&gt;timestamp&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;NOW&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;NULL&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;INTO&lt;/span&gt; table_one&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;VALUES&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;Eg1 IncApp&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;INTO&lt;/span&gt; table_one&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;VALUES&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;Eg2 IncApp&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; table_one&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;----+------------+---------------------+&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; id &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; name       &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; updated_at          &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;----+------------+---------------------+&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; Eg1 IncApp &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2022&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;21&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;13&lt;/span&gt;:&lt;span class=&quot;token number&quot;&gt;26&lt;/span&gt;:&lt;span class=&quot;token number&quot;&gt;46&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; Eg2 IncApp &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2022&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;21&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;13&lt;/span&gt;:&lt;span class=&quot;token number&quot;&gt;26&lt;/span&gt;:&lt;span class=&quot;token number&quot;&gt;47&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;----+------------+---------------------+&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&quot;mysql을-source로-추가하기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#mysql%EC%9D%84-source%EB%A1%9C-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0&quot; aria-label=&quot;mysql을 source로 추가하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;MySQL을 Source로 추가하기&lt;/h4&gt;&lt;p&gt;이제 Airbyte 웹 UI에서 다음처럼 &amp;quot;Sources&amp;quot; 탭을 눌러 Source를 추가해보자.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:57.432432432432435%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABjUlEQVQoz6WRzUrDQBDH80gVmoQetTd78TGEIkjfRXoSH0C8qMeK2ipCoYJJizX2K62iCbHW2iSzm+2OTKy1pSqoCz+Gnf3PLx+raMmlzZX08mUmkzlOp9PFVCo1RVXVH0km1aKmaUVd1080TS8nEok1pVyu7LRaNnY6XWy37Tlarc6E9gydBSjbbLbx9LSUUy4rj1uvQ6QF4zGKBSQKiShwgpSLGSmRCSHpgVnFNHr5wQAQgEVBADIMGcYEgAHVkY+jwRD7z0Ps94fo+2F8HtD5OzQjqH99fbOheJ6TF0JQKALgEoBjCByBZFSDEF9dD+8aPfSeXmJJnAnZR6UZQf163dpQXNfNR9G8ED7CAcMxB7SvbDzYNuLerOx3wsmnCwZ4f/uAB7sGjkbhVPjtGzqOk+c8mgop8AmXkeDy/CySe7tC1qq0f+/P5uaEtt3b8n0gIdDP/QoAAuL6TYbRpdTrVlbpdu92GHDkXPwLxiK0rEZOOSldrF8ZtWPTrO6bZu3wj+wbRrVQKBytvgHxXQGUClCpWAAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;3.png&quot; title=&quot;3.png&quot; src=&quot;/blog/static/51799cc90c735290214dde2fe8081be5/fcda8/3.png&quot; srcSet=&quot;/blog/static/51799cc90c735290214dde2fe8081be5/12f09/3.png 148w,/blog/static/51799cc90c735290214dde2fe8081be5/e4a3f/3.png 295w,/blog/static/51799cc90c735290214dde2fe8081be5/fcda8/3.png 590w,/blog/static/51799cc90c735290214dde2fe8081be5/efc66/3.png 885w,/blog/static/51799cc90c735290214dde2fe8081be5/c83ae/3.png 1180w,/blog/static/51799cc90c735290214dde2fe8081be5/efb68/3.png 2032w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&amp;quot;Connect your first source&amp;quot; 버튼을 클릭한다.&lt;/p&gt;&lt;p&gt;그리고 다음처럼 &lt;code class=&quot;language-text&quot;&gt;Source type&lt;/code&gt; 을 &lt;code class=&quot;language-text&quot;&gt;MySQL&lt;/code&gt; 로 선택한 뒤, 필요한 정보를 모두 채워준다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:57.432432432432435%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACOUlEQVQoz22R207bQBCG/UhFKjldFbVXVYX6GJVQpYp3QbnkHZAvKxECjVtQcaPWIQhiMLYLdmPHztp78I53qnUKEVJH+vTPrnf/mVkb7Zcbn16/2Trf3n53uPVqa9jr9Ya9XrfRbrczbLU2h5ubK1qt1lP+SKfT0Qza7fbpxouN94Zlfd93XQ9ns1u8ur7BIPyNQbDG90P07nycTq/Qtn9hGIYYhkGjQRD8W4fo+z6ORtau4Xn3exIQBU14mV5CTT2A8gaA3gKUt02OCECphIeHFBDxfwhE1AV2DNe961MqkBAiablUsqJYiTVSUBRCIOcV5nmBlHIsS4aMCawqiVJKVdc1AADOZrOPRhxHfSkBi4JJUYECUChlvQYUVhU0Bot0iYSUTf4YahVQ1zW6rqsN4z5AjYRQyRhXupIu8AhIaDrRHS6X5dO+NtCqPfXYSqnnhnleSEq5qmv13BDgqUNtqEcmhOJiQTCOUkyTXBUFA87FyjCKor6+UJZMFgVTjAlVVVJJCc8oS6b+xAtVEKqEqJpznGvlOgchqpWh5/l7umqWcZ4tCOiPOqQEfahRDSEUZtcBBH4MUZRCkuSQzFfM55nIMqINdwz/LtgXXDZj6dHXj43N22nVMFbh/X2C0UPaEMcLTJMl5lmBWbb6+57n7Rqj0eiD40wObXt8cHZ6bl5cTM3p9NJ0HMe07R+m40zMyeTCtO2xOTyyzJOTb+bx8Vfz6MgyLevMHH051XowHv/8PBgM3v4Fu7wDZzIYOXkAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;4.png&quot; title=&quot;4.png&quot; src=&quot;/blog/static/eb5fb7b89d4b308a914e5058f69ba4b9/fcda8/4.png&quot; srcSet=&quot;/blog/static/eb5fb7b89d4b308a914e5058f69ba4b9/12f09/4.png 148w,/blog/static/eb5fb7b89d4b308a914e5058f69ba4b9/e4a3f/4.png 295w,/blog/static/eb5fb7b89d4b308a914e5058f69ba4b9/fcda8/4.png 590w,/blog/static/eb5fb7b89d4b308a914e5058f69ba4b9/efc66/4.png 885w,/blog/static/eb5fb7b89d4b308a914e5058f69ba4b9/c83ae/4.png 1180w,/blog/static/eb5fb7b89d4b308a914e5058f69ba4b9/efb68/4.png 2032w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;완료하면 다음처럼 MySQL이 Source로 추가된 화면이 나온다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:57.432432432432435%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABeElEQVQoz6WRzWrCQBCA80a1oAaPRU89FB+jIIXiu4hH30F6KVgsFlQEezCxmqTmp5GWWLBQm+xfslM2Gq1/FNrDx+7Mznyz7Epy+vQ6nz97LBYvmoVCoZXL5faQ5Vwrnc7EZDIbRCzLsuA+m5V7qZNUUep2+zVdt6HfV8EwTLBtByxrG8NwQNdMmEwsME17D1Fjmha0Wg9lyXVnFf+LwmKBcBRBeAzOlxzKRxGQ0RNAt2OXJNN0q76PASHCECI8COL9miQW6+5+BUeIhIsFgtFIu5JmM6/KWBgLMaYcYxo3JSshDLy3d7AmFsznH3GcnGMcDxU9oZBrmi6Esz1hQhAQ4BBB+9aCXtOGiIdxbjOQbgnH41+EopFSBq/TzxjKft5uXbMt9DyvKpoSoShISGLKGGeMbeV26jZCx3Erq0/B4nEPEQRLjp0jRIjvIyEsSe7LtEYwBUrDfyE+S9efy1K73blU1WFTUdS6ogxv/kh9MFAbjcbd+TfswQN5NvgapgAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;5.png&quot; title=&quot;5.png&quot; src=&quot;/blog/static/748f00bbcec1887033ad70bb0aca609b/fcda8/5.png&quot; srcSet=&quot;/blog/static/748f00bbcec1887033ad70bb0aca609b/12f09/5.png 148w,/blog/static/748f00bbcec1887033ad70bb0aca609b/e4a3f/5.png 295w,/blog/static/748f00bbcec1887033ad70bb0aca609b/fcda8/5.png 590w,/blog/static/748f00bbcec1887033ad70bb0aca609b/efc66/5.png 885w,/blog/static/748f00bbcec1887033ad70bb0aca609b/c83ae/5.png 1180w,/blog/static/748f00bbcec1887033ad70bb0aca609b/efb68/5.png 2032w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;h3 id=&quot;destination-추가하기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#destination-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0&quot; aria-label=&quot;destination 추가하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Destination 추가하기&lt;/h3&gt;&lt;h4 id=&quot;bigquery와-cloud-storage-준비해두기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#bigquery%EC%99%80-cloud-storage-%EC%A4%80%EB%B9%84%ED%95%B4%EB%91%90%EA%B8%B0&quot; aria-label=&quot;bigquery와 cloud storage 준비해두기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;BigQuery와 Cloud Storage 준비해두기&lt;/h4&gt;&lt;p&gt;다음으로는 파이프라인의 목적지(Destination)가 되는 스토리지를 추가해야 한다.
보통은 &lt;a href=&quot;https://cloud.google.com/bigquery&quot;&gt;GCP BigQuery&lt;/a&gt;나 &lt;a href=&quot;https://aws.amazon.com/redshift&quot;&gt;AWS Redshift&lt;/a&gt; 같은 데이터 웨어하우스가 될 것이다.
여기서는 GCP BigQuery를 사용해보겠다.&lt;/p&gt;&lt;p&gt;먼저 GCP에서 다음처럼 Airbyte에서 사용할 서비스 계정(Service Account)을 만들고, 권한(Role)으로 다음을 부여한다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;BigQuery Data Editor&lt;/code&gt;&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;BigQuery User&lt;/code&gt;&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Storage Object Admin&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:57.432432432432435%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB6klEQVQoz42R34raQBTG8zzdi2q0QRQKS9mbQsHHKCxi2efwdhG82WdoyaV01xS86EWvxEyMSSZGK11oNWpi/szMVya77pZdW/rBj5lz5pzDlxNFU19+OD19/a3ZfHd9dvbGqNVqRqPRKE5VVY1SqVRQLpcNtVIxKpVKca9Wq4amaUa9Xjc07dWNqqpfT16cNJWbwZcrk0zgUR9k4mAypXBdCt/34XkU9nSKqcRx4HpegeO4mM1mmM/nCII5bMfH2LTR73++UObfby/3KQPjSLa7hK3XIVutViwMNwzA/5ICwGKxOFeCmd/9cfsT4Xafx3EiVmGEOIqQpBkY4xBCFHDOnyHzeZ6LOI5ZGIYghLQU3591N5sNkiTJ1+FW/FqFiKIIWZrKXHHf7/ey8SGWp4zvEXmesziO5WpaCqW0KxsA5FmWCTkoTVMwxgrkm3Sc5RxJJp2JIn9wKO7EZOy6rnTod3e7nSzK7x9xTIdPP4JseD6Qc57f9T1KxpzzB4TgRe4IjwMppZdyL5zzRFp/ytM/yjlnR+pSuQbXdc+VIAiusizD3xQEAcbjMUajEZbLJf4lSumFMhwO35umeU0I+WhZln6AEKLbtq13Oh293W7rrVZL7/V6uud5umma+p+1lmV9IoT0B4PB29/ZsgV+3oNv2AAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;6.png&quot; title=&quot;6.png&quot; src=&quot;/blog/static/0395ae426fb087b059d4c8f27b821e00/fcda8/6.png&quot; srcSet=&quot;/blog/static/0395ae426fb087b059d4c8f27b821e00/12f09/6.png 148w,/blog/static/0395ae426fb087b059d4c8f27b821e00/e4a3f/6.png 295w,/blog/static/0395ae426fb087b059d4c8f27b821e00/fcda8/6.png 590w,/blog/static/0395ae426fb087b059d4c8f27b821e00/efc66/6.png 885w,/blog/static/0395ae426fb087b059d4c8f27b821e00/c83ae/6.png 1180w,/blog/static/0395ae426fb087b059d4c8f27b821e00/efb68/6.png 2032w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;Airbyte에서 이 서비스 계정을 사용할 수 있도록, 서비스 계정의 JSON Key도 하나 만든다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:57.432432432432435%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABsUlEQVQoz62RwW7TQBCG/TzlQOPEJCQHQPSEhJTHQKoiob5LlWOfAcSRKmQPOXDgSGxM1us4cesiSlJn5U08uz9aN1FUxAFF/NKn/TUz2pnZdTz38dvnL5596XZfD05OXrJWq8U67TbrdDqs2WyyRqPB6vU6Oz6uMdetM9f6Wq2KP/E81m4/ZZ7nfXJr7udHR0ddhw3ZRRAEiOMpvoUhoihCMksxm80hRAzOI/AoAuccQogKHnEkSYL5fI40TTGdJvjqf8fl5eDMybLrc6ISABSVJZUVmohK0lqTMaYCwNaDzNbb/LZmrbWxTU4dEU/7Vze/cLtU5d1yadKrDNfZD2Q3P7FYLCClxGq12iOLe/YxI6WkPM8RhmHPmURJ/3YhsZKqXOTK3OUFcrmBVBraGGitK4wxqGTPnd9G7PS2hnPec4SI+qoobKJUSplCFVgrBaUKFMUepRSI6G8YIqLNZoPJZNJz4jju29Hp/iEftP5HPZxwd6HWujQH6o+Vxbl9eK212v3oAazt+pzzUydJkgu7//+QEOLMGY1Gb8bj8cD3/XdBEHw4kPe+738cDoevfgOHagsa9DqdrwAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;10.png&quot; title=&quot;10.png&quot; src=&quot;/blog/static/7608e7cecd6258168f2a05f1e3bdea29/fcda8/10.png&quot; srcSet=&quot;/blog/static/7608e7cecd6258168f2a05f1e3bdea29/12f09/10.png 148w,/blog/static/7608e7cecd6258168f2a05f1e3bdea29/e4a3f/10.png 295w,/blog/static/7608e7cecd6258168f2a05f1e3bdea29/fcda8/10.png 590w,/blog/static/7608e7cecd6258168f2a05f1e3bdea29/efc66/10.png 885w,/blog/static/7608e7cecd6258168f2a05f1e3bdea29/c83ae/10.png 1180w,/blog/static/7608e7cecd6258168f2a05f1e3bdea29/efb68/10.png 2032w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;BigQuery에 데이터를 로드하는 동안 임시로 데이터를 저장할 Cloud Storage 버킷(Bucket)도 다음처럼 만들어주자.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:57.432432432432435%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB+UlEQVQoz41RXWvaUBjO31lvBq1R69VYezUYdP9iVMTR/yF4U3rZv9COgDcdLVFRJgherIlm0VRjOr1Y28Rz8nVynnFStW5U2AMPeU/e5zzvx5Gye2+/vD941/109PH68PBAzef31UKhkDKbzaqZjKxmZFmVZVnN5XIpZTmr5vP5NF8o7Ivczd7u7vedNztH0tW3m/MftzpG1h0GAwODwQDT6RSO42BkWTBNE6Y5xHA4hGVZ6b/hcATbnmA8nsAcjfHTvMOtZuDi4vJEGtu/Tl2aIGQIfEqZ67qMEMIEAPwvQwDodDpF6f7eOUsYQ5IksUdC7roeCFkgCAKEYYg4jhEEIR69CJzz18iFqdA1Go2SNJvPz4Q75zx+cgn//eDi4dHDk0dBaAQ/COD7PgihaYEoitZ8LhZw3/eZ53mo1+slaTabrQ0JIVx0I8TCZHVJcBWvzF66D3gYhmJNyw43DMUHr0BMJQpQSvE84d9pMXKSJGg2myVpvjEy3wLR+WKx4J7ncUopf5a/YLXD1NBxnFNxYIwFnHP2L1cvKeI4jlkURevzhiZcPkpRsm37XOxjGyaTCTRNQ7fbhWEY6d62raXdbp9IrVbrs67r17quX+q6rvT7/ZQiNgxDqVQqSrlcVo6Pi0q1WlV6vZ6iadpat+RXTdOuarXahz8XwwNGHyYefQAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;7.png&quot; title=&quot;7.png&quot; src=&quot;/blog/static/3bf395b1589066f37986b0cdb13eb08c/fcda8/7.png&quot; srcSet=&quot;/blog/static/3bf395b1589066f37986b0cdb13eb08c/12f09/7.png 148w,/blog/static/3bf395b1589066f37986b0cdb13eb08c/e4a3f/7.png 295w,/blog/static/3bf395b1589066f37986b0cdb13eb08c/fcda8/7.png 590w,/blog/static/3bf395b1589066f37986b0cdb13eb08c/efc66/7.png 885w,/blog/static/3bf395b1589066f37986b0cdb13eb08c/c83ae/7.png 1180w,/blog/static/3bf395b1589066f37986b0cdb13eb08c/efb68/7.png 2032w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;서비스 계정으로 Cloud Storage에 접근할 수 있는 Access Key와 Secret을 얻기 위해, 다음처럼 Settings 내 &amp;quot;INTEROPERABILITY&amp;quot; 탭에서
&amp;quot;CREATE A KEY FOR A SERVICE ACCOUNT&amp;quot; 버튼을 클릭한다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:57.432432432432435%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACb0lEQVQoz22RzUvcQBiH878I3Y0u2ls/8FgQikj/A68VEUrvXrTgqXU3H002n7ubZDebTJKdkK6XgiXHQsWrYKGuVlp6rXZ3M523TLRUsYEHMvO+PPObd7gaf+/Fw0cPDpaWnuwvLj7O5+cX8oWFK2q1Wl6pVPJKpZpXq9Wc5/kS9j87O5vPzc3l96/6PvA8/3FmZuYZ92p725YlCQxDB1mWodlsgmVZJZqmg6IooCgqKKpa1hiqqoKu62AYBpiWCZqugyi9ha2t7Zecppuy1wuhHyZjx3GIadnE8zzi+z4JgoBgjEmaprfBmAwGgxvgSTIYsEPWOU23FD9AEIRR0Wq1KEvATmcJ2+02eJ4H3W73Fr7vA0LoLxQhRMIwZLfZ4GzbUuIogiiKCs/r0lbbAdftwsHBJzg6OoLPx8dwdnYKo9Go5Pz8HA4PD6HX60Ecx6UwiqJSKIriBmdZlhKVQlTYrTbVDRM6HRdOz77CxcVlyWRawGQ6hem0APadjEbguu4d4e7u7j8hQqgwDJOqahMs04Rv338A+Q1w+WsC40kBPy/GcDkugALAl5NT8P4jrNfr7Mr2dUI2Q5bQoLZt0wghmqYpHQ6HdG84pBhjmmVDmr3boxinNAxDJqJ3hIZhyEEQAELhuON4xLTapNV2SKfjENd1WSOJ45gkSULY8H2/R4KgTxCKyvU1k2vhOqfrut3v98v4bNAMVmSp2Z6maSBJEht4+fIY43L/JkmSlP2NRuMlt7Oz81wQhH1JFPHrN/Ws0RAySZIyURQzWZaz1dXVbGVlJVteXs7W1tYyRVEyQRDK+g1SQRDeb25uPv0DxoVgCZPcuFUAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;8.png&quot; title=&quot;8.png&quot; src=&quot;/blog/static/485ab85ffcf38c3c088ccaa9a0eff141/fcda8/8.png&quot; srcSet=&quot;/blog/static/485ab85ffcf38c3c088ccaa9a0eff141/12f09/8.png 148w,/blog/static/485ab85ffcf38c3c088ccaa9a0eff141/e4a3f/8.png 295w,/blog/static/485ab85ffcf38c3c088ccaa9a0eff141/fcda8/8.png 590w,/blog/static/485ab85ffcf38c3c088ccaa9a0eff141/efc66/8.png 885w,/blog/static/485ab85ffcf38c3c088ccaa9a0eff141/c83ae/8.png 1180w,/blog/static/485ab85ffcf38c3c088ccaa9a0eff141/efb68/8.png 2032w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;그리고 위에서 만들었던 서비스 계정을 선택한 뒤 &amp;quot;CREATE KEY&amp;quot; 버튼을 클릭하여 키를 생성한다.
그러면 Access Key와 Secret와 나오게 되는데, 이를 별도로 저장해두자.&lt;/p&gt;&lt;h4 id=&quot;bigquery를-destination으로-추가하기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#bigquery%EB%A5%BC-destination%EC%9C%BC%EB%A1%9C-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0&quot; aria-label=&quot;bigquery를 destination으로 추가하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;BigQuery를 Destination으로 추가하기&lt;/h4&gt;&lt;p&gt;이제 Airbyte 웹 UI에서 다음처럼 &amp;quot;Destinations&amp;quot; 탭을 눌러 Destination을 추가해보자.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:57.432432432432435%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABpklEQVQoz6WRQU/bMBTH85E6qU3U3SbGZYdpfAskhIT4Lii7cd5xiGMmRtFaaRJo0CJKRxuSrlqTsUAHsZ9jx//JaRga6WEah5+e7ffe78m25dSfbSwtvThaWXm9t7z8stVsNkuet2zbbtXrjVajsRiTcxzH8NG2nc+1Wu2N1Wkfbg+HAYIghO8HfzEaXWI08h9xWcHUDoc+9vcPNq3pdLqV50Ceg/IcqoKGygGFkmL/qEZrCKW0GbhmfToYuz9ighBCMkaac4ECRmAm3t6Bz2a4ubnFLJmBp6w4ZyY/x/SoNOU4Oztft8IwcomUkUjOM02UwVBIzfouxa/Jd/hfJ4iiBILx+XmZ51yYHmXk/f5g3bq6il2l5kKiB2EhZQJK5wguErx/ewRKEhCjYhiVVIRxHLtSVoX3V5dKYRJeY/fdF6Q//0EYRZGbZfKP0BTcY/ZpKnSnLbXnaX18rLSUJlepexAGwXgrTYupZB53EUQmUhkXIsyn9PuDNWscftsWlCHL1JMQQmIwuNi02u3Oaq93utft9na63dPd/2Tn5KTned6HV78BRGABsSdgJE8AAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;9.png&quot; title=&quot;9.png&quot; src=&quot;/blog/static/7f729ba501d2ef965015e92ae96eecc5/fcda8/9.png&quot; srcSet=&quot;/blog/static/7f729ba501d2ef965015e92ae96eecc5/12f09/9.png 148w,/blog/static/7f729ba501d2ef965015e92ae96eecc5/e4a3f/9.png 295w,/blog/static/7f729ba501d2ef965015e92ae96eecc5/fcda8/9.png 590w,/blog/static/7f729ba501d2ef965015e92ae96eecc5/efc66/9.png 885w,/blog/static/7f729ba501d2ef965015e92ae96eecc5/c83ae/9.png 1180w,/blog/static/7f729ba501d2ef965015e92ae96eecc5/efb68/9.png 2032w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&amp;quot;Connect your first destination&amp;quot; 버튼을 클릭한다.
그리고 다음처럼 &lt;code class=&quot;language-text&quot;&gt;Source type&lt;/code&gt; 을 &lt;code class=&quot;language-text&quot;&gt;BigQuery&lt;/code&gt; 로 선택한 뒤, 필요한 정보를 모두 채워준다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:64.86486486486486%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACeklEQVQ4y3WSzW7TQBDHc6Bue+CABAfUExK8AFeOvABvAhyoe4EXgN4oLWmjlARFVePYTg99mKaN1NKmSZz4az/s9a530Gwbtwiw9Nesd3d+mvnP1h6uPnjz+Mmjby+eP/u8tvZ0c2VldXN5ebmSZVmbS0tL1T+u7+t274tlWV8ty3pV26039nuuB8fHx3B0dASe58PBwSE4Tg/6/T64rgfdrgPtdgc6nQPwfR88z6vk+/1qb2dnx65NJuEW3HxZqUEC/FtSgiRE/O88R0AQTN/WBoPzbcZySBIqwzDVRSFBiKJSngvg3JzDaBRAGKYQzglEEQHMy7Jc57lQnGdwcnLyvjYej7eLQgFjmYxjopUqQUoFGBfrPEe4gjDMYT5nQAiCxEI6y4TCO8Ph8E9gmjKttYay1FWFCMSIyZNxCLMZhSTJgZDMVMh5oSnlCrs4OztbACVWYYCYWAhp2rwDSiCEw+Xl1LQax9REboBCM5YptOYvYJJQfQOSVdsLYJoyuLiYQBDEMJ8nRmlKgVKuCeGKsew+UGFFZihYVVne+XcfOJ2GEAQRUJqBUspYU5agAUDhlA3w+vp6GxOyTMgkIZoQhlNDME7cCNfo1SzgOgyZRms4zzW2uxgKFmKGcn7+a0vceCaCIFZJQrF8NFkVhVRlKU3kXKirq0iNRpGaTCI1myUqTbnCdgnh4rbld7XT02GDUY5TBkIYvitAT/Elc15AFBVmL44JBEEIUZSYN4l3KWUmohjjMBgMPtRardbrw8Pup27XWfd9z3Zd13acnt3v9+z69569seHYrtu12+2OXa837Ubjh723t19pd7eJWm+1fn5sNpsvfwOoOXE21iGipAAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;11.png&quot; title=&quot;11.png&quot; src=&quot;/blog/static/a5856712c0e73624a6682ad8f0880088/fcda8/11.png&quot; srcSet=&quot;/blog/static/a5856712c0e73624a6682ad8f0880088/12f09/11.png 148w,/blog/static/a5856712c0e73624a6682ad8f0880088/e4a3f/11.png 295w,/blog/static/a5856712c0e73624a6682ad8f0880088/fcda8/11.png 590w,/blog/static/a5856712c0e73624a6682ad8f0880088/efc66/11.png 885w,/blog/static/a5856712c0e73624a6682ad8f0880088/c83ae/11.png 1180w,/blog/static/a5856712c0e73624a6682ad8f0880088/69d6b/11.png 1912w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;완료하면 다음처럼 BigQuery가 목적지로 추가된 화면이 나온다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:57.432432432432435%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABdklEQVQoz6WQy07CQBSG+0gIlII7jGyMJD6GCSExvAthyTsQd2LQGklQIULRUARaCF4AQ4KFuXXoMVNTBFEWuPgyM2f+881Fkv2+k+hetBKPHxZisX01EomsoSi7aiAgq8FgUJVleYVwOKyGQspFWFFu/Du+I+nutpK919pQrTbAMEwwjO4a7VYXWk8GdDoCc4WvHhN03YD82VVK6vVe04RwsO05cRzg8/k6ov7XngAA6HjsQKlkJqRu9yWDMQOEiI0QcTCm4IEQccfpdAYf1mRR+4Ho4Qhh0HU9KY1GwwxjXIRtQpgrJIS5YESBOxxatXcoX/bduah5GXERjKlDCONC3mg0k9JgMMgwZv8uxBRszsHsvEG51AHKFpLlzGahF/SEYrSmFljTyaK2UTgcrj15gbcmxHbBhK7sL+W+hf3+c5pS9yQiPndL6GyGhTAhmUYvK274Xyi1odlspaTidfG4Xn8saFo9p2kPp1uSq9Xq+Xz+/OATBWEEC/qcUZwAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;12.png&quot; title=&quot;12.png&quot; src=&quot;/blog/static/803bdc12b14c34f939f8a44adc35728f/fcda8/12.png&quot; srcSet=&quot;/blog/static/803bdc12b14c34f939f8a44adc35728f/12f09/12.png 148w,/blog/static/803bdc12b14c34f939f8a44adc35728f/e4a3f/12.png 295w,/blog/static/803bdc12b14c34f939f8a44adc35728f/fcda8/12.png 590w,/blog/static/803bdc12b14c34f939f8a44adc35728f/efc66/12.png 885w,/blog/static/803bdc12b14c34f939f8a44adc35728f/c83ae/12.png 1180w,/blog/static/803bdc12b14c34f939f8a44adc35728f/efb68/12.png 2032w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;h3 id=&quot;connection-추가하기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#connection-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0&quot; aria-label=&quot;connection 추가하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Connection 추가하기&lt;/h3&gt;&lt;p&gt;이제 Source와 Destination 잇는 실질적인 파이프라인인 Connection을 추가해보자.
웹 UI에서 다음처럼 &amp;quot;Connections&amp;quot; 탭을 누른다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:57.432432432432435%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABzklEQVQoz52R32oaQRTG95Hszar1rmAvelMfoxACIe8SvMw7hN60WNJYSCCSlriKW9u4u65Qtf7dODPnzE7mlLMaicX0ogs/vpk93/mGOeO8LLw4Kr9+9bVSeXteLpfrpVJpS6FQqLtuvp7P5zN9hPePFItF9n12Xfc6l8tVnI8fbk59P6I4jikM+xSG0YY+BQFruN1H0boeBOETooy7u4AuLr4cO99uhif3CfEHxpB5eNgFgIyUxgiBZrUCo5Q21u56rCU0xlKvFxw4g0FcVQpISkyVAqsU8ppYhQBaLJBmM0HT6ZImk2WmQiha+7gv6zH8r9P5fuiMhqOq1oYNKYC2ADozs/bHQIBISmpSS0laKLpfrGieIOHGpxRyj+Fw3+8eOuPxuJqm+wMH0wnNZ0BxjNT7gTT/NaUkEbQQQPA/gb9FQgBIiUIaSiCRAgmBtFr9I3A04iun20A2KLVWUIbN1ve1bTS0DUNtteZD001943saGEXxCQ9fKQQe7i6Qqd+RpnEtTNCTBhGNlH/7EPlRfL974MT9wSkPmB/mOYjWWPu8BzGlbvfnsXN5efWu1Wqfe17rzPPa7/dxe7um2dxf97z2WbPZqtVqn978ATq9ApM/GKQmAAAAAElFTkSuQmCC&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;13.png&quot; title=&quot;13.png&quot; src=&quot;/blog/static/5de8188f460ae39573483dfebe56d5ba/fcda8/13.png&quot; srcSet=&quot;/blog/static/5de8188f460ae39573483dfebe56d5ba/12f09/13.png 148w,/blog/static/5de8188f460ae39573483dfebe56d5ba/e4a3f/13.png 295w,/blog/static/5de8188f460ae39573483dfebe56d5ba/fcda8/13.png 590w,/blog/static/5de8188f460ae39573483dfebe56d5ba/efc66/13.png 885w,/blog/static/5de8188f460ae39573483dfebe56d5ba/c83ae/13.png 1180w,/blog/static/5de8188f460ae39573483dfebe56d5ba/efb68/13.png 2032w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&amp;quot;Create your first connection&amp;quot; 버튼을 클릭한다.&lt;/p&gt;&lt;p&gt;&amp;quot;Select an existing source&amp;quot; 항목의 Source로 이전에 만들었던 &lt;code class=&quot;language-text&quot;&gt;MySQL&lt;/code&gt; 을 선택하고, &amp;quot;Use existing source&amp;quot; 버튼을 클릭한다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:57.432432432432435%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABf0lEQVQoz6WS30oCQRTG95Ek/2x2FdZVVPQYQQjhu4iXvUN0aZhGBQVepOYf0t3RLtKLQtDdMzNn58QZ0zSKoi5+fDs753zzzZ511pNrx5nMZnV/b7e0vb1VSafTS2xUUim3Eo8nLInEMkmL67rMRSrl3sZisQPn6qp60mx26eGhTd2uR54nFvR6Pvm+IN/v27UQTN/ieT71ep6t4T3uLZcvc44Qz3mtiYwhiCJCxhhCpSIEQCSib1mql4iGDzhy+mJQCAKgMJQ6CMCEoSReAyhSSpNSSFJqAtCEqOn1RdPdrabxWBIA0HsPTqchNZvtrDMcDgtaozUEUNaQzVjDEIj3EHGhs+eIpJzVcA+AQg7RanWyzmg0+tKQCyaTwBpFUbSCMcam/5XhPB0rp2D9zPz97BZy1ZCv/H7aPKGZ608s1X8YCjHIT6d2KMAf949IHkqr1TlyBv2nE2kniv+C/4RO5zHnXF/fHNbrjVKtVj+t1Rpnf+T0/r5eLBbPd94Alt0GVKvo6koAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;14.png&quot; title=&quot;14.png&quot; src=&quot;/blog/static/a3828409d259e2b84142f57df5e08aaa/fcda8/14.png&quot; srcSet=&quot;/blog/static/a3828409d259e2b84142f57df5e08aaa/12f09/14.png 148w,/blog/static/a3828409d259e2b84142f57df5e08aaa/e4a3f/14.png 295w,/blog/static/a3828409d259e2b84142f57df5e08aaa/fcda8/14.png 590w,/blog/static/a3828409d259e2b84142f57df5e08aaa/efc66/14.png 885w,/blog/static/a3828409d259e2b84142f57df5e08aaa/c83ae/14.png 1180w,/blog/static/a3828409d259e2b84142f57df5e08aaa/efb68/14.png 2032w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&amp;quot;Select an existing destination&amp;quot; 항목의 Destination으로 이전에 만들었던 &lt;code class=&quot;language-text&quot;&gt;BigQuery&lt;/code&gt; 를 선택하고 &amp;quot;Use existing destination&amp;quot; 버튼을 클릭한다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:57.432432432432435%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABvklEQVQoz6WRwWrbQBCG9UimyFadU0lzKm3oYxRCoORdQo55h9CjSxqFpFCoD7ETO44kV3IhtU+JhaSZ3dmZMorsNKWH0go+ZoT+/UYaec/bz95vbr7ob795fby19TLsdrtrNja6YRB0wnbbD33fr+sj7dD322EQBMqnTif40mq13npnZ/3D0SiWq6trieOpTKdpTZKkEseZJMlMoiiTm5tUoiiVOMpqkuSbJMm0rprXsycnp3temv7Yt1aEWcA5IYVZyBqmoiACEBJp4F96ecg2eSRiHbDjZensoCxBqgptWQI3vdwvK1nmhRBZIaIa50isJTGGBMBIk+WqQiqKSkaj611vPp8faEiFAIY1qEI0Viw5IXJrCTPJ7S1J/ytJnltBxFoIYEjl4/Fk11ssFk+EKltNz/NSjLFrKTUDFEQrTfbvhEUBcneXC6IR59wTmd7roD8K9ZObhyshAyCXYHlZADtyrFcJxBVYFmZ2jhnRNtnfhGk629e3qSoEXe4KACREQxrW/qGu+sdcA+pPGY8nO94s+36IYOql/w+608kk2vPOzz+/Gw4vjweD4dFgcPnhHzm6uBj2er2Pr34Ck6wGjWVZOBwAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;15.png&quot; title=&quot;15.png&quot; src=&quot;/blog/static/6273c925a15cfa2ab22fd700a5ff7a9c/fcda8/15.png&quot; srcSet=&quot;/blog/static/6273c925a15cfa2ab22fd700a5ff7a9c/12f09/15.png 148w,/blog/static/6273c925a15cfa2ab22fd700a5ff7a9c/e4a3f/15.png 295w,/blog/static/6273c925a15cfa2ab22fd700a5ff7a9c/fcda8/15.png 590w,/blog/static/6273c925a15cfa2ab22fd700a5ff7a9c/efc66/15.png 885w,/blog/static/6273c925a15cfa2ab22fd700a5ff7a9c/c83ae/15.png 1180w,/blog/static/6273c925a15cfa2ab22fd700a5ff7a9c/efb68/15.png 2032w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;그리고 다음처럼 적절하게 나머지 Connection 정보를 각 필드에 입력해준다.
각 필드에 대한 내용은 UI에 잘 나와있어서 굳이 별다른 설명이 필요 없을거 같다.
여기서 주요한 선택사항은 &amp;quot;Sync mode&amp;quot;와 &amp;quot;Normalization &amp;amp; Transformation&amp;quot; 항목인데, 이에 대한 자세한 내용은 더 있다가 알아보자.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:57.432432432432435%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB5UlEQVQoz4WQz2rbQBDG9UYNja1IPZQcmkvIoY9RCIWSdwk55tK+QPDRJY5KfOghB0uqZTu2LLlQcEhx7Vj7b3amzKp1MS5k4cdI37fz7TBe0Hz54fDw9d3JyfH10dGbKAzDKAxfOYIgjHzfjxqNRrS/34yazZpG4x9BEES+f9Dx/YOvey/23nrd7t1llo1pMLinPC8oz6eUZSMajcZUljMqipKm05Imk4LG49z502nxR6/vM+zd3Hw588ryxzkAESJJawkACJQ0QEQ7IO5q3INICgBpMslPvdlsdiGEoqqSRgiF67Wgn4+/SEpFxoB7wVpLxhgSQpJS2um1BtyHQijgvn5/8N6bz+cXbAihjJSaTVou17RarUlrQwCWkEcDy3f+p6GUGqpKUpYNtwPZ5An4NQ7lypNYi1uVgziY4SGeCTSbaVjnB56eKlfZ4yoq6b7ZfybQmch7WS4r3icCAEqpUGuDANahNaAxNTuBRTE752mEUJKXKyoFDw8LWCxWIKUCa60DgEFArCFCYNn1CKWqSnDgqVeW3y+14n3ABiG02w8fxG3+HmuJtMZND69gOLw/825vu++SJL2O4+QqjtNWHCetJEkd9f82vV7a6veTVqeTtj59/Obux3F61esl7Xb78/Fvr7YHdLHg3f4AAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;16.png&quot; title=&quot;16.png&quot; src=&quot;/blog/static/a276c099fe0298d9ae06e4ac66c31331/fcda8/16.png&quot; srcSet=&quot;/blog/static/a276c099fe0298d9ae06e4ac66c31331/12f09/16.png 148w,/blog/static/a276c099fe0298d9ae06e4ac66c31331/e4a3f/16.png 295w,/blog/static/a276c099fe0298d9ae06e4ac66c31331/fcda8/16.png 590w,/blog/static/a276c099fe0298d9ae06e4ac66c31331/efc66/16.png 885w,/blog/static/a276c099fe0298d9ae06e4ac66c31331/c83ae/16.png 1180w,/blog/static/a276c099fe0298d9ae06e4ac66c31331/efb68/16.png 2032w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;여기까지 완료하고 &amp;quot;New connection&amp;quot; 버튼을 클릭해주면 Connection이 하나 생기게 된다.&lt;/p&gt;&lt;p&gt;기본적으로 Enabled 되어 있으니, 이제 &amp;quot;Sync now&amp;quot; 버튼을 눌러 MySQL에서 BigQuery로의 데이터 로드(Sync) 작업을 실행해보자.
그러면 &amp;quot;Sync History&amp;quot; 내에 &amp;quot;Sync Running&amp;quot; 이 표시되고 진행중인 작업의 로그가 등장한다.
로드 작업이 완료되면 다음처럼 &amp;quot;Sync Succeeded&amp;quot; 가 표시된다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:64.86486486486486%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABuElEQVQ4y62Sz2oTURTGZ6EzSRwEF7oQCi76BG5d+gK+iWahXekL6OwShwZig7UlmZm0QiDvUWhJp9I24EQcN62Z+3funfnkTqhY/4CNXvhxz+E75zsH7rVuNq49un3n1uvV1XsvV1buevV63XMcx6vVal69Xqty173hua7rNRoLzWDbtmfb1y/iV47jtGzbfmB1Om96UfQe4/EYo9EIOzu7FcPhLoIgQr8fotfbQre7hY2Nd9je7lcEQVgRRcOKMIzQarXXrNnsrI3F4QDU7+AS6uyrUn/SAQhjkCSfHlvHx6d+llFQyhWlvKSUmxiMcXAuMJ9LZEQgI6zKKRVgTOKizvQQwvX5OcP+/qRpJR8TX8gclAmltS7LssSPaG0oUBTF9/tyTVFmc6XjWGNv70PT+pKmvioKECaqDWWuIKWCUvpvKRkTWogccXzUtNL0s28EzqUSIi85l7gipRC5ZkxgMol/NTSTrsjPhqmv9X/cMElmvhGEkMqIy3DJ8ORk2iaEm4eQRlgG02uWOjw8emJNT6ddsviH/wQhDAcHk6fW283Nh2EYvRj0g2eDQbC2JKb3+fp65/43gxd1s2Ht0OsAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;18.png&quot; title=&quot;18.png&quot; src=&quot;/blog/static/d042be024a4df5dc8ebbfffa9a0ac8f1/fcda8/18.png&quot; srcSet=&quot;/blog/static/d042be024a4df5dc8ebbfffa9a0ac8f1/12f09/18.png 148w,/blog/static/d042be024a4df5dc8ebbfffa9a0ac8f1/e4a3f/18.png 295w,/blog/static/d042be024a4df5dc8ebbfffa9a0ac8f1/fcda8/18.png 590w,/blog/static/d042be024a4df5dc8ebbfffa9a0ac8f1/efc66/18.png 885w,/blog/static/d042be024a4df5dc8ebbfffa9a0ac8f1/c83ae/18.png 1180w,/blog/static/d042be024a4df5dc8ebbfffa9a0ac8f1/69d6b/18.png 1912w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;BigQuery에서 데이터가 잘 로드되었는지 확인해보자.
다음처럼 MySQL에 있던 Database, Table, Row가 BigQuery의 Dataset, Table, Row로 잘 로드되어 있는 것을 확인할 수 있다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:64.86486486486486%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB+klEQVQ4y52QwW7TQBCGfbKDihKJXlE59A24cuQFeBPIgfoED0DIjRIVqETs2o6b2kpD3wTEocUJCUROIFZsx07srL0/WseJiFophZE+/buzs//MLlfaEZ7s3L3ztlgsVYqlUnVv7351f/9BdXf3XlXg+WqhUFgjCEKV5/mM1ZrleYF/XRCEN4IgPOLeHR191PUGzs/bODNMtFotXFx8QrvdhtbQcaIoUFQVqqZlKIoKWT6BqqpoNpsZmt6AJMmovKqI3NhxD9OUAsAcAInimERRRAgFWaQgCQVJGQChAMHNRAkFvlnfn3Ld3s/axPXgOA6ZzWPqOA7G49+wf03geiHCMEQQhJhOg0wZLLfMB0xpGASJPw3w+cvXMje07ZrnB/gxGBJ/GlJWGEcRfH8KkiRwXRez2SzTyWQCz/My9X2fDcH2dDQaJazGsqwyNxgMagtCEc4TMo8ITdKUPR+U0rWuSNN0Y5/DImFnltUpc71er5ZfJsv7S6O/TbcEK8oNrTLX7/czQ/bhebdrk21h03A4HNbyTtcMbzXeTYZ5p5XhP8eGoW3bh3mzmB38JzH7yk6n84zrdrvHhBAkSQKmi8UCcRyvleVuQxTFuLq6fM7V6/XHpmm+NAzjwDRNUdd1UZIkUdM0UZZl0TCMreinZweScvri+MP7h38A8d9719EEIlIAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;19.png&quot; title=&quot;19.png&quot; src=&quot;/blog/static/8fea0ff61229b934a5201cbede773455/fcda8/19.png&quot; srcSet=&quot;/blog/static/8fea0ff61229b934a5201cbede773455/12f09/19.png 148w,/blog/static/8fea0ff61229b934a5201cbede773455/e4a3f/19.png 295w,/blog/static/8fea0ff61229b934a5201cbede773455/fcda8/19.png 590w,/blog/static/8fea0ff61229b934a5201cbede773455/efc66/19.png 885w,/blog/static/8fea0ff61229b934a5201cbede773455/c83ae/19.png 1180w,/blog/static/8fea0ff61229b934a5201cbede773455/69d6b/19.png 1912w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;로드된 테이블 &lt;code class=&quot;language-text&quot;&gt;table_one&lt;/code&gt; 에는 &lt;code class=&quot;language-text&quot;&gt;_airbyte_ab_id&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;_airbyte_emitted_at&lt;/code&gt; 등 생소한 컬럼들이 보인다.
또 &lt;code class=&quot;language-text&quot;&gt;_airbyte_raw_table_one&lt;/code&gt; 이라는 이름의 생소한 테이블도 보인다.
이는 Airbyte가 로드 과정 중에 만들어내고 사용하는 컬럼, 테이블인데 이에 대해서는 뒤에서 더 설명하겠다.&lt;/p&gt;&lt;h3 id=&quot;정리&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%A0%95%EB%A6%AC&quot; aria-label=&quot;정리 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;정리&lt;/h3&gt;&lt;p&gt;Airbyte의 핵심 기능인, 데이터를 로드하는 파이프라인을 만드는 방법은 매우 간단하다.
다음 3가지만 하면 된다.&lt;/p&gt;&lt;ol&gt;&lt;li&gt;데이터를 어디에서 추출할지(Extract)에 대해 Source를 추가하고&lt;/li&gt;&lt;li&gt;데이터를 어디로 로드(Load)할지에 대해 Destination을 추가한 뒤&lt;/li&gt;&lt;li&gt;Source와 Destination을 이어주는 파이프라인인 Connection을 추가한다.&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;Airbyte에서 지원하는 Source, Destination 유형(Connector)은 &lt;a href=&quot;https://airbytehq.github.io/integrations/&quot;&gt;이 페이지&lt;/a&gt;에서 확인할 수 있다.
직접 &lt;a href=&quot;https://airbytehq.github.io/integrations/custom-connectors&quot;&gt;Custom 유형&lt;/a&gt;도 만들 수 있는거 같다.&lt;/p&gt;&lt;h2 id=&quot;normalization--transformation&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#normalization--transformation&quot; aria-label=&quot;normalization  transformation permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Normalization &amp;amp; Transformation&lt;/h2&gt;&lt;p&gt;위에서 Connection을 생성할 때 &amp;quot;Normalization &amp;amp; Transformation&amp;quot;이라는 설정 값으로 다음 두 개가 있었다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Raw data (JSON)&lt;/code&gt;&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Normalized tabluar data&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;이것들이 무엇인지 알아보자.&lt;/p&gt;&lt;p&gt;Airbyte는 Source(MySQL)에 있는 데이터를 어떻게 Destination(BigQuery)으로 로드했던 걸까?&lt;/p&gt;&lt;p&gt;Airbyte는 Source에서 로드할 데이터를 찾기 위해 Source로 쿼리를 보낸다.
그리고 이 결과를 JSON 형태로 가공한 뒤 Destination에 저장한다.
이렇게 JSON 형태로 가공한 데이터를 &amp;quot;Raw 데이터&amp;quot;라고 한다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:40.54054054054054%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAACaklEQVQozx3FbSzUcQDA8X/vWm2tNuthVBKK1pNNay3TrNlKD+thttbDRA9YSc+lhxUWqhdNDw53uJPLpLiVlVVX5HJY5Cns3EPnzh0iDpfC99fW581HOhIzPRF1ZlLE35oi4f5fDqS4iUgeJeT2MBvvDBJ0b4DgrH6C8pz4yu0sVfXgWWzFR2Mh+GMPW/Q2VuvNzP3SJWbUd0xIeQVT4muDoPLtsNB+cKHVutHXCeJlfYSkmQnNtFDe6KbOME2o2shKRQcnau2U/BxGaXMiN1nItztF2a8Rdn43CenUxU5S02tFUrKOqyk1XE/XcS2jlu3pJjZkDhKU5eDJp5+8aBjCS92DR6mNzc+bOVb0gcNF74lUvuGQupLj6koR8LoGacdJF1E3+zma1s+hu04OPnCwNcPK2ow+1j0aIFDmxDfnB8uUZi686yZM08k8uZ5VymrCNbVkVNcT9rmRRVWNSDXfkPZd+EPio0kSciaIU/wmttDNXoWL9ZkDrJH1EaBw4KO0413qQFvTwGltG15lLWyq6mJ/fSeqtk62tZuY325FauhA2nXJTdzDcWKzx4iWu4hWjRChGGT14z4Ccx34FdjxVvfg+fwHHhozMyvMrNAZONvVynlDM6mmJi4bmzhnbMKvuRUpImlcxMnGic0bI1rpIubZCBGqQQJkTlbk9+Lz1MbiEisLyywsqDAivTGRqNchDPnC3SwTv1tzxFhLthCGAq40fRRS+I3RqcgHoyJSNsKe3F/sVg2xOb8ff3kvywttLCm2suiFBY9XJua+7WZWlZE5L3X4Z5WySqEhUF7+f39ZqZhd/mnqH+GtxwQe3z7GAAAAAElFTkSuQmCC&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;21.png&quot; title=&quot;21.png&quot; src=&quot;/blog/static/f79a7565823f5ea0faa0bdcaa3abf2e6/fcda8/21.png&quot; srcSet=&quot;/blog/static/f79a7565823f5ea0faa0bdcaa3abf2e6/12f09/21.png 148w,/blog/static/f79a7565823f5ea0faa0bdcaa3abf2e6/e4a3f/21.png 295w,/blog/static/f79a7565823f5ea0faa0bdcaa3abf2e6/fcda8/21.png 590w,/blog/static/f79a7565823f5ea0faa0bdcaa3abf2e6/efc66/21.png 885w,/blog/static/f79a7565823f5ea0faa0bdcaa3abf2e6/c83ae/21.png 1180w,/blog/static/f79a7565823f5ea0faa0bdcaa3abf2e6/c1b63/21.png 1200w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;출처: &lt;a href=&quot;https://airbyte.com/blog/etlt-gdpr-compliance&quot;&gt;https://airbyte.com/blog/etlt-gdpr-compliance&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;&lt;p&gt;Destination이 BigQuery의 경우 Raw 데이터는 Table로 저장되는데 Table 이름 앞에 &lt;code class=&quot;language-text&quot;&gt;_airbyte_raw_&lt;/code&gt; 가 붙는다.
우리가 로드 결과를 확인하던 과정 중 BigQuery에서 보았던 테이블  &lt;code class=&quot;language-text&quot;&gt;_airbyte_raw_table_one&lt;/code&gt; 이 바로 이 테이블이다.&lt;/p&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;_airbyte_raw_table_one&lt;/code&gt; 테이블을 직접 확인해보면 다음과 같은 데이터가 저장되어 있음을 알 수 있다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:57.432432432432435%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABuklEQVQoz62SzWrbQBRG9TzNpo0tuV3U3pfg5jECJVDyLsHLvEMQhELBQQsvumixonhmFMVxjJFtQm3L+h3NnblllJDEqUsp9MBBcK/45hMjw6q9/vz2XeN7s9XqNlstp93ecz6295xm873TaFiOaZqVlmVV1ut1583u7sbMtMzzeq32befVzr7R6/VOfMbw5uYWmX+NhBKklKIf3KJHAnQ9gt6lluKAsEpCKQZBgMPhsNIPrtC9GODZ2ZcjI5wvjgteYilkwYWCOI5huVxCkpbASwWlkCBAQcEBOAcoSwApJTxHSckLLtC/uv5khGHY+blYYTi9E3GSqSiKcLWKcLFKMF6vMU0TXEcRcl5gWXLk/DcV5xzyPEfG2KExm806acZxsUxFkhYqSRKM4xizLMcsz1EfMJ1OEQBQo5TCF+iBbq0//9CYTCadh4XQr+vFc3SQbqLnOmyLm4Hj8bhzv0Ch7nlssqXNNjYD5/P5Y0P1lLjx/BsvA48f2hT69rRKqX+VSwk6sLrlE/xPjEajI/1jHzDGuoyxU8aY7bqu3e/3Kz3PsymlNiHkj1JK7MsBOf3R976ed7sffgFAvApylxf5PAAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;20.png&quot; title=&quot;20.png&quot; src=&quot;/blog/static/25a110800edf971be73b91b07d14f14a/fcda8/20.png&quot; srcSet=&quot;/blog/static/25a110800edf971be73b91b07d14f14a/12f09/20.png 148w,/blog/static/25a110800edf971be73b91b07d14f14a/e4a3f/20.png 295w,/blog/static/25a110800edf971be73b91b07d14f14a/fcda8/20.png 590w,/blog/static/25a110800edf971be73b91b07d14f14a/efc66/20.png 885w,/blog/static/25a110800edf971be73b91b07d14f14a/c83ae/20.png 1180w,/blog/static/25a110800edf971be73b91b07d14f14a/efb68/20.png 2032w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;_airbyte_data&lt;/code&gt; 컬럼에 Source로 부터 들고온 데이터가 JSON 형태로 표현되어있다.&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;_airbyte_ab_id&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;_airbyte_emitted_at&lt;/code&gt; 컬럼은 Airbyte가 Sync할 때 내부적으로 사용하는 컬럼이다.
이에 대해 좀 더 알고 싶다면 &lt;a href=&quot;https://airbyte.com/tutorials/full-data-synchronization#step-7&quot;&gt;이 페이지&lt;/a&gt;를 참고하자.&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;&amp;quot;Normalization &amp;amp; Transformation&amp;quot;의 값으로 &lt;code class=&quot;language-text&quot;&gt;Raw data (JSON)&lt;/code&gt; 으로 설정하면 딱 이 Raw 데이터까지만 만들어지게 된다.&lt;/p&gt;&lt;p&gt;반면 &lt;code class=&quot;language-text&quot;&gt;Normalized tabluar data&lt;/code&gt; 으로 설정하면 이 Raw 데이터에 접근하여 한 번 더 가공(Transform)하여 정규화(Normalization)된 2차원 데이터로 만들어준다.
우리가 BigQuery에서 보았던 테이블 &lt;code class=&quot;language-text&quot;&gt;table_one&lt;/code&gt; 이 바로 이 데이터다.&lt;/p&gt;&lt;p&gt;그러면 &lt;code class=&quot;language-text&quot;&gt;Normalized tabluar data&lt;/code&gt; 방식만 쓰면 될거 같은데 &lt;code class=&quot;language-text&quot;&gt;Raw data (JSON)&lt;/code&gt; 방식은 왜 존재할까?
아마 대부분의 경우에는 &lt;code class=&quot;language-text&quot;&gt;Normalized tabluar data&lt;/code&gt; 를 쓰겠지만,
정규화 하지 않고 말그대로 Raw한 데이터만 저장하고 싶다거나, 정규화하는 방식을 커스텀하게 만들고 싶을 수도 있을거 같다.
이럴 때 &lt;code class=&quot;language-text&quot;&gt;Raw data (JSON)&lt;/code&gt; 를 쓰면 된다.&lt;/p&gt;&lt;p&gt;한편 &lt;code class=&quot;language-text&quot;&gt;Normalized tabluar data&lt;/code&gt; 방식을 쓰게 되면, Raw 데이터를 가공하는 쿼리와 데이터를 저장하는 Destination에서 진행되기 때문에,
BigQuery와 같이 쿼리 기반으로 과금하는 Destination 경우 &lt;code class=&quot;language-text&quot;&gt;Raw data (JSON)&lt;/code&gt; 보다 비용이 비쌀 수 있다.&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;Raw 데이터를 만들고 정규화하는 과정에 대해 좀 더 알고 싶다면 &lt;a href=&quot;https://airbytehq.github.io/understanding-airbyte/basic-normalization/&quot;&gt;이 페이지&lt;/a&gt;를 참고하자.&lt;/p&gt;&lt;/blockquote&gt;&lt;h2 id=&quot;sync-mode&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#sync-mode&quot; aria-label=&quot;sync mode permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Sync Mode&lt;/h2&gt;&lt;p&gt;Sync Mode는 Source에서 데이터를 어떤 방식으로 뽑아낼 것이며(Extract), 이렇게 뽑아낸 데이터를 Destination에 어떤 방식으로 로드(Load) 할 것인지에 대한 설정이다.
Sync Mode로 어떤 설정 값을 쓰느냐에 따라 Destination에 최종적으로 로드되는 데이터의 모습이 달라지게 된다.&lt;/p&gt;&lt;p&gt;설정 값으로 다음 네 개가 존재한다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Source: Full refresh | Dest: Overwrite&lt;/code&gt;&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Source: Full refresh | Dest: Append&lt;/code&gt;&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Source: Incremental | Dest: Append&lt;/code&gt;&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Source: Incremental | Dest: Deduped + history&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;이것들이 무엇인지에 대해 하나씩 알아보자.&lt;/p&gt;&lt;h3 id=&quot;code-classlanguage-textsource-full-refresh--dest-overwritecode&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#code-classlanguage-textsource-full-refresh--dest-overwritecode&quot; aria-label=&quot;code classlanguage textsource full refresh  dest overwritecode permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code class=&quot;language-text&quot;&gt;Source: Full Refresh | Dest: Overwrite&lt;/code&gt;&lt;/h3&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;Source: Full Refresh&lt;/code&gt; 의 경우, Source의 모든 데이터를 조회하여, 이 데이터들을 추출의 대상으로 본다.
Sync 시점의 Source에 있는 모든 데이터(Full)를 하나의 스냅샷으로 보고 모두 가져오는 것이다(Refresh).&lt;/p&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;Dest: Overwrite&lt;/code&gt; 인 경우, Destination에 로드할 데이터를 덮어쓰기(Overwrite) 형태로 로드한다.
즉, Destination에 있던 기존의 데이터를 모두 삭제하고 새로운 데이터로 덮어버리는 것이다.&lt;/p&gt;&lt;p&gt;이 방식은 꽤 직관적이고 단순하다.
또한 특정 시점의 모든 데이터를 항상 받아오기 때문에, 그 시점의 최신 데이터를 그대로 로드할 수 있다.
하지만 Source에서 모든 데이터를 추출하기 때문에, 데이터가 큰 경우에는 성능에 부담이 생긴다.
따라서 추출 및 로드할 데이터가 작고, 로드하는 시점에서 최신 데이터가 필요한 경우에 일반적으로 사용하기 적절한 방식이다.&lt;/p&gt;&lt;h3 id=&quot;code-classlanguage-textsource-full-refresh--dest-appendcode&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#code-classlanguage-textsource-full-refresh--dest-appendcode&quot; aria-label=&quot;code classlanguage textsource full refresh  dest appendcode permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code class=&quot;language-text&quot;&gt;Source: Full Refresh | Dest: Append&lt;/code&gt;&lt;/h3&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;Dest: Append&lt;/code&gt; 인 경우, 추출한 데이터를 Destination에 기존에 존재하는 데이터 뒤에 추가로 붙여서(Append) 로드한다.
즉, Destination에는 기존 데이터는 그대로 둔 채 Source의 모든 데이터를 추가한다.&lt;/p&gt;&lt;p&gt;이 방식 역시 꽤 직관적이고 단순하다.
&lt;code class=&quot;language-text&quot;&gt;Source: Full Refresh | Dest: Overwrite&lt;/code&gt; 의 장단점과 거의 비슷하지만, Append이다 보니 Destination에 쌓이는 데이터는 더 많아질 것이다.&lt;/p&gt;&lt;p&gt;이 방식은 Source의 데이터에 임시로 존재하는 데이터가 있고, 이를 Destination에 영구히 저장하고 싶을 때 적절한 방식이다.
예를 들어, 팀원이 일일 가공된 비즈니스 지표를 Google Sheet에 매일 로드하고 있다고 해보자.
이 비즈니스 지표는 내일이 되면 바뀌게 될텐데, 이 때 이 Sync 방식을 이용하여 오늘의 비즈니스 지표 값들을 Destination에 저장해둘 수 있다.&lt;/p&gt;&lt;p&gt;또는 Sync 시점과 함께 Source내 모든 데이터에 대한 스냅샷을 모두 저장하고 싶을 때에도 적절하다.
예를 들어, Database의 일일 스냅샷을 Destination에 모두 저장해두면, 추후에 특정 날짜의 Database에 어떤 데이터가 들어있었는지 확인할 수 있을 것이다.&lt;/p&gt;&lt;p&gt;아래 그림은 &lt;code class=&quot;language-text&quot;&gt;Source: Full Refresh&lt;/code&gt; 방식을 사용했을 때 &lt;code class=&quot;language-text&quot;&gt;Dest: Overwrite&lt;/code&gt; 방식과 &lt;code class=&quot;language-text&quot;&gt;Dest: Append&lt;/code&gt; 방식의 차이를 보여준다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:83.78378378378379%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAEw0lEQVQ4yxXS/VeNBwDA8fvrft12zjaO2Dhej+EYUlxrV5bXnFReSpgcoxozh0ZqwiySXhEHKyPymo5U3kKtNLrq3u77fe5r9+W5dXu5t8j4Pjv7/A0f2boNH1if8q+UtGeYxANviTkwSPThINHHB1Dk9jIrt4eZRT7mXRSRV3hR3PEQWeNGXt/FnMcOwhrtTGmyMLrFzMg2I7Iftn+QNu16R3LmMAlZb4jODBJ9NMCyE/0syPUzK8/H9BKRyMsikTe8LL3nZVGtm7B6J6ENdsKa7Yz/20JIq5ERSgOyrT+/Jzn9PUkZw6w79JYV2YMosgIsyulDUdDLrII+pp/2saRSZOU9H5E1HhY2uJnV4GDKIzvTGq1MbbUQ8srKyNcmZEmp7yi9EmB3XoD4ND+x6X5Sb3hIvdNN7DmRvCftRF+1seCyyMlnPpJrPEQdd6E472SjSiBJbSeizchBYwsRmk5kyXsH0Zg1UsktK8m7jdLaPWYuugyUaEzsv2HmzYcqKfWhCkWFG4PaIOU/MLI5zSTF/2amvF9HrlXPjo52hoI10o/mVmSJO4c5eX6IHceCRCV0szith5SbPrZWellz0UXRo1csvyYw/6pI9sNukqo9hGXYCS22kaS2Eq+08L1Sx2F9ExEqFbLk/e+I2/uW1QeHiMkdRJEzQGh2H9/k+JlR1M2Ywj7GnvMSddeD/L6L+Y+cyNscTG61MOqpwMhmEyPaTHyktPCJ0ohszS/D7Ds7xJa8ILFZfpYf9hNXJrL+usiKch8bq/TIr9kIv+ll59NeVj0UUVxyE37byZLXdmLUDuapzSToVISqdcgSMwawOoxScbXAkVNWaWeJwCXByBmtiS03zPQMNUtpjR3Mu+lBow1Ixx+JxCW6WLLPyW23hVzBxjyVjh6xXdppUiGLTw9ys87LvnMi63Z0EbvfRVaTk4yndjZU2qjXN5NYp2P2bRstHWoyHneQfcVMyi0TJ11qjghqNmlUNHW/JNGsRLZ6/xsW/xpkcXYAeXYvs3/vYcYxH1PyvUw642FMqZOQcifyey4iH1iQP7Yy+Y6BL2sNjH+pZVybhslKHROVbYxRapCtyXrD2j8GWXU8wPKCAb4t6CW0qAf5eZGwci8TL7kZW9FF+P0uvnvmIrTRjrzTwdcqC6NempnQYWKCysTn7QIj/o+9MiNA0YNutpeJbDvbxZrSLlJrbWx96CDqmoOTbR1E1hn4ptpF4YsBkhtEFuS4CbvgJMVgYZvRwXy1kUKTmqUaHbLYw34CXXbpdI2Z8gq3lFlmocpq47JeYFedFul9p7SttYO51W60ryQpvzbIjHE+psV5qBXtFJu6CFUbeSuapB0GPbJlWf2klwtSwikHUdkCEcesxFWZibkroKi089Pzf5h9T8fceis6p0s61Gwkt9xGynWBMlFLvl3Pcm0njn6NtFloR7YwIyiFHggw50ifNPOEn2mF3Uwo8vJVqYvRfzr5tNzBx9fthD8w80ypJb1BTfoFgfXXjBx1dXLQrGWj+jUvPC0kGNsk2cLMgeGII31SeI6f2XndzCgWmXrWw8SLLsb+5WRMpZ0Rd6xMqrcx7YnAxOcCX9Tp+OyZjtHtekYr9YS8NjBe2SGFKHXv/wP4K9yMwhXpkgAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;22.png&quot; title=&quot;22.png&quot; src=&quot;/blog/static/5b2dedbad62ec28898d51b070fe8eb0f/fcda8/22.png&quot; srcSet=&quot;/blog/static/5b2dedbad62ec28898d51b070fe8eb0f/12f09/22.png 148w,/blog/static/5b2dedbad62ec28898d51b070fe8eb0f/e4a3f/22.png 295w,/blog/static/5b2dedbad62ec28898d51b070fe8eb0f/fcda8/22.png 590w,/blog/static/5b2dedbad62ec28898d51b070fe8eb0f/efc66/22.png 885w,/blog/static/5b2dedbad62ec28898d51b070fe8eb0f/c83ae/22.png 1180w,/blog/static/5b2dedbad62ec28898d51b070fe8eb0f/22284/22.png 2428w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;출처: &lt;a href=&quot;https://airbyte.com/blog/understanding-data-replication-modes&quot;&gt;https://airbyte.com/blog/understanding-data-replication-modes&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;&lt;h3 id=&quot;code-classlanguage-textsource-incremental--dest-appendcode&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#code-classlanguage-textsource-incremental--dest-appendcode&quot; aria-label=&quot;code classlanguage textsource incremental  dest appendcode permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code class=&quot;language-text&quot;&gt;Source: Incremental | Dest: Append&lt;/code&gt;&lt;/h3&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;Source: Incremental&lt;/code&gt; 의 경우, 마지막 Sync 이후에 Source에서 변경된(Incremental) 데이터만 추출하여 Destination에 로드한다.
여기서 변경이란 추가(INSERT)와 수정(UPDATE)를 의미한다. 삭제(DELETE)는 포함하지 않는다.&lt;/p&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;Source: Incremental&lt;/code&gt; 방식은 &lt;code class=&quot;language-text&quot;&gt;Source: Full Refresh&lt;/code&gt; 방식보다 일반적으로 효율적이다.
Source의 모든 데이터가 아니라 실질적으로 변경된 부분만 다루기 때문이다.
따라서 로드할 데이터가 많다면 &lt;code class=&quot;language-text&quot;&gt;Source: Full Refresh&lt;/code&gt; 보다는 &lt;code class=&quot;language-text&quot;&gt;Source: Incremental&lt;/code&gt; 방식을 사용하는게 더 적절할 수 있다.&lt;/p&gt;&lt;p&gt;단 &lt;code class=&quot;language-text&quot;&gt;Source: Full Refresh&lt;/code&gt; 에서는 삭제된 데이터도 포함되는 반면, &lt;code class=&quot;language-text&quot;&gt;Source: Incremental&lt;/code&gt; 에서는 삭제된 데이터는 포함시킬 수 없다는 것을 알고있어야 한다.
만약 이 방식을 쓰면서 삭제까지 써야한다면, Source 측에서 &lt;a href=&quot;https://en.wiktionary.org/wiki/soft_deletion&quot;&gt;소프트 삭제(Soft Delete)&lt;/a&gt;를 고려해야한다.
(뒤에서 소개할 CDC를 적용하면 삭제 데이터도 포함시킬 수 있다. 일단 기본적으로는 이렇다는 것만 알아두자.)&lt;/p&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;Dest: Append&lt;/code&gt; 인 경우, 추출한 데이터를 Destination에 기존에 존재하는 데이터 뒤에 추가로 붙여서(Append) 로드한다.
즉, Destination에는 기존 데이터는 그대로 둔 채 Source의 변경된 데이터만 추가한다.&lt;/p&gt;&lt;p&gt;만약 Destination에 이미 한번 로드 된 데이터가 이후에 Source에서 수정(UPDATE)된 경우,
Destination에서도 마찬가지로 해당 데이터를 수정(UPDATE) 하지 않고, 수정된 데이터를 추가(Append) 한다.
따라서 기본 키나 ID 같은 데이터가 여러 개 존재할 수 있다.
(아래 그림을 보면 좀 더 잘 이해될 것이다.)&lt;/p&gt;&lt;p&gt;이 방식은 데이터의 변경 이력을 Destination에 그대로 남겨야할 때 적절하다.
Destination에서 특정 키나 ID를 가진 데이터를 시간 순서대로 조회하면, 해당 데이터의 변경 이력을 쉽게 파악할 수 있을 것이다.&lt;/p&gt;&lt;h3 id=&quot;code-classlanguage-textsource-incremental--dest-deduped--historycode&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#code-classlanguage-textsource-incremental--dest-deduped--historycode&quot; aria-label=&quot;code classlanguage textsource incremental  dest deduped  historycode permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code class=&quot;language-text&quot;&gt;Source: Incremental | Dest: Deduped + history&lt;/code&gt;&lt;/h3&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;Dest: Deduped + history&lt;/code&gt; 인 경우, Destination에 로드할 데이터를 중복 제거하여 저장한다.
즉, 변경된 데이터만 Destination에 추가하는데, 만약 Destination에 이미 데이터가 존재한다면, 그 데이터는 Destination에서 수정(UPDATE)된다.
우리가 흔히 이야기하는 UPSERT(UPDATE + INSERT) 방식이다.&lt;/p&gt;&lt;p&gt;이 방식은 변경된 데이터만 로드하기 때문에, 일반적으로 가장 많이 사용하는 방식이다.
단 중간에 중복 제거를 위한 &lt;a href=&quot;https://glossary.airbyte.com/term/slowly-changing-dimension-scd/&quot;&gt;SCD(Slowly Changing Dimension)&lt;/a&gt; 테이블을 Destination에 추가적으로 만들기 때문에,
다른 방법보다 Destination에서 더 많은 쿼리를 실행하고 더 많은 스토리지를 쓰게된다.
만약 BigQuery와 같이 쿼리와 스토리지 모두 과금 체계를 가진 Destination을 사용한다면, 비용은 다른 방식보다 더 비쌀 것이다.&lt;/p&gt;&lt;p&gt;아래 그림은 &lt;code class=&quot;language-text&quot;&gt;Source: Incremental&lt;/code&gt; 방식을 사용했을 때  &lt;code class=&quot;language-text&quot;&gt;Dest: Append&lt;/code&gt; 방식과 &lt;code class=&quot;language-text&quot;&gt;Dest: Deduped + history&lt;/code&gt; 방식의 차이를 보여준다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:152.02702702702703%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAACXBIWXMAAAhOAAAITgGMMQDsAAAIR0lEQVRIxy3W+VvUBQLH8fkH9tfdth4r20UBOeQSQZBDEQ/EAyxBslXzfMQsULR0VdBEikyUlAhRSU3SEM1IBQWE4QtyDDMcMzD3PcMIDIiAOu/vPvbsv/B5v374SDZu8ohbv3jN9sMv2XR0iozjL1j79XNSvxtj7Tk3EYUugoucxFxysvC6g6S7DjIeOVnXaCelxUZ8i4mZT7S8J6h5u2MAyc5MD1uzX/HJgWkyjk6x8vAEiw+NE5frJqZghNDCUQKKhlh2fYhVd5wsuWtnyWMbIbUmfB8amNOgw7tFx4wOHW/LBpFkbHlNXqGHfQWvyMh6QfrBCTaec7OjYpSU86Nk3jCw8oqV6MtD5Dx0k3ZviOUXnSRU2ljVYiK100zMUz2p0n78OlVINmx9zZOnaipr9XySpSMtU8/3cg3n1Vp2lduwT9wV857IWFD+jJ5utVhcZyBjt5b1/zVRYlVzQq9he6sKW8cjMV0mR5K+9TWXfxnl+8tuUv7jYNVmBwfv2Tn6yMrOchs1XU1k3ukn4rKLqw1OcmrsJO4xknjSxJcqI5/36dnRPkCrtJ2VnX1I0ra9Zs2OaZL2TLJi/wRLDo8Tc9hNRN4Iod88w6/QxZxiB5E/2wm7YSW4ykJQjRH/Oj3zGw0EC0biOzScUrQTpFAhWb/tFamZL1n1xSTLciZIODxOXJ6bqPwRwgtdhJxz4l9iZ/5VO5E37YRVWwi8Z8L/oZGFUiNhT02sUShxj1eJHw92Iknb9ZJ1e6dYnf2CZTnPiT80RkzeKBH5w4S+IXPOgV+JjcjrdqJ+sxF+18LceyZ8HxiY36QjUNAT16Xkrq6OxF45ki3Z02w+NEnGkQkyvnlOUv44scfdxH07QuwPz/AvHsG7xMmSW3aS79tJeGhlaZuVkBYD3o06/AUtszo1/E2u4x9v2KTufElxxSuOl02RkT3G+gOj7Kkc5kDNMGsuuiiq7yPjtpawaw7OCC/Y9WiY5DMOEi9Z2dFjZnO/mRWdaoqaFUS9YbNu9zTtvf1UN6nZuEcjZnyu4YpKw02jmt3XjLhfNYin2uUEVThwqjXiVcFI5kGt+GmBlirnIMUmFTmdCjwqmZgh70OSmjnN0XMjZBWNsHjzELHbnWy5ZmfrTQvLS60ce9DF2lsDhPxiJ7tWTfoDHQkXjMRe07OpR8+6Xh0pciWnugSCZf1IUjKnScycZFHWBEtyx4k76SYsb5i5+S4Cipy8f3aImaU2wn614nfbiu8fJrzr9Xg16Zgr6JnTqWdJzwA3DB0s7FMiWZM5zcqsSZYe/H/h3FEWFAwT/r2LoGInAaU2vC9ZCfrVSugdMwE1RnweGPCu1xHZrmeuzMBHqj4mxuvF9YMKJGn7pkk/MsnaYxMknxxj4fFRIgqGCTntIqDYwZxSO16XLERX24i/byWy1kxovRGvBi0BgobZHWqC5Up29rcR+NeGWVNs+nqKj05OkHb6OStPjxFzepjEUheLLjkJvWRlToWF8NtWkh45iK23sEhqIVQw4N2qJUSmwVeu5u+dat55wyZ57yQ3ayY5XzVB6mcOVn3h4ETtEIWCi1UVNpqVA2TXa/GptFLVNc6RJhfLc40kFBk4NmAmR2tmjXyQJpma5V0DSJI+n0TaPsitei0f79Gx4TMDJXIN19UD7L+tx/xcKuZ1KJh9w0qvQileaB4kY4+Wj47qKDerKDMpyenrQ2dRiOt6+pEkZ02y+aSb9IJRove6iNjnZGmpnSWXrcwrs7H6Vi/zflUTUGVh7X0T8Q8N+FzUMrtSQ6JCS5xST0J3LweEBuZ09SBZmf2CRfsniDk0Tky+m8jCEYIKXfgVOfEpsfPuTw7erbAQWG3G508js+r0zBJ0fNCuJaBdhVe3imUdLTw1NrFU1opkxb5JEr+aIP7YGFEn3Mx/U/iMi8DzTnx+sjPrsoX3rpvxe0PmgQmfRwb+1ahjZouOwHYFs9u7SO6WohuuEZMUUiSr942R/OUICUeGic8dIuqUkwWnbYQUW5lbYsT3khHvn7UEV+uZ94cW/4cafOsG8GoawK9NyawuNX4tT1korcdX2oZk25d2Ps13kVbg4pOzNpaesRH/nZGoH0zElWrxLzcQcHmQxb/rWF2rZlGDhqVSFYGtSvyaFfi09RLY2ss7nWrCnsiQbNjvYO+FF2w77yalcJwV342QfNVFWvUQ0ZVOPv5TR+Q9I773zGxttpPcbCbuvpXwx0ai+3QkqAyE92pJlamIaOtBkrHPSo90jMf1o8TOHyE66hlVvUP8oXGy/bYWcXxAPNM9wMwqM/b2UfF64zMWBA0TmzpEnd3BRZ2ZQ3Ilr1QGcae0G8m6A07KqqcovPWc+A+dRKc7+eqxg9wWGx/+ZqBWqWDXEyX/+t3MFWGM/U+GCP/UTPhhE8eNFvarjexWDPBYoSa5rRfJxhwzkYfdROY+++slhJ514HvWxr8vWJhZbuGfV3S8VanD508DXrUaZjaoef/pIDNkKnzkg8zq0bKsR0WesoNFrd1IUg86PAtzn3uiTo56wr4d9gSdcXn8Lzg93mV2zwcVVs+MGxbPW1VGj9cDo2d2g9HzQbPeM0PQet7pVHsC+7Qe7169Z8ug0iOO93i29Cg8kg0HzeLiY8Ni7NcuMfobhzjvjF0M/cEs+pVZxMAyjTjvR7kYUi4TF96QifG/dYoh9xWil1Qlvt+uFEO6lKKfbFBcI+8Rr6pbxRShQ5SkfOVoTD1iFpadsLYk5euF2NNGYVGRWpj3o1ZYUKoUAq+ohNCfFUL4nX4h7neFEFLXJ4Q/6hZ8pQohuLFT8JV2C3MbOoUZTd1CcH2H8D8wfbKCks2gFAAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;23.png&quot; title=&quot;23.png&quot; src=&quot;/blog/static/6dfec95ef77c9fecad99d2b51dd37db8/fcda8/23.png&quot; srcSet=&quot;/blog/static/6dfec95ef77c9fecad99d2b51dd37db8/12f09/23.png 148w,/blog/static/6dfec95ef77c9fecad99d2b51dd37db8/e4a3f/23.png 295w,/blog/static/6dfec95ef77c9fecad99d2b51dd37db8/fcda8/23.png 590w,/blog/static/6dfec95ef77c9fecad99d2b51dd37db8/efc66/23.png 885w,/blog/static/6dfec95ef77c9fecad99d2b51dd37db8/c83ae/23.png 1180w,/blog/static/6dfec95ef77c9fecad99d2b51dd37db8/913b9/23.png 1822w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;출처: &lt;a href=&quot;https://airbyte.com/blog/understanding-data-replication-modes&quot;&gt;https://airbyte.com/blog/understanding-data-replication-modes&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;&lt;h3 id=&quot;정리-1&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%A0%95%EB%A6%AC-1&quot; aria-label=&quot;정리 1 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;정리&lt;/h3&gt;&lt;p&gt;위에서 설명한 Sync Mode들의 특징을 표로 정리하면 다음과 같다.&lt;/p&gt;&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Sync Mode&lt;/th&gt;&lt;th&gt;주요 기능&lt;/th&gt;&lt;th&gt;유의할 점&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;Source: Full refresh + Dest: Overwrite&lt;/code&gt;&lt;/td&gt;&lt;td&gt;- 삭제가 처리됨&lt;br/&gt;- 작은 데이터 볼륨에 적합&lt;br/&gt;- 최종 데이터에 중복이 없음&lt;/td&gt;&lt;td&gt;- 히스토리가 저장되지 않음&lt;br/&gt;- 대용량 데이터&lt;br/&gt;에 비효율적임&lt;br/&gt;- 잦은 Sync에 비효율적임&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;Source: Full refresh + Dest: Append&lt;/code&gt;&lt;/td&gt;&lt;td&gt;- 히스토리를 저장함&lt;br/&gt;- 작은 데이터 볼륨에 적합&lt;/td&gt;&lt;td&gt;- 스토리지가 폭발할 수 있음&lt;br/&gt;- 대용량 데이터에&lt;br/&gt;대해 비효율적임&lt;br/&gt;- 잦은 Sync에 비효율적임&lt;br/&gt;- 최종 데이터에 중복이 포함됨&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;Source: Incremental + Dest: Append&lt;/code&gt;&lt;/td&gt;&lt;td&gt;- 잦은 Sync에 효율적임&lt;br/&gt;- 히스토리를 저장함&lt;br/&gt;- 기본 키가 필요하지 않음&lt;/td&gt;&lt;td&gt;- 적합한 커서를 사용할 수 있어야 함&lt;br/&gt;- 최종 데이터에 중복이 포함될 수 있음&lt;br/&gt;- 삭제가 감지되지 않음&lt;br/&gt;- 중간 상태가 캡처되지 않음&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;Source: Incremental + Dest: Deduped + history&lt;/code&gt;&lt;/td&gt;&lt;td&gt;- 잦은 Sync에 효율적임&lt;br/&gt;- 히스토리를 저장함&lt;br/&gt;- 최종 데이터 중복 제거함&lt;/td&gt;&lt;td&gt;- 기본 키 필요&lt;br/&gt;- 적절한 커서를 사용할 수 있어야 함&lt;br/&gt;- 삭제가 감지되지 않음&lt;br/&gt;- 중간 상태가 캡처되지 않음&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;h2 id=&quot;cdc&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#cdc&quot; aria-label=&quot;cdc permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;CDC&lt;/h2&gt;&lt;p&gt;Sync Mode는 아니지만 Sync Mode와 함께 Destination에 로드되는 데이터에 영향을 주는 설정이 있는데, 바로 &lt;a href=&quot;https://en.wikipedia.org/wiki/Change_data_capture&quot;&gt;CDC(Change Data Capture)&lt;/a&gt;다.
CDC는 말 그대로 데이터의 변경 이력을 추적하는 방법론인데, MySQL과 같은 Database들에서는 주로 WAL(Write Ahead Log)를 이용하여 이를 구현할 수 있다.
따라서 CDC 방식을 &lt;code class=&quot;language-text&quot;&gt;Source: Incremental&lt;/code&gt; Sync 방식과 함께 사용하면 데이터 삭제(DELETE) 이력도 Destination에 포함시킬 수 있다.&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;WAL 방식 말고도 다른 방법들로 CDC를 구현할 수 있는데, 더 자세히 알고 싶다면 &lt;a href=&quot;https://airbyte.com/blog/change-data-capture-definition-methods-and-benefits#change-data-capture-methods&quot;&gt;이 페이지&lt;/a&gt;를 참고하면 좋을거 같다.&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;Airbyte에서 CDC 설정은 다음처럼 Source의 설정 값 중 &amp;quot;Replication Method&amp;quot; 항목에서 지정 할 수 있다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:57.432432432432435%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACU0lEQVQoz22R30rcQBTG80hqyy54V6Re9KLYtyiIUHwX8dJ3kNDeWOxKZaHbKu7GRLpk12Sjya7JbjaTyfw7mVMmaxdKHfhxwsnMN+f7xmq/3vy0s/Pm6sPe+/Pd3bcX29vbL9JqtS42N7f+YWvrVdNvt9vfWq32j42NjT2r2/114vsBjkb3GAQhTiYTDMP/8f0xDgYeOgMPPe83et4Q77whDof+mm63e2gFQXKkFCLnioPSgIgvAqBhPiewXFbAKgmcK5ASQMraIAA0RlG0b41G4XFVCSzLSlUV1wCAUqo1Sq0qpQynSYaEVA1FQZse50JzLoBzgb7vH1jT6fRYKUBCqCpJpTmXKCWg6dU1YJ4DLhaAjBnBORZFiYQwJAVDWjJzmVbKTKpwNBodWLPZrBEsS6nKkmnGBALUDXWtsa7rRryqOMZxhkmS4XxePE9vLq11XddgvteC5vByyRSlTOPzMhuMLc4VCrE6/PiYYhTNMI5TTOIM0zTHp9lCp2kOy5ysBP9appSpNF3qoqC6LBvr2mTKmNRCKC2E1A/RTMdxqqfJXCdJpo1YnhO9WBAwDu7vxwdWEEyOKOUIILkCZn4ApasqpYLmgUEB5xKyLAdCGHCmoCyrBrNXCClMBOPxeN8Kg+hESYlpWqPvm0xwvUx+cYxIKaKUEh+ipybHLFtinpdIitWLm4GMyzAMDq3Ly+5H1709v/zunn757Nn9vmt7nme7rmff3Xn21zPP/tlzbcdx7F7v2r6+vrF7vaumDga3dr/v2Dc3g1PHuT3rdDrv/gCLngErMrHUigAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;24.png&quot; title=&quot;24.png&quot; src=&quot;/blog/static/a1e60ac354812457d4bf367245af95bd/fcda8/24.png&quot; srcSet=&quot;/blog/static/a1e60ac354812457d4bf367245af95bd/12f09/24.png 148w,/blog/static/a1e60ac354812457d4bf367245af95bd/e4a3f/24.png 295w,/blog/static/a1e60ac354812457d4bf367245af95bd/fcda8/24.png 590w,/blog/static/a1e60ac354812457d4bf367245af95bd/efc66/24.png 885w,/blog/static/a1e60ac354812457d4bf367245af95bd/c83ae/24.png 1180w,/blog/static/a1e60ac354812457d4bf367245af95bd/efb68/24.png 2032w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;또한 Source가 되는 스토리지에서 직접 CDC 관련 설정을 작업해줘야 한다.
예를 들어, MySQL의 경우 다음처럼 MySQL 설정에서 바이너리 로깅을 활성화해줘야 한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ini&quot;&gt;&lt;pre class=&quot;language-ini&quot;&gt;&lt;code class=&quot;language-ini&quot;&gt;&lt;span class=&quot;token key attr-name&quot;&gt;server-id&lt;/span&gt;                  &lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token value attr-value&quot;&gt;223344&lt;/span&gt;
&lt;span class=&quot;token key attr-name&quot;&gt;log_bin&lt;/span&gt;                    &lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token value attr-value&quot;&gt;mysql-bin&lt;/span&gt;
&lt;span class=&quot;token key attr-name&quot;&gt;binlog_format&lt;/span&gt;              &lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token value attr-value&quot;&gt;ROW&lt;/span&gt;
&lt;span class=&quot;token key attr-name&quot;&gt;binlog_row_image&lt;/span&gt;           &lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token value attr-value&quot;&gt;FULL&lt;/span&gt;
&lt;span class=&quot;token key attr-name&quot;&gt;binlog_expire_log_seconds&lt;/span&gt;  &lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token value attr-value&quot;&gt;864000&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;모든 Source에 대해서 CDC가 가능한 것은 아니며, Airbyte에서 현재 CDC를 지원하고 있는 Source는 &lt;a href=&quot;https://airbytehq.github.io/understanding-airbyte/cdc/#current-support&quot;&gt;이 페이지&lt;/a&gt;에서 확인할 수 있다.&lt;/p&gt;&lt;p&gt;CDC는 주로 &lt;code class=&quot;language-text&quot;&gt;Source: Incremental&lt;/code&gt; 방식과 같이 쓰일 때 이점이 있으며, 반대로 &lt;code class=&quot;language-text&quot;&gt;Source: Full Refresh&lt;/code&gt; 방식과 같이 쓰일 때는 이점이 없다.
왜냐하면 CDC는 Source의 변경 데이터에 대해서만 관심이 있는데, &lt;code class=&quot;language-text&quot;&gt;Source: Full Refresh&lt;/code&gt; 방식은 전체 데이터를 모두 스캔하기 때문이다.&lt;/p&gt;&lt;p&gt;아래 그림은 CDC를 사용했을 때 &lt;code class=&quot;language-text&quot;&gt;Dest: Append&lt;/code&gt; 방식과 &lt;code class=&quot;language-text&quot;&gt;Dest: Deduped + history&lt;/code&gt; 방식의 차이를 보여준다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:166.2162162162162%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAhCAYAAADZPosTAAAACXBIWXMAAAhOAAAITgGMMQDsAAAI3ElEQVRIxy2V+1vMiR7Hv//BOc9zznP2sBsWpUi6sIzLRKhQVhYhFrtrW8+jtS5ZKxTCKvfcWcpl2cWKdU0dqaQpNTM1TTX379wvTdfRBec158nZnz6/vX55vd/vj5C6jv9+veG9f+Xmt6Rs7yM5s4eF2T7i93URf7iDWXltjD/hYeolN/PveFjwwE3iUxcLSp0kVNiJe2Ul8pWJIVV6Pq7VIqxNxf9V2nu+3PyWlRl9LM3qYdEBH3N+7iLheAdxp9uIyvMgzXcz/aaL2Hsukp65SCh1EFdhQ1ppIfClkaEyHYPrNAgpaW9J3tLLFxlvmL+zmzmZ3czI6Ea6p4OJ+9uIOtRKRJ6bqfluptxwMuGWg/C7NsY+tBBcZCLwuZHhFQaGVP8FXPvDe1J39rNqVy8r9/cwL9PHrF3dRO/tYGpOGxOOegnLcxN/w0PiPRexfzqZUWQn/KmZMSUiQS+MjKg0MOS1jkFyDcLKb96zJcvPuqz3fPlTP8sye1l4sJuUM10sONNO0gU30RddRF9z89WTDuY/9DDvnpsZT+xIyyzEVVuQ1Jj4rEbPSLkWYfm373lUaubyfRsrNlpI3mBl30uRQ0ozqy64kNuesa1ExeSCVspqTRwssbAmSyTlmJWDRj3b9EaWyjRUyV6QVNeAsDz1HY+KneQXulm21sritTYOVlnJU4qkX7eitT9lR0k9kiutlFfbyS22sybdzIpcG0dEE3u0BjbVtmCveUWKXIWwLPUdKRv7WZLey5wN3cze2knsvg5m5rYx+YiX6adsjD9nR3LdyezbTqYU2on83cK4ByLRFWYk1WZm1erZV61knEKDsPS7dySt7ydxYy9zt79hVuaA4U4kB9qZcLiVsBMexpx1IfnVycQ7DqLu2xj31EJoiciUSpGoGgvz6ltoanvIYq0CYcl371iY1kfi5h7ifvQxc2cX0dkdTD7YxvgjrUScchF63sHEX51M+gs49qGZMc8GgCYiq0Xm1jdjcD1iSbMcYfWmd6zZ2ceyXT0sz3lD/P4upNkdTMlpQ3KildBTXkaddxF7x8W8J05mFtmJeWklrNxESJmB4Fd6gmp1jFC2EKBoQViy/i2ZJ2DTsXekZLxhUaaPlPOdrL3ZQcIlL+vumIi/YUFy08WmF10kF3uYe9PFjEI7ibVWFjRYmaYwsKy6ibCBHC5a/5aaBr3/7gszazaaWJ1u4rLaxG8mI6nXLHh7yv0/V6uIuObGpXP5r1Y5SU03+VcdMPG7U88Ji5ZNtY34FUr/SoUaYVFaPxdvOTh41c2c1U5i1zrY/tRGVqmZpQU2btVXkfpETeQNJ+cqVWx6rmXJEZHPfzGSoTOwvkXPKqWam+oqouvVCF+k9TP3+z5i03uYneljenYXk7LbiczxEp7nZtRJJ4EX7R86PK7QQehDK8HPRIJKjURUiYytE5nZoCVHXUdUQwtCUlr/B8PxP/mIGTC89/9CPjvaSsRJN6EXnATn24m8ZWf8fSthj82EFIsEvzAieW0iXCGyuLmJHl+5P0WrQliyuY9F23uYv8tH3J4upu3tQJLTRtTRVsaedBF6wUFQvg3JXQdTH9mZUGQhrEQksNRAZLWB0XUGpKomzhvLmaZSISSn9/Fldi+L9/lYnudj7vFOJh9qQ3q6FekvbkIuuggssDPtvoO4EjvSUiszX1sJrzExokrP6DotQUotf1fo+PdAUz7/oZfj19+Rld9H0uZ2En5s4/vbXrYWtRF3xcWZCgMrH4uE3rZzWOZjXZmXmXlWpPkWvlZZWK2xMqNez7HXGqYNxGagcooGAw9eiqzZaGTVZhNX1UYKRQNb7prof1vrP6JQM+o3O1aV1l9QqWf1Zo1/ebaO67YWCqxNbFWp6bap/StUaoT5m3rZec7DD2c9xKxzIk2zs+I3K6vuicRfsZFeWs3cB02M/cPO1hIDy4uNROboCD+vI6VJw1KNhvmqJvYoK4hQqhEGDMds6UGa4SN6fxeTD7UTnutl9DEPo846GXLeRcAVG+H3rIx6bCWwWCTwlZHhNQbC6owENZiIU7VQqFcyXa1BSNjSw5yMbmZldSLd247koJcJxzxEnHYx5oKDUQVWhv9qIeyehYgPs2/6YHjESz0TlHpCVUYWaRrxvin2J2uVCAnpfcRl9BCT5UO6rwtJbjvjj3sZd8bD6A+GHXx6w0bYnzbCiqyE/MdMYLnI8CojIXI9QfV6xqs0fNv8inENTQjxW93M3uEiercdSbaNqJ/NhB81MeaUkcBzOkZe1jDkWjOhhRrGPmoi+Jma4SUqAspUDKpS8K8aBf+QyfmbTMU/ZXKExJ1mknO7SMz1knTOjfS0g/DjNsLPWgjPFxmSb2bwdT2THxuILjMxqUKPRKkhUNHE4BoVQ+saGVan4qP6ZgZVVSHE/CiyK9/Dhl/cfJHZTeKeDtbc9pBW1Er8LRdZ5To+LzIR/MDK1kojyypMzLzsZOotK0uaRZZpLcSqDGyTa4l8JUOI2WZBobD7H5Y5SVmnZ+kGHX80eCg2ufnunh7/G40/r17Lp4UWRKXNX1BuZ/k3Wv/iDB3FFjdXTVYyG5rxay3+ZFkNwoyfTORce8u2Ah8x6xxMSXOQUdlEtlxNwh8iT80VrJcpGX7fxoGKdr564UJywEDkOT07xBq+NypY2qjivl7G9OoKhBnbzUgyOpmw28ukI16iTnoIP2sj9JKFUQU2Qm62MOy2nuDHIkOKtQSU6Qio0zG4XkOYqoUxjTrmNjSxW13D6BoZwvTtIrP2+JAeaGdirpeoY27GnnYRfMHByAIrATccDL5jIWTg05VaCCw3MqxSR8BrLWEqPSENIos1dWg67/pjlc8RojNEYvb0MPVAJxMPtxOZ5yXsnIeQSy5GXrUTcK2RQb83EviwkaCiekaU6xlabeQTuY7wRiNjGgeALbxwVBNTW4kg3WFg6m4rE/eLROUaCTuuZ/RpLYEXNAy73MTHV+V8dLOWkX/KGfmkhmHPlXxSrmCQTM4wWS3Dqwfua4bK5Ax+Wcn/ANBFWe+CMD79AAAAAElFTkSuQmCC&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;25.png&quot; title=&quot;25.png&quot; src=&quot;/blog/static/095a0eb81e805dbc6ad7594b1831e9b5/fcda8/25.png&quot; srcSet=&quot;/blog/static/095a0eb81e805dbc6ad7594b1831e9b5/12f09/25.png 148w,/blog/static/095a0eb81e805dbc6ad7594b1831e9b5/e4a3f/25.png 295w,/blog/static/095a0eb81e805dbc6ad7594b1831e9b5/fcda8/25.png 590w,/blog/static/095a0eb81e805dbc6ad7594b1831e9b5/efc66/25.png 885w,/blog/static/095a0eb81e805dbc6ad7594b1831e9b5/c83ae/25.png 1180w,/blog/static/095a0eb81e805dbc6ad7594b1831e9b5/7711d/25.png 1821w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;출처: &lt;a href=&quot;https://airbyte.com/blog/understanding-data-replication-modes&quot;&gt;https://airbyte.com/blog/understanding-data-replication-modes&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;&lt;p&gt;또한 CDC를 사용하면 Source에서 쿼리가 아닌 WAL를 통해 데이터를 추출하기 때문에, Source에 부하를 덜 줄 수 있는 이점도 있다.&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;Airbyte는 CDC를 위해 내부적으로 &lt;a href=&quot;https://debezium.io/&quot;&gt;Debezium&lt;/a&gt;를 사용한다고 한다.
&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:63.51351351351351%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAADSklEQVQ4y02TS28bBRSFvUH0N8AvQAJWVKgbhITEBlYUoYJaWhqEgiioj7QiSgSClEaFQhtMWzYElQUqj1CpokkockKbyAkxoYkTO36N32+PPbZnPB6PZ76L4mbBlY50V5/OvUfHg6XbWG2RbhO6DcSsI6YKRg2MKuzuZg0xK0inBK0cNDOgpaChQD0BahzUmKBG8WDp4pgtLL2FbTTp6Q16rT2YXobsNq6yQV/ZxFaCUE8hrSy08jhaDqeRGUi0FFKLikccAyWekavfzvHNtVm81+fll5kVrLaKkwnRnBynNvGx5CcmJT52UVqBFTAr4LqyN+zKsbu4tRgekS7+5Qc89virsv/ZEzzx9PvyxptT9AwVS9kmNfoZsdFLEhz14v/gqpSX/IhVpW878tutJbkyNSMLf22IiEO/EsEjrsF6IMyxt6/I0eOXOTrklYkLM5itCu1QkMScj8LWjlQ3Eyi+kOSW13HaBYpFVQ4ceId9+57nyJGJgVO7tPMQuLa6zcmRaTl1dppT527I51/dplpIE1v0Ew5GRNEqki/lSUfLEvNtUM9ECQQisv+Z4zz6yHN7QBe7FN492eTP+RWefOoteenlMV548SM5dPgySiSEGo5w6+wdfjg9L9MjPrzDyxK/H0a6BXTdkp9u+jg/8T1/3A2IaXSwy7sO0Vn0/cPBQxflldcmOfj6JTk5coNmOY2WSPHdiftcf3dNpoY3OX8sIlsLMaSTpddz/h+K9LombnXww/YAeGbspkxdu8uFL27L+Cc/o5WS1OMZvhwO4j2nyNdjOU4fLskDXxIxs4OQi8UaSSWP1tQFp4czCAWd2Tt+xj+dkYXVEL/+HpAzH/5Is5SgHMkxNpST1Xtd2Vzv895QX5Znc4iZxnFF+g5i9friINLv9egPTrabpCJR1la2WNtR5N/tBMu+v7EbWYxihqVZhXTSJplEFucKFMNxaMRRswqNfBItn6SeUzBKClKP4nE7qohVRywVvZql28gjVgVpF5B2DummMcoJtEIU6SSQ5sOqOZUw/dI2diGI1EJE/D7ia/fw0FFd16iKq1dwW0XcVmGg3WrRzOJqWWikoK7gqklQE4gaR+oxRI1CbQfRYiTXl8ht+vkPPbR9wUQZLSoAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;27.png&quot; title=&quot;27.png&quot; src=&quot;/blog/static/ab135fbea0a58243d6aaea6d6b913c59/fcda8/27.png&quot; srcSet=&quot;/blog/static/ab135fbea0a58243d6aaea6d6b913c59/12f09/27.png 148w,/blog/static/ab135fbea0a58243d6aaea6d6b913c59/e4a3f/27.png 295w,/blog/static/ab135fbea0a58243d6aaea6d6b913c59/fcda8/27.png 590w,/blog/static/ab135fbea0a58243d6aaea6d6b913c59/efc66/27.png 885w,/blog/static/ab135fbea0a58243d6aaea6d6b913c59/c83ae/27.png 1180w,/blog/static/ab135fbea0a58243d6aaea6d6b913c59/c1b63/27.png 1200w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;출처: &lt;a href=&quot;https://airbyte.com/tutorials/incremental-change-data-capture-cdc-replication&quot;&gt;https://airbyte.com/tutorials/incremental-change-data-capture-cdc-replication&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;사실 Source 스토리지에 직접 CDC 관련 설정을 할 수 있는 환경이 된다면, &lt;code class=&quot;language-text&quot;&gt;Source: Incremental&lt;/code&gt; 방식과 함께 CDC를 사용하는게 일반적으로 좋을거 같다.
다만 &lt;code class=&quot;language-text&quot;&gt;Source: Incremental | Dest: Deduped + history&lt;/code&gt; 방식으로 사용할 경우, 삭제가 된 데이터는 추후에도 보기 어렵다는 것을 유념해야 할 것이다.&lt;/p&gt;&lt;p&gt;예를 들어, 2개월 전에 만들었던 비즈니스 지표 리포트를 다시 만들려고 하는데, 일부 데이터가 일련의 이유로 사라졌다면, 2개월 전 비즈니스 지표 리포트를 다시 만드는 것은 꽤 어려워진다.
이처럼 데이터가 과거에는 존재했다가, 어느순간 삭제되어 존재하지 않는 경우 과거의 데이터 스냅샷을 재현하기 어려워진다는 것을 꼭 알아두고 적절히 사용하자.&lt;/p&gt;&lt;h2 id=&quot;아키텍처&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98&quot; aria-label=&quot;아키텍처 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;아키텍처&lt;/h2&gt;&lt;h3 id=&quot;컴포넌트와-워크플로우&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8%EC%99%80-%EC%9B%8C%ED%81%AC%ED%94%8C%EB%A1%9C%EC%9A%B0&quot; aria-label=&quot;컴포넌트와 워크플로우 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;컴포넌트와 워크플로우&lt;/h3&gt;&lt;p&gt;Airbyte의 아키텍처를 하나의 다이어그램으로 표현하면 다음과 같다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:38.513513513513516%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAC4jAAAuIwF4pT92AAABOElEQVQoz1WS226DMBBE+f8f7EOrtmoqSlLAXGzjy9qnskOgsYRmQexhd4bGuYxIBjI5F4UggpdIuevMzOQt5IyxFmMMIYT7eyERY6r1o7fpOtD6GXiZej7UrdYv12/aRRFjZBxHvPeM41D4LLPHmFjr0luu5uuzAHk6khJms1U35/ZpAkopnHMVXIZc14DRkZTO3ub9LbGuGe8Fa6Wukawh6pXsNoLRVb1z/PY967pwvaoK1DpgjeB8Ztw0PglN28YKnOfyZYvVkaB6wjSCXvCzQpaJzRiut1sFXi7jDvRsm7Ba4bXv0NHR/PycK+8WsptSQ3k8LN7N84yIMAznylpHRP6t3La5TniGcgcd7F0LcJqmHThUSA3l8HAPRSm4+56PtNgTOxSOlJdlqWuXY23AOTl+mwL8A1nwcR9Vu3rxAAAAAElFTkSuQmCC&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;26.png&quot; title=&quot;26.png&quot; src=&quot;/blog/static/d5d3675c5d22252771749a7aa53c6540/fcda8/26.png&quot; srcSet=&quot;/blog/static/d5d3675c5d22252771749a7aa53c6540/12f09/26.png 148w,/blog/static/d5d3675c5d22252771749a7aa53c6540/e4a3f/26.png 295w,/blog/static/d5d3675c5d22252771749a7aa53c6540/fcda8/26.png 590w,/blog/static/d5d3675c5d22252771749a7aa53c6540/efc66/26.png 885w,/blog/static/d5d3675c5d22252771749a7aa53c6540/c83ae/26.png 1180w,/blog/static/d5d3675c5d22252771749a7aa53c6540/02607/26.png 3338w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;출처: &lt;a href=&quot;https://airbytehq.github.io/understanding-airbyte/high-level-view&quot;&gt;https://airbytehq.github.io/understanding-airbyte/high-level-view&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;&lt;p&gt;각 컴포넌트를 설명하면 다음과 같다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;WebApp Server&lt;ul&gt;&lt;li&gt;UI와 API 간의 연결을 처리한다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;Config Store&lt;ul&gt;&lt;li&gt;모든 연결 정보(자격증명, 빈도 등)를 저장한다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;Scheduler Store&lt;ul&gt;&lt;li&gt;스케줄러 예약을 위한 상태 및 작업 정보를 저장한다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;Config API&lt;ul&gt;&lt;li&gt;메인 컨트롤 플레인이다.&lt;/li&gt;&lt;li&gt;Sources, Destinations, Connections, Config 관리 등과 같은 Airbyte의 모든 작업은 API에서 구성되고 호출된다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;Scheduler&lt;ul&gt;&lt;li&gt;API에서 작업 요청을 받아 &lt;a href=&quot;https://temporal.io/&quot;&gt;Temporal 서비스&lt;/a&gt;로 전송하여 병렬화한다.&lt;/li&gt;&lt;li&gt;성공/실패 추적 및 구성된 빈도에 따라 동기화 트리거를 담당한다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;Temporal Service&lt;ul&gt;&lt;li&gt;Scheduler의 작업 대기열 및 워크플로우를 관리한다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;Worker&lt;ul&gt;&lt;li&gt;Source Connector에 연결하고 데이터를 가져와 Destination에 로드한다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;Temporary Storage&lt;ul&gt;&lt;li&gt;Worker가 데이터를 뽑아낼 때마다 사용할 수 있는 저장소다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;각 컴포넌트간 의존 관계 및 워크플로우는 위 그림에 나오는 화살표를 보면 쉽게 알 수 있다.&lt;/p&gt;&lt;h3 id=&quot;worker와-job&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#worker%EC%99%80-job&quot; aria-label=&quot;worker와 job permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Worker와 Job&lt;/h3&gt;&lt;p&gt;위 컴포넌트들 중에서 가장 핵심이 되는 항목은 Worker다.
Worker는 실질적인 ELT 작업을 진행하는 역할을 담당하고 있다.&lt;/p&gt;&lt;p&gt;Worekr는 구체적인 책임에 따라 다음 4가지로 구성되어 있다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Spec Worker&lt;ul&gt;&lt;li&gt;Connector에 대한 명세(Specification)를 검색한다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;Check Connection Worker&lt;ul&gt;&lt;li&gt;Connector에 대한 입력이 유효하고 Sync하는데 문제 없는지 확인한다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;Discovery Worker&lt;ul&gt;&lt;li&gt;Connector의 Source 스키마를 검색한다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;Sync Worker&lt;ul&gt;&lt;li&gt;Source와 Destination 간에 Sync를 수행한다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;여기서 Sync에 핵심이 되는 Sync Worker에 대해서 좀 더 알아보자.&lt;/p&gt;&lt;p&gt;Sync가 진행될 때, Sync Worker에서는 다음의 일들이 일어난다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:540px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:169.59459459459458%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAiCAIAAADQyG7qAAAACXBIWXMAAAsTAAALEwEAmpwYAAADpUlEQVRIx61VbW/bVBTezwGmoSEhtmrQT2gSQiBeJD6DNt7F+AJibCBGmlWjsLUrID5uULUSWwvdKB2UsY6pVEnYQlb1JUs6O7Gd2Intazt+v773GNnOUAJJy8uOrizL14/Pc57nnOsd4f+IHXcBjDG24nBdN7k6jmOZLctsBdgPQwgB+oJ1XWcYplgs8jxfKpVqglDleIaXWKFhOd6/oh0lARe5qxdaN781CjNmYZqYzXgHeoMBgFJCKAEgEIYGm62M7F46fO/ykfvYj3a1Nq9B9A6hQCnQ/plJ6NrYN03cvBXIJdwsYbnktQzH8iNO8LfMED9TrAar3sqXM7/fznIqSzpIcgpbYLI3mevl5ppsSQmkDU6YnMmcfPzkrqdH9j45+sCH868B0BAoUBKGYWr2jf3pnc+MDDyauufzK0MRhJKuzBzazLKLv7HXMsziupjvLKUoFpbLl3PML8vly4xcTDRqg13XtW0bezjwCARhWxGIRIzzQ1+rAEBRlEqlwrLsRnFjdW2VYZk/Jb3jBSWUUEjWFmrHeQJdUBeGhblUfT6NFtIBqsRbtG+TROLQAGjkM9rMVE8P5oYGcukB7vQjenmJxuBtfKYETGRjL4DACQMrDCzANhBq6S7FvToMYqrl5trV0tzCyuz3+XN5bjmpIBFrRcjN3fh6/sb04sZ3RWmlS20Sm3k2M/rE6O5nP9731NiDqUuv00hqoJTGPh96bPj+5049vH9o5xdXj8c1ki7aFjZEk2tYtYbJI6fZuaVYkoCYml7lNUaz5YRuG4wQEgShLtSRojUluSE2karVRZHjhXpd3GYkbdtGSJNlWdM1hJCiqoaOVLGCRNZo8uAaQIOo/rYIsIXPUZFYWq19OphP7ykM762eesip5uId0tfnZKQBqIdJSyxrVz7h5k/wl05oP4+0akUvoHHDbpnZ8zwN6UDhL9/VkO77uKfPEdUf1s8f/ebFI5Mvv3vu4JfZMYhZ0JjqV0vjb008f3TqlbcnX7hQmEjasQv84/r0ezMvHTt/6P2ZVyey4wm9pH8mfv3s8NTB1PSb70wduFiY7AL3CehY/a1SVZVlWUmShJrAMIyPfehA39GyHQDQNc+u62qaZhiGruuKokQtCQDED0Mchji66R7GbXwOpDV+fDCX2nM9PcCN7fOFfN95hs6IJ4HoAvrpePXiMXb2A/WfHAY9jnBKXQ//l7+k5zqe49hWy3OdnoJvBfZ9H2PsxXH3/89/AEgtaitCzFHeAAAAAElFTkSuQmCC&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;31.png&quot; title=&quot;31.png&quot; src=&quot;/blog/static/20a66a41668e115ab71e8058ad2cb8ca/07484/31.png&quot; srcSet=&quot;/blog/static/20a66a41668e115ab71e8058ad2cb8ca/12f09/31.png 148w,/blog/static/20a66a41668e115ab71e8058ad2cb8ca/e4a3f/31.png 295w,/blog/static/20a66a41668e115ab71e8058ad2cb8ca/07484/31.png 540w&quot; sizes=&quot;(max-width: 540px) 100vw, 540px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;ol&gt;&lt;li&gt;Source와 Destionation 관련 도커 컨테이너를 실행시킨다.&lt;/li&gt;&lt;li&gt;Source 컨테이너에서 추출한 메시지를 Destionation 컨테이너로 전달한다.&lt;/li&gt;&lt;li&gt;Source와 Destionation 컨테이너가 할 일을 마치면, 이 둘을 종료시킨다.&lt;/li&gt;&lt;li&gt;실행 결과를 반환한다.&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;이 때 Source, Destionation 컨테이너를 Job이라고 부르며, 이 Job들은 이름 그대로 각각 본인과 관련된 일들을 진행한다.
Source 컨테이너는 Source에서 데이터를 추출하는 일을(Extract), Destination 컨테이너는 입력받은 데이터를 Destination으로 로드하는 일(Load)을 한다.&lt;/p&gt;&lt;p&gt;그리고 Sync 옵션 중 &lt;code class=&quot;language-text&quot;&gt;Normalization&lt;/code&gt; 이 설정되어 있었다면, Normalization 컨테이너도 Worker에 의해 실행된다.
Normalization 컨테이너는 로드된 데이터(RAW JSON)를 가공하여(Transform) 최종적으로 Destination에 데이터(Normalized)를 저장한다.&lt;/p&gt;&lt;p&gt;예를 들어 위에서 진행한 MySQL -&amp;gt; BigQuery Connection을 Sync하는 경우 Sync worker에서는 다음과 같은 일들이 일어난다.&lt;/p&gt;&lt;div class=&quot;mermaid&quot; data-processed=&quot;true&quot;&gt;&lt;svg viewBox=&quot;0 0 1545.203125 280.25&quot; style=&quot;max-width:1545.203125px&quot; height=&quot;280.25&quot; aria-labelled-by=&quot;chart-title-mermaid-1736145203852,chart-desc-mermaid-1736145203852&quot; role=&quot;img&quot; xmlnsXLink=&quot;http://www.w3.org/1999/xlink&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;100%&quot; id=&quot;mermaid-1736145203852&quot;&gt;&lt;title id=&quot;chart-title-mermaid-1736145203852&quot;&gt;&lt;/title&gt;&lt;desc id=&quot;chart-desc-mermaid-1736145203852&quot;&gt;&lt;/desc&gt;&lt;style&gt;#mermaid-1736145203852 {font-family:&amp;quot;trebuchet ms&amp;quot;,verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-1736145203852 .error-icon{fill:#552222;}#mermaid-1736145203852 .error-text{fill:#552222;stroke:#552222;}#mermaid-1736145203852 .edge-thickness-normal{stroke-width:2px;}#mermaid-1736145203852 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-1736145203852 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-1736145203852 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-1736145203852 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-1736145203852 .marker{fill:#333333;stroke:#333333;}#mermaid-1736145203852 .marker.cross{stroke:#333333;}#mermaid-1736145203852 svg{font-family:&amp;quot;trebuchet ms&amp;quot;,verdana,arial,sans-serif;font-size:16px;}#mermaid-1736145203852 .label{font-family:&amp;quot;trebuchet ms&amp;quot;,verdana,arial,sans-serif;color:#333;}#mermaid-1736145203852 .cluster-label text{fill:#333;}#mermaid-1736145203852 .cluster-label span{color:#333;}#mermaid-1736145203852 .label text,#mermaid-1736145203852 span{fill:#333;color:#333;}#mermaid-1736145203852 .node rect,#mermaid-1736145203852 .node circle,#mermaid-1736145203852 .node ellipse,#mermaid-1736145203852 .node polygon,#mermaid-1736145203852 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-1736145203852 .node .label{text-align:center;}#mermaid-1736145203852 .node.clickable{cursor:pointer;}#mermaid-1736145203852 .arrowheadPath{fill:#333333;}#mermaid-1736145203852 .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-1736145203852 .flowchart-link{stroke:#333333;fill:none;}#mermaid-1736145203852 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaid-1736145203852 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaid-1736145203852 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-1736145203852 .cluster text{fill:#333;}#mermaid-1736145203852 .cluster span{color:#333;}#mermaid-1736145203852 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:&amp;quot;trebuchet ms&amp;quot;,verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-1736145203852 :root{--mermaid-font-family:&amp;quot;trebuchet ms&amp;quot;,verdana,arial,sans-serif;}&lt;/style&gt;&lt;g transform=&quot;translate(0, 0)&quot;&gt;&lt;marker orient=&quot;auto&quot; markerHeight=&quot;12&quot; markerWidth=&quot;12&quot; markerUnits=&quot;userSpaceOnUse&quot; refY=&quot;5&quot; refX=&quot;9&quot; viewBox=&quot;0 0 10 10&quot; class=&quot;marker flowchart&quot; id=&quot;flowchart-pointEnd&quot;&gt;&lt;path style=&quot;stroke-width:1;stroke-dasharray:1, 0&quot; class=&quot;arrowMarkerPath&quot; d=&quot;M 0 0 L 10 5 L 0 10 z&quot;&gt;&lt;/path&gt;&lt;/marker&gt;&lt;marker orient=&quot;auto&quot; markerHeight=&quot;12&quot; markerWidth=&quot;12&quot; markerUnits=&quot;userSpaceOnUse&quot; refY=&quot;5&quot; refX=&quot;0&quot; viewBox=&quot;0 0 10 10&quot; class=&quot;marker flowchart&quot; id=&quot;flowchart-pointStart&quot;&gt;&lt;path style=&quot;stroke-width:1;stroke-dasharray:1, 0&quot; class=&quot;arrowMarkerPath&quot; d=&quot;M 0 5 L 10 10 L 10 0 z&quot;&gt;&lt;/path&gt;&lt;/marker&gt;&lt;marker orient=&quot;auto&quot; markerHeight=&quot;11&quot; markerWidth=&quot;11&quot; markerUnits=&quot;userSpaceOnUse&quot; refY=&quot;5&quot; refX=&quot;11&quot; viewBox=&quot;0 0 10 10&quot; class=&quot;marker flowchart&quot; id=&quot;flowchart-circleEnd&quot;&gt;&lt;circle style=&quot;stroke-width:1;stroke-dasharray:1, 0&quot; class=&quot;arrowMarkerPath&quot; r=&quot;5&quot; cy=&quot;5&quot; cx=&quot;5&quot;&gt;&lt;/circle&gt;&lt;/marker&gt;&lt;marker orient=&quot;auto&quot; markerHeight=&quot;11&quot; markerWidth=&quot;11&quot; markerUnits=&quot;userSpaceOnUse&quot; refY=&quot;5&quot; refX=&quot;-1&quot; viewBox=&quot;0 0 10 10&quot; class=&quot;marker flowchart&quot; id=&quot;flowchart-circleStart&quot;&gt;&lt;circle style=&quot;stroke-width:1;stroke-dasharray:1, 0&quot; class=&quot;arrowMarkerPath&quot; r=&quot;5&quot; cy=&quot;5&quot; cx=&quot;5&quot;&gt;&lt;/circle&gt;&lt;/marker&gt;&lt;marker orient=&quot;auto&quot; markerHeight=&quot;11&quot; markerWidth=&quot;11&quot; markerUnits=&quot;userSpaceOnUse&quot; refY=&quot;5.2&quot; refX=&quot;12&quot; viewBox=&quot;0 0 11 11&quot; class=&quot;marker cross flowchart&quot; id=&quot;flowchart-crossEnd&quot;&gt;&lt;path style=&quot;stroke-width:2;stroke-dasharray:1, 0&quot; class=&quot;arrowMarkerPath&quot; d=&quot;M 1,1 l 9,9 M 10,1 l -9,9&quot;&gt;&lt;/path&gt;&lt;/marker&gt;&lt;marker orient=&quot;auto&quot; markerHeight=&quot;11&quot; markerWidth=&quot;11&quot; markerUnits=&quot;userSpaceOnUse&quot; refY=&quot;5.2&quot; refX=&quot;-1&quot; viewBox=&quot;0 0 11 11&quot; class=&quot;marker cross flowchart&quot; id=&quot;flowchart-crossStart&quot;&gt;&lt;path style=&quot;stroke-width:2;stroke-dasharray:1, 0&quot; class=&quot;arrowMarkerPath&quot; d=&quot;M 1,1 l 9,9 M 10,1 l -9,9&quot;&gt;&lt;/path&gt;&lt;/marker&gt;&lt;g class=&quot;root&quot;&gt;&lt;g class=&quot;clusters&quot;&gt;&lt;g id=&quot;Source&quot; class=&quot;cluster default&quot;&gt;&lt;rect height=&quot;119.5&quot; width=&quot;118.34375&quot; y=&quot;74.25&quot; x=&quot;8&quot; ry=&quot;0&quot; rx=&quot;0&quot;&gt;&lt;/rect&gt;&lt;g transform=&quot;translate(41.8203125, 79.25)&quot; class=&quot;cluster-label&quot;&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;50.703125&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;span class=&quot;nodeLabel&quot;&gt;Source&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g id=&quot;Airbyte&quot; class=&quot;cluster default&quot;&gt;&lt;rect height=&quot;258.5&quot; width=&quot;827.046875&quot; y=&quot;13.75&quot; x=&quot;285.703125&quot; ry=&quot;0&quot; rx=&quot;0&quot;&gt;&lt;/rect&gt;&lt;g transform=&quot;translate(674.328125, 18.75)&quot; class=&quot;cluster-label&quot;&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;49.796875&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;span class=&quot;nodeLabel&quot;&gt;Airbyte&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g id=&quot;Destination&quot; class=&quot;cluster default&quot;&gt;&lt;rect height=&quot;236.25&quot; width=&quot;214.390625&quot; y=&quot;8&quot; x=&quot;1322.8125&quot; ry=&quot;0&quot; rx=&quot;0&quot;&gt;&lt;/rect&gt;&lt;g transform=&quot;translate(1389.984375, 13)&quot; class=&quot;cluster-label&quot;&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;80.046875&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;span class=&quot;nodeLabel&quot;&gt;Destination&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;g class=&quot;edgePaths&quot;&gt;&lt;path marker-end=&quot;url(#flowchart-pointEnd)&quot; style=&quot;fill:none&quot; class=&quot;edge-thickness-normal edge-pattern-solid flowchart-link LS-w LE-s&quot; id=&quot;L-w-s-0&quot; d=&quot;M570.4867691532259,155.5L554.1647555443549,168.25C537.8427419354839,181,505.19871471774195,206.5,473.26373487903226,206.5C441.3287550403226,206.5,410.1028225806452,181,394.4898563508064,168.25L378.87689012096774,155.5&quot;&gt;&lt;/path&gt;&lt;path marker-end=&quot;url(#flowchart-pointEnd)&quot; style=&quot;fill:none&quot; class=&quot;edge-thickness-normal edge-pattern-solid flowchart-link LS-s LE-m&quot; id=&quot;L-s-m-0&quot; d=&quot;M310.703125,151.49036402569592L306.5364583333333,152.5753033547466C302.3697916666667,153.6602426837973,294.0364583333333,155.83012134189866,276.58984375,156.91506067094932C259.1432291666667,158,232.58333333333334,158,206.0234375,158C179.46354166666666,158,152.90364583333334,158,135.45703125,156.66208960478832C118.01041666666667,155.3241792095766,109.67708333333333,152.64835841915325,105.51041666666667,151.31044802394158L101.34375,149.97253762872987&quot;&gt;&lt;/path&gt;&lt;path marker-end=&quot;url(#flowchart-pointEnd)&quot; style=&quot;fill:none;stroke-width:2px;stroke-dasharray:3&quot; class=&quot;edge-thickness-normal edge-pattern-dotted flowchart-link LS-m LE-s&quot; id=&quot;L-m-s-0&quot; d=&quot;M101.34375,128.02746237127013L105.51041666666667,126.68955197605844C109.67708333333333,125.35164158084676,118.01041666666667,122.67582079042337,135.45703125,121.33791039521168C152.90364583333334,120,179.46354166666666,120,206.0234375,120C232.58333333333334,120,259.1432291666667,120,276.58984375,121.08493932905067C294.0364583333333,122.16987865810135,302.3697916666667,124.33975731620272,306.5364583333333,125.42469664525339L310.703125,126.50963597430408&quot;&gt;&lt;/path&gt;&lt;path marker-end=&quot;url(#flowchart-pointEnd)&quot; style=&quot;fill:none;stroke-width:2px;stroke-dasharray:3&quot; class=&quot;edge-thickness-normal edge-pattern-dotted flowchart-link LS-s LE-w&quot; id=&quot;L-s-w-0&quot; d=&quot;M380.7785386029412,122.5L396.0745634191176,111.08333333333333C411.37058823529406,99.66666666666667,441.96263786764706,76.83333333333333,473.2493412990196,76.83333333333333C504.5360447303921,76.83333333333333,536.5174019607842,99.66666666666667,552.5080805759803,111.08333333333333L568.4987591911764,122.5&quot;&gt;&lt;/path&gt;&lt;path marker-end=&quot;url(#flowchart-pointEnd)&quot; style=&quot;fill:none&quot; class=&quot;edge-thickness-normal edge-pattern-solid flowchart-link LS-w LE-d&quot; id=&quot;L-w-d-0&quot; d=&quot;M622.9866727941177,122.5L644.6972273284314,111.08333333333333C666.4077818627451,99.66666666666667,709.8288909313725,76.83333333333333,758.0147058823528,68.88295358352144C806.2005208333334,60.93257383370955,859.1510416666666,67.86514766741911,885.6263020833334,71.33143458427388L912.1015625,74.79772150112866&quot;&gt;&lt;/path&gt;&lt;path marker-end=&quot;url(#flowchart-pointEnd)&quot; style=&quot;fill:none&quot; class=&quot;edge-thickness-normal edge-pattern-solid flowchart-link LS-d LE-d&quot; id=&quot;L-d-d-0&quot; d=&quot;M953.5820979095563,99.5L946.6686753412969,104.8888888888889C939.7552527730376,110.27777777777779,925.9284076365187,121.05555555555556,919.0149850682593,127.79166666666667C912.1015625,134.5277777777778,912.1015625,137.2222222222222,922.54296875,139.91666666666666C932.984375,142.61111111111111,953.8671875,145.30555555555554,974.75,145.30555555555554C995.6328125,145.30555555555554,1016.515625,142.61111111111111,1026.95703125,139.91666666666666C1037.3984375,137.2222222222222,1037.3984375,134.5277777777778,1030.4850149317406,127.79166666666667C1023.5715923634813,121.05555555555556,1009.7447472269624,110.27777777777779,1002.8313246587031,104.8888888888889L995.9179020904437,99.5&quot;&gt;&lt;/path&gt;&lt;path marker-end=&quot;url(#flowchart-pointEnd)&quot; style=&quot;fill:none&quot; class=&quot;edge-thickness-normal edge-pattern-solid flowchart-link LS-d LE-g&quot; id=&quot;L-d-g-0&quot; d=&quot;M1037.3984375,72.33160665760869L1049.95703125,70.19300554800724C1062.515625,68.0544044384058,1087.6328125,63.7772022192029,1117.6966145833333,61.638601109601446C1147.7604166666667,59.5,1182.7708333333333,59.5,1217.78125,59.5C1252.7916666666667,59.5,1287.8020833333333,59.5,1309.4739583333333,59.5C1331.1458333333333,59.5,1339.4791666666667,59.5,1343.6458333333333,59.5L1347.8125,59.5&quot;&gt;&lt;/path&gt;&lt;path marker-end=&quot;url(#flowchart-pointEnd)&quot; style=&quot;fill:none&quot; class=&quot;edge-thickness-normal edge-pattern-solid flowchart-link LS-d LE-b&quot; id=&quot;L-d-b-0&quot; d=&quot;M1029.617469879518,99.5L1043.4728915662652,103.66666666666667C1057.328313253012,107.83333333333333,1085.039156626506,116.16666666666667,1116.3997866465863,120.33333333333333C1147.7604166666667,124.5,1182.7708333333333,124.5,1217.78125,124.5C1252.7916666666667,124.5,1287.8020833333333,124.5,1318.3006628787878,131.83333333333334C1348.7992424242423,139.16666666666666,1374.7859848484848,153.83333333333334,1387.779356060606,161.16666666666666L1400.7727272727273,168.5&quot;&gt;&lt;/path&gt;&lt;path marker-end=&quot;url(#flowchart-pointEnd)&quot; style=&quot;fill:none;stroke-width:2px;stroke-dasharray:3&quot; class=&quot;edge-thickness-normal edge-pattern-dotted flowchart-link LS-d LE-w&quot; id=&quot;L-d-w-0&quot; d=&quot;M912.1015625,88.3739066027088L885.6263020833334,90.644922168924C859.1510416666666,92.91593773513921,806.2005208333334,97.4579688675696,761.6419270833334,103.86831100056425C717.0833333333334,110.27865313355888,680.9166666666666,118.55730626711777,662.8333333333334,122.6966328338972L644.75,126.83595940067666&quot;&gt;&lt;/path&gt;&lt;path marker-end=&quot;url(#flowchart-pointEnd)&quot; style=&quot;fill:none&quot; class=&quot;edge-thickness-normal edge-pattern-solid flowchart-link LS-w LE-n&quot; id=&quot;L-w-n-0&quot; d=&quot;M644.75,154.12286128564523L662.8333333333334,159.26905107137102C680.9166666666666,164.41524085709682,717.0833333333334,174.70762042854844,760.1614583333334,182.50562784030885C803.2395833333334,190.30363525206926,853.2291666666666,195.60727050413846,878.2239583333334,198.25908813017307L903.21875,200.91090575620768&quot;&gt;&lt;/path&gt;&lt;path marker-end=&quot;url(#flowchart-pointEnd)&quot; style=&quot;fill:none&quot; class=&quot;edge-thickness-normal edge-pattern-solid flowchart-link LS-n LE-b&quot; id=&quot;L-n-b-0&quot; d=&quot;M1046.28125,208.5L1057.359375,208.5C1068.4375,208.5,1090.59375,208.5,1119.1770833333333,208.5C1147.7604166666667,208.5,1182.7708333333333,208.5,1217.78125,208.5C1252.7916666666667,208.5,1287.8020833333333,208.5,1316.3645833333333,206.07595413356657C1344.9270833333333,203.6519082671331,1367.0416666666667,198.80381653426625,1378.0989583333333,196.37977066783276L1389.15625,193.95572480139933&quot;&gt;&lt;/path&gt;&lt;path marker-end=&quot;url(#flowchart-pointEnd)&quot; style=&quot;fill:none;stroke-width:2px;stroke-dasharray:3&quot; class=&quot;edge-thickness-normal edge-pattern-dotted flowchart-link LS-n LE-w&quot; id=&quot;L-n-w-0&quot; d=&quot;M903.21875,216.08909424379232L878.2239583333334,218.74091186982693C853.2291666666666,221.39272949586154,803.2395833333334,226.69636474793074,756.0843834005376,216.5981823739654C708.929183467742,206.5,664.6083669354839,181,642.4479586693549,168.25L620.2875504032259,155.5&quot;&gt;&lt;/path&gt;&lt;/g&gt;&lt;g class=&quot;edgeLabels&quot;&gt;&lt;g transform=&quot;translate(472.5546875, 232)&quot; class=&quot;edgeLabel&quot;&gt;&lt;g transform=&quot;translate(-40.9140625, -9)&quot; class=&quot;label&quot;&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;81.828125&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;span class=&quot;edgeLabel&quot;&gt;1. Get Data&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g transform=&quot;translate(206.0234375, 158)&quot; class=&quot;edgeLabel&quot;&gt;&lt;g transform=&quot;translate(-40.9140625, -9)&quot; class=&quot;label&quot;&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;81.828125&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;span class=&quot;edgeLabel&quot;&gt;2. Get Data&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g transform=&quot;translate(206.0234375, 120)&quot; class=&quot;edgeLabel&quot;&gt;&lt;g transform=&quot;translate(-54.6796875, -9)&quot; class=&quot;label&quot;&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;109.359375&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;span class=&quot;edgeLabel&quot;&gt;3. Data (JSON)&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g transform=&quot;translate(472.5546875, 54)&quot; class=&quot;edgeLabel&quot;&gt;&lt;g transform=&quot;translate(-25.796875, -9)&quot; class=&quot;label&quot;&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;51.59375&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;span class=&quot;edgeLabel&quot;&gt;4. Data&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g transform=&quot;translate(753.25, 54)&quot; class=&quot;edgeLabel&quot;&gt;&lt;g transform=&quot;translate(-45.8046875, -9)&quot; class=&quot;label&quot;&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;91.609375&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;span class=&quot;edgeLabel&quot;&gt;5. Pass Data&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g transform=&quot;translate(974.75, 148)&quot; class=&quot;edgeLabel&quot;&gt;&lt;g transform=&quot;translate(-113, -9)&quot; class=&quot;label&quot;&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;226&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;span class=&quot;edgeLabel&quot;&gt;6. Convert Data (JSON -&amp;gt; Avro)&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g transform=&quot;translate(1217.78125, 59.5)&quot; class=&quot;edgeLabel&quot;&gt;&lt;g transform=&quot;translate(-53.3671875, -9)&quot; class=&quot;label&quot;&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;106.734375&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;span class=&quot;edgeLabel&quot;&gt;7. Upload Data&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g transform=&quot;translate(1217.78125, 124.5)&quot; class=&quot;edgeLabel&quot;&gt;&lt;g transform=&quot;translate(-67.796875, -18)&quot; class=&quot;label&quot;&gt;&lt;foreignObject height=&quot;36&quot; width=&quot;135.59375&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;span class=&quot;edgeLabel&quot;&gt;8. Upload Data &lt;br/&gt; (GCS -&amp;gt; BigQuery)&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g transform=&quot;translate(753.25, 102)&quot; class=&quot;edgeLabel&quot;&gt;&lt;g transform=&quot;translate(-31.5703125, -9)&quot; class=&quot;label&quot;&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;63.140625&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;span class=&quot;edgeLabel&quot;&gt;9. Result&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g transform=&quot;translate(753.25, 185)&quot; class=&quot;edgeLabel&quot;&gt;&lt;g transform=&quot;translate(-83.5, -18)&quot; class=&quot;label&quot;&gt;&lt;foreignObject height=&quot;36&quot; width=&quot;167&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;span class=&quot;edgeLabel&quot;&gt;10. Transform Data &lt;br/&gt; (JSON -&amp;gt; Transformed)&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g transform=&quot;translate(1217.78125, 208.5)&quot; class=&quot;edgeLabel&quot;&gt;&lt;g transform=&quot;translate(-80.03125, -9)&quot; class=&quot;label&quot;&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;160.0625&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;span class=&quot;edgeLabel&quot;&gt;11. Query to transform&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g transform=&quot;translate(753.25, 232)&quot; class=&quot;edgeLabel&quot;&gt;&lt;g transform=&quot;translate(-36.0234375, -9)&quot; class=&quot;label&quot;&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;72.046875&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;span class=&quot;edgeLabel&quot;&gt;12. Result&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;g class=&quot;nodes&quot;&gt;&lt;g transform=&quot;translate(67.171875, 139)&quot; id=&quot;flowchart-m-37&quot; class=&quot;node default default&quot;&gt;&lt;rect height=&quot;33&quot; width=&quot;68.34375&quot; y=&quot;-16.5&quot; x=&quot;-34.171875&quot; ry=&quot;0&quot; rx=&quot;0&quot; class=&quot;basic label-container&quot;&gt;&lt;/rect&gt;&lt;g transform=&quot;translate(-26.671875, -9)&quot; class=&quot;label&quot;&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;53.34375&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;span class=&quot;nodeLabel&quot;&gt;MySQL&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g transform=&quot;translate(591.609375, 139)&quot; id=&quot;flowchart-w-33&quot; class=&quot;node default default&quot;&gt;&lt;rect height=&quot;33&quot; width=&quot;106.28125&quot; y=&quot;-16.5&quot; x=&quot;-53.140625&quot; ry=&quot;0&quot; rx=&quot;0&quot; class=&quot;basic label-container&quot;&gt;&lt;/rect&gt;&lt;g transform=&quot;translate(-45.640625, -9)&quot; class=&quot;label&quot;&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;91.28125&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;span class=&quot;nodeLabel&quot;&gt;Sync Worker&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g transform=&quot;translate(358.671875, 139)&quot; id=&quot;flowchart-s-34&quot; class=&quot;node default default&quot;&gt;&lt;rect height=&quot;33&quot; width=&quot;95.9375&quot; y=&quot;-16.5&quot; x=&quot;-47.96875&quot; ry=&quot;0&quot; rx=&quot;0&quot; class=&quot;basic label-container&quot;&gt;&lt;/rect&gt;&lt;g transform=&quot;translate(-40.46875, -9)&quot; class=&quot;label&quot;&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;80.9375&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;span class=&quot;nodeLabel&quot;&gt;Source Job&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g transform=&quot;translate(974.75, 208.5)&quot; id=&quot;flowchart-n-35&quot; class=&quot;node default default&quot;&gt;&lt;rect height=&quot;33&quot; width=&quot;143.0625&quot; y=&quot;-16.5&quot; x=&quot;-71.53125&quot; ry=&quot;0&quot; rx=&quot;0&quot; class=&quot;basic label-container&quot;&gt;&lt;/rect&gt;&lt;g transform=&quot;translate(-64.03125, -9)&quot; class=&quot;label&quot;&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;128.0625&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;span class=&quot;nodeLabel&quot;&gt;Normalization Job&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g transform=&quot;translate(974.75, 83)&quot; id=&quot;flowchart-d-36&quot; class=&quot;node default default&quot;&gt;&lt;rect height=&quot;33&quot; width=&quot;125.296875&quot; y=&quot;-16.5&quot; x=&quot;-62.6484375&quot; ry=&quot;0&quot; rx=&quot;0&quot; class=&quot;basic label-container&quot;&gt;&lt;/rect&gt;&lt;g transform=&quot;translate(-55.1484375, -9)&quot; class=&quot;label&quot;&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;110.296875&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;span class=&quot;nodeLabel&quot;&gt;Destination Job&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g transform=&quot;translate(1430.0078125, 59.5)&quot; id=&quot;flowchart-g-31&quot; class=&quot;node default default&quot;&gt;&lt;rect height=&quot;33&quot; width=&quot;164.390625&quot; y=&quot;-16.5&quot; x=&quot;-82.1953125&quot; ry=&quot;0&quot; rx=&quot;0&quot; class=&quot;basic label-container&quot;&gt;&lt;/rect&gt;&lt;g transform=&quot;translate(-74.6953125, -9)&quot; class=&quot;label&quot;&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;149.390625&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;span class=&quot;nodeLabel&quot;&gt;GCS (Temp Storage)&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g transform=&quot;translate(1430.0078125, 185)&quot; id=&quot;flowchart-b-32&quot; class=&quot;node default default&quot;&gt;&lt;rect height=&quot;33&quot; width=&quot;81.703125&quot; y=&quot;-16.5&quot; x=&quot;-40.8515625&quot; ry=&quot;0&quot; rx=&quot;0&quot; class=&quot;basic label-container&quot;&gt;&lt;/rect&gt;&lt;g transform=&quot;translate(-33.3515625, -9)&quot; class=&quot;label&quot;&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;66.703125&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;span class=&quot;nodeLabel&quot;&gt;BigQuery&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;/svg&gt;&lt;/div&gt;&lt;p&gt;데이터 흐름을 중심으로한 내용만 담았다.
별도의 설명 없이 다이어그램만으로도 충분히 이해가능하리라 본다.
더 자세하게 알아보고 싶다면, &lt;a href=&quot;https://gist.github.com/heumsi/e07c1e7ecef94eb888a281dace2806e2&quot;&gt;이 Sync 로그&lt;/a&gt;를 보자.
(나도 이 로그를 보고 위 다이어그램을 그렸다.)&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;Worker와 Job은 어떤 형태로 실행될까?&lt;/p&gt;&lt;ul&gt;&lt;li&gt;단일 컴퓨팅 환경, 즉 Docker-compose로 배포한 경우에는 Worker와 Job은 컨테이너로 뜬다. &lt;/li&gt;&lt;li&gt;분산 컴퓨팅 환경, 즉 Kubernetes에서 배포한 경우는 파드로 뜨게 된다. 쿠버네티스에서의 배포 아키텍처는 &lt;a href=&quot;https://airbyte.com/blog/scaling-data-pipelines-kubernetes&quot;&gt;이 페이지&lt;/a&gt;에 잘 설명되어 있다.&lt;/li&gt;&lt;/ul&gt;&lt;/blockquote&gt;&lt;h3 id=&quot;normalization-job&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#normalization-job&quot; aria-label=&quot;normalization job permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Normalization Job&lt;/h3&gt;&lt;p&gt;Normalization Job에서는 로드된 데이터를 가지고 Normalized 데이터를 만들기 위해 이런저런 쿼리를 Destination으로 보내게 된다.
그럼 구체적으로 어떤 쿼리를 보낼까?&lt;/p&gt;&lt;p&gt;보내는 쿼리는 Sync mode에 따라 조금씩 다른데, 어떤 쿼리를 보내는지 간단하게만 살펴보자.
위에서 진행했던 MySQL -&amp;gt; BigQuery Connection의 경우 Sync mode로 &lt;code class=&quot;language-text&quot;&gt;Source: Full refresh | Dest: Overwrite&lt;/code&gt;을 사용했었다.&lt;/p&gt;&lt;p&gt;BigQuery에 들어가 Query History를 살펴보면 다음과 같이 실행되었던 쿼리가 보인다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:29.72972972972973%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAvklEQVQY03VQia7DIAzj/79z0jatargK5aons6Wq9vSQLOIAxo5xzsJZgQ8Riy1wsWGMgeM45k703s/eFey11ub5IhtWsTDPRWB9gfd+opSCEAJijEgpYdu2P5wgzznPM/KcE0QE5r5m3F4VY/R5gb9RNOV8/k436vLqmv3r4nvzWBMWx4f1FNz3fda11sn/W78jYALzlAwJHaO3KaQOWdMhQWGCfQX571y/ggUv24DjM2CNx/oaT8UVGlmhkd/mudYIfmoR5AAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;32.png&quot; title=&quot;32.png&quot; src=&quot;/blog/static/14316a2e75cc12a389a0ef3c062a22d3/fcda8/32.png&quot; srcSet=&quot;/blog/static/14316a2e75cc12a389a0ef3c062a22d3/12f09/32.png 148w,/blog/static/14316a2e75cc12a389a0ef3c062a22d3/e4a3f/32.png 295w,/blog/static/14316a2e75cc12a389a0ef3c062a22d3/fcda8/32.png 590w,/blog/static/14316a2e75cc12a389a0ef3c062a22d3/efc66/32.png 885w,/blog/static/14316a2e75cc12a389a0ef3c062a22d3/c83ae/32.png 1180w,/blog/static/14316a2e75cc12a389a0ef3c062a22d3/f2331/32.png 1427w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;아래에서 위로의 방향이 시간순이다.&lt;/em&gt;&lt;/p&gt;&lt;p&gt;다음 순으로 실행되었다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Query&lt;/li&gt;&lt;li&gt;Copy&lt;/li&gt;&lt;li&gt;Load&lt;/li&gt;&lt;li&gt;Query&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;여기서 앞에 3개는 Destination Job에서 실행된 쿼리고, 뒤에 마지막 하나가 Normalization Job에서 실행된 쿼리다.
이 쿼리 내용을 살펴보면 다음과 같다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* {&amp;quot;app&amp;quot;: &amp;quot;dbt&amp;quot;, &amp;quot;dbt_version&amp;quot;: &amp;quot;1.0.0&amp;quot;, &amp;quot;profile_name&amp;quot;: &amp;quot;normalize&amp;quot;, &amp;quot;target_name&amp;quot;: &amp;quot;prod&amp;quot;, &amp;quot;node_id&amp;quot;: &amp;quot;model.airbyte_utils.table_one&amp;quot;} */&lt;/span&gt;


  &lt;span class=&quot;token keyword&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;replace&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;token identifier&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;heumsi-playground&lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;my_database&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token identifier&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;table_one&lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;partition&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;by&lt;/span&gt; timestamp_trunc&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;_airbyte_emitted_at&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;day&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  cluster &lt;span class=&quot;token keyword&quot;&gt;by&lt;/span&gt; _airbyte_emitted_at
  OPTIONS&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    
&lt;span class=&quot;token keyword&quot;&gt;with&lt;/span&gt; __dbt__cte__table_one_ab1 &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;-- SQL model to parse JSON blob stored in a single column and extract into separated field columns as described by the JSON Schema&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;-- depends_on: `heumsi-playground`.my_database._airbyte_raw_table_one&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;select&lt;/span&gt;
    json_extract_scalar&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;_airbyte_data&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;$[&amp;#x27;id&amp;#x27;]&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; id&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    json_extract_scalar&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;_airbyte_data&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;$[&amp;#x27;name&amp;#x27;]&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    json_extract_scalar&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;_airbyte_data&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;$[&amp;#x27;updated_at&amp;#x27;]&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; updated_at&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    _airbyte_ab_id&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    _airbyte_emitted_at&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;CURRENT_TIMESTAMP&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; _airbyte_normalized_at
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token identifier&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;heumsi-playground&lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;my_database&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_airbyte_raw_table_one &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; table_alias
&lt;span class=&quot;token comment&quot;&gt;-- table_one&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  __dbt__cte__table_one_ab2 &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;-- SQL model to cast each column to its adequate SQL type converted from the JSON schema type&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;-- depends_on: __dbt__cte__table_one_ab1&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;select&lt;/span&gt;
    cast&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;id &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; 
    int64
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; id&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    cast&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; 
    string
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    cast&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;nullif&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;updated_at&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; 
    &lt;span class=&quot;token keyword&quot;&gt;timestamp&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; updated_at&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    _airbyte_ab_id&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    _airbyte_emitted_at&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;CURRENT_TIMESTAMP&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; _airbyte_normalized_at
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; __dbt__cte__table_one_ab1
&lt;span class=&quot;token comment&quot;&gt;-- table_one&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  __dbt__cte__table_one_ab3 &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;-- SQL model to build a hash column based on the values of this record&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;-- depends_on: __dbt__cte__table_one_ab2&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;select&lt;/span&gt;
    to_hex&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;md5&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;cast&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;concat&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;coalesce&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;cast&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;id &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; 
    string
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;-&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;coalesce&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;cast&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; 
    string
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;-&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;coalesce&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;cast&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;updated_at &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; 
    string
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; 
    string
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; _airbyte_table_one_hashid&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    tmp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; __dbt__cte__table_one_ab2 tmp
&lt;span class=&quot;token comment&quot;&gt;-- table_one&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;-- Final base SQL model&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;-- depends_on: __dbt__cte__table_one_ab3&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;select&lt;/span&gt;
    id&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    updated_at&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    _airbyte_ab_id&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    _airbyte_emitted_at&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;CURRENT_TIMESTAMP&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; _airbyte_normalized_at&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    _airbyte_table_one_hashid
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; __dbt__cte__table_one_ab3
&lt;span class=&quot;token comment&quot;&gt;-- table_one from `heumsi-playground`.my_database._airbyte_raw_table_one&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;복잡해보이지만, 결국엔 RAW JSON이 로드되어있는 &lt;code class=&quot;language-text&quot;&gt;_airbyte_raw_table_one&lt;/code&gt; 테이블에서 JSON 데이터를 파싱해서 Normalization 한 뒤,
최종 테이블인 &lt;code class=&quot;language-text&quot;&gt;table_one&lt;/code&gt;에 저장하는 내용이다.&lt;/p&gt;&lt;p&gt;앞에서도 이야기 했지만, Sync mode에 따라 실행시키는 쿼리는 다양하다.
&lt;code class=&quot;language-text&quot;&gt;Source: Full refresh | Dest: Overwrite&lt;/code&gt; 의 경우 가장 단순한 Sync mode이므로, 쿼리 역시 간단하게 나오는 것이고,
CDC + &lt;code class=&quot;language-text&quot;&gt;Source: Incremental + Dest: Deduped + history&lt;/code&gt; 의 경우 꽤 복잡한 Sync mode이므로, 쿼리도 복잡하고 여러 개 나오게 된다.&lt;/p&gt;&lt;p&gt;여하튼 핵심은 Normalization Job에서 이런 쿼리들을 규칙에 맞게 만들고 실행함으로써 Normalized Data를 만들어낸다는 것이다.&lt;/p&gt;&lt;p&gt;Normalization Job에서 SQL을 만들어내고 실행하는 과정이 더 궁금하다면, 이 &lt;a href=&quot;https://airbyte.com/tutorials/full-data-synchronization#step-7&quot;&gt;페이지&lt;/a&gt;를 참고하자.&lt;/p&gt;&lt;h2 id=&quot;qna&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#qna&quot; aria-label=&quot;qna permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;QnA&lt;/h2&gt;&lt;p&gt;조금 더 궁금한 내용을 찾아보고 Q&amp;amp;A 형식으로 정리해보았다.&lt;/p&gt;&lt;h3 id=&quot;데이터-마스킹-기능은-있나&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%A7%88%EC%8A%A4%ED%82%B9-%EA%B8%B0%EB%8A%A5%EC%9D%80-%EC%9E%88%EB%82%98&quot; aria-label=&quot;데이터 마스킹 기능은 있나 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;데이터 마스킹 기능은 있나?&lt;/h3&gt;&lt;p&gt;Destination으로 그대로 가져오기 민감한 정보(개인 정보 등)들은 해시 처리와 같은 별도의 데이터 마스킹 작업이 필요할 수 있다.
Airbyte에서는 이에 대한 기능을 제공해줄까?&lt;/p&gt;&lt;p&gt;할 수는 있다.
단 웹 UI가 아니라 직접 YAML로 Low-code Connector를 구성하고 컨테이너 이미지로 빌드해야한다.
아이디어는 Source로부터 데이터를 추출(Extract)하고 Destination에 로드(Load)하기 전에 추출한 데이터에 커스텀하게 간단한 변형(Tweak)을 하는 것이다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:40.54054054054054%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAACaUlEQVQozx3FbUzMcQDA8b93xmZsDS2PPVGIsmEWbRgjYx7GxEx5UZmHkKc8jDSVh60l/Hs4dVfSuCi0yBxxt+sBp0KXuoeuq+tqJ111Ffn+bD5vPtL+g39HDhz7Iw5dHuPozd/sueohMnmAVVd+seKai7AbvSy9ZSY0qw3/vE5mqzrwKbHh98zG8nd2ImrshNS2M0X/Q4yr+z4i3S8YE5/qBa9e/hKaN240Gg81tYJDspPVqRYiMq2U1Q9QaxwlotjEfEUzsTVdKDu7kdss5Fs7uGu2igddTrY0W4R0+JSRlDS9SErWce6qlgtpOs6n69mUZmZZpouwew7uVrso/djHjOIOvNR2wtUNRBdWEaWqYreqkqiiSmKKKkXQCy3S5lg3By71EJ3aw77r3ezNcLAu3cbidCdLsnoJlrvxz2lnrtJM4us21pS3MDlXz0LlBzaU60mrrmOt9jPe7w1I2i9IOxJHScj6w9GcEeIVw8QVetiucBOa2UuI7CRI4cBX2ckctQONtp4jmq/MeNrIyuoWdtYaUX01svGbianfbEj1zUhbTnuIvz1EXPYgMXluYlT9RCpcLLrjJDjXQUBBJ3OKO/B53I5XuYXxFRbm6Vo53tLEydYGUswGzpgMnDAZCGhoQopMGhLx8hBx9weJUbo5+LCfSJWLILmbefld+BbZmfnIxvSnVqZVmJAqzSTU6BCt+cLTIIvhphwx2JgtRGsBZw1vhbT+4sDYrowBsUvuZ1tuH1tVPwnP7yEwrwu/QjuzSmx4l1rxem5m8ss2JlSbmPRER+A9NQsU5QTnlf0/UFaLiWXvxv4BqZfGaaPthxQAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;28.png&quot; title=&quot;28.png&quot; src=&quot;/blog/static/2e46f281fda893a3ee7194b92dd78d5d/fcda8/28.png&quot; srcSet=&quot;/blog/static/2e46f281fda893a3ee7194b92dd78d5d/12f09/28.png 148w,/blog/static/2e46f281fda893a3ee7194b92dd78d5d/e4a3f/28.png 295w,/blog/static/2e46f281fda893a3ee7194b92dd78d5d/fcda8/28.png 590w,/blog/static/2e46f281fda893a3ee7194b92dd78d5d/efc66/28.png 885w,/blog/static/2e46f281fda893a3ee7194b92dd78d5d/c83ae/28.png 1180w,/blog/static/2e46f281fda893a3ee7194b92dd78d5d/c1b63/28.png 1200w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;출처: &lt;a href=&quot;https://airbyte.com/blog/etlt-gdpr-compliance&quot;&gt;https://airbyte.com/blog/etlt-gdpr-compliance&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;&lt;p&gt;이에 대한 자세한 내용은 &lt;a href=&quot;https://airbyte.com/blog/etlt-gdpr-compliance&quot;&gt;이 페이지&lt;/a&gt;에서 확인할 수 있다.
아무래도 Airbyte의 &lt;a href=&quot;https://docs.airbyte.com/connector-development/config-based/connector-builder-ui&quot;&gt;Low-code Connector에 대한 개념&lt;/a&gt;을 알아야할거 같은데,
다른 기능들보다는 배우는데 허들이 좀 있어보인다.&lt;/p&gt;&lt;p&gt;만약 데이터 마스킹이 꼭 필요하다면, 당장은 Destination에서의 데이터 마스킹을 사용하는게 나을 수 있겠다(Destination에서 이 기능을 지원해준다면).
예를 들면 BigQuery의 경우 &lt;a href=&quot;https://cloud.google.com/bigquery/docs/column-data-masking-intro?hl=ko&quot;&gt;동적 데이터 마스킹 기능&lt;/a&gt;을 제공한다.&lt;/p&gt;&lt;h3 id=&quot;rbac는&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#rbac%EB%8A%94&quot; aria-label=&quot;rbac는 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;RBAC는?&lt;/h3&gt;&lt;p&gt;&lt;a href=&quot;https://airbytehq.github.io/operator-guides/security/#access-control&quot;&gt;(아직) 지원하지 않는다.&lt;/a&gt;
RBAC 또는 User Management를 구현하려면 Airbyte 앞단에 Proxy 서버를 두고 자체적으로 해결해야할 것으로 보인다.&lt;/p&gt;&lt;p&gt;Cloud 버전의 Airbyte에서는 RBAC는 아니지만 User Management를 지원하고 있고, &lt;a href=&quot;https://airbyte.gitbook.io/airbyte/project-overview/roadmap#3.-parity-with-enterprise-features-data-quality-privacy-compliance-customer-data-consolidation-featu&quot;&gt;SSO는 추후에 추가될 예정이라고 한다.&lt;/a&gt;&lt;/p&gt;&lt;h3 id=&quot;모니터링용-메트릭은-제공해주나&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81%EC%9A%A9-%EB%A9%94%ED%8A%B8%EB%A6%AD%EC%9D%80-%EC%A0%9C%EA%B3%B5%ED%95%B4%EC%A3%BC%EB%82%98&quot; aria-label=&quot;모니터링용 메트릭은 제공해주나 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;모니터링용 메트릭은 제공해주나?&lt;/h3&gt;&lt;p&gt;현재는 다음 두 모니터링 툴을 위한 메트릭을 제공해준다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://opentelemetry.io&quot;&gt;OpenTelemetry&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.datadoghq.com&quot;&gt;Datadog&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;a href=&quot;https://docs.airbyte.com/operator-guides/collecting-metrics/&quot;&gt;이 페이지&lt;/a&gt;에 사용 방법에 대해 다루고 있는데, OpenTelemetry를 사용하면 Prometheus에서 다음과 같은 Metric들을 볼 수 있다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:64.86486486486486%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABuElEQVQ4y6WSP2/TQBiHT6JOLHVkAKRIDPQTsDIyQlI7dQWF/vkIkAE6wReAbBRPkRiyIBF/iG6IgSkMJHHbgTQO2HdHsRvnvbsXnZ2gpEUiLT/p0Svr1T0/n3RkuXjFun7t6tuVWzdflUo36qZp1ovFYt3UmDn6e4phGHMUCgU9Xy8Zxpslo3CHWNW1dxubW/h4awfXHz5Cy3mAZdvBsuXk03awYju4Wl3PuL9axXsV+w9lq4oVew03t3ewXLF2ycHh0R77+Qsp46ch5RDyGE6SEbA4BR7nMx0DCCEBQJxjDAJOk2S0303x/b7/hLTbbTekDONkBGEUKYAxSilRzSCEyFBK4dkopZQQQoQnY/zc7tbIl6++G/xgyDmH4fC7iihFyhgyxnM4R0ophlGEcZxkYilVVjpB94gUBHY6nRr58HHofvqWlYEuxAWiDTPoMwKExG6vVyP944ErZLYAlQf/xdkra6FSEn0tDAYDd7JYWPi3P9TX72nh4JwQL5QFhBfPnDAIgr1JWaoXlyTVXt/3n5J+v9+YvrP/AQD0s3lGms3mXc/zXrZareee5+1eEn32RaPRuP0bcrZoVxPTMigAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;29.png&quot; title=&quot;29.png&quot; src=&quot;/blog/static/e8fac013f4e9bb94ea4ff9cf2f2649bc/fcda8/29.png&quot; srcSet=&quot;/blog/static/e8fac013f4e9bb94ea4ff9cf2f2649bc/12f09/29.png 148w,/blog/static/e8fac013f4e9bb94ea4ff9cf2f2649bc/e4a3f/29.png 295w,/blog/static/e8fac013f4e9bb94ea4ff9cf2f2649bc/fcda8/29.png 590w,/blog/static/e8fac013f4e9bb94ea4ff9cf2f2649bc/efc66/29.png 885w,/blog/static/e8fac013f4e9bb94ea4ff9cf2f2649bc/c83ae/29.png 1180w,/blog/static/e8fac013f4e9bb94ea4ff9cf2f2649bc/69d6b/29.png 1912w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;프로메테우스에서 확인한 메트릭&lt;/em&gt; &lt;/p&gt;&lt;p&gt;제공하는 전체 Metric은 &lt;a href=&quot;https://github.com/airbytehq/airbyte/blob/master/airbyte-metrics/metrics-lib/src/main/java/io/airbyte/metrics/lib/OssMetricsRegistry.java&quot;&gt;이 페이지&lt;/a&gt;에서 확인할 수 있다.&lt;/p&gt;&lt;h3 id=&quot;kubernetes-배포를-위한-helm-chart도-제공해주나&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#kubernetes-%EB%B0%B0%ED%8F%AC%EB%A5%BC-%EC%9C%84%ED%95%9C-helm-chart%EB%8F%84-%EC%A0%9C%EA%B3%B5%ED%95%B4%EC%A3%BC%EB%82%98&quot; aria-label=&quot;kubernetes 배포를 위한 helm chart도 제공해주나 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Kubernetes 배포를 위한 Helm Chart도 제공해주나?&lt;/h3&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/airbytehq/airbyte/tree/master/charts/airbyte&quot;&gt;공식 Repository&lt;/a&gt;에서 제공한다.&lt;/p&gt;&lt;p&gt;이와 관련해서는 &lt;a href=&quot;https://airbytehq.github.io/deploying-airbyte/on-kubernetes/#customizing-airbytes-manifests&quot;&gt;이 페이지&lt;/a&gt;를 참고하면 좋을거 같다.&lt;/p&gt;&lt;h3 id=&quot;워크플로우-오케스트레이션-툴과-연동할-수-있나&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%9B%8C%ED%81%AC%ED%94%8C%EB%A1%9C%EC%9A%B0-%EC%98%A4%EC%BC%80%EC%8A%A4%ED%8A%B8%EB%A0%88%EC%9D%B4%EC%85%98-%ED%88%B4%EA%B3%BC-%EC%97%B0%EB%8F%99%ED%95%A0-%EC%88%98-%EC%9E%88%EB%82%98&quot; aria-label=&quot;워크플로우 오케스트레이션 툴과 연동할 수 있나 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;워크플로우 오케스트레이션 툴과 연동할 수 있나?&lt;/h3&gt;&lt;p&gt;Airbyte에서도 Connection의 Sync 실행 주기 설정을 자체적으로도 제공해주지만, &lt;a href=&quot;https://airflow.apache.org/&quot;&gt;Airflow&lt;/a&gt;나 &lt;a href=&quot;https://www.prefect.io/&quot;&gt;Prefect&lt;/a&gt;, &lt;a href=&quot;https://dagster.io/&quot;&gt;Dagster&lt;/a&gt;와 같은 워크플로우 오케스트레이션 툴과도 연동할 수 있는 방법을 공식 문서에서 제공한다.
이와 관련해서는 각 툴마다 다음 페이지를 확인하자.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://airbytehq.github.io/operator-guides/using-the-airflow-airbyte-operator/&quot;&gt;Airflow&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://airbytehq.github.io/operator-guides/using-prefect-task&quot;&gt;Prefect&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://airbytehq.github.io/operator-guides/using-dagster-integration&quot;&gt;Dagster&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h3 id=&quot;중간에-스키마가-바뀌면-어떻게-되나&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%A4%91%EA%B0%84%EC%97%90-%EC%8A%A4%ED%82%A4%EB%A7%88%EA%B0%80-%EB%B0%94%EB%80%8C%EB%A9%B4-%EC%96%B4%EB%96%BB%EA%B2%8C-%EB%90%98%EB%82%98&quot; aria-label=&quot;중간에 스키마가 바뀌면 어떻게 되나 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;중간에 스키마가 바뀌면 어떻게 되나?&lt;/h3&gt;&lt;p&gt;직접 한번 해봤다.
위에서 작업했던 MySQL Source에 다음처럼 Column을 추가했다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;ALTER&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;TABLE&lt;/span&gt; table_one &lt;span class=&quot;token keyword&quot;&gt;ADD&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;COLUMN&lt;/span&gt; &lt;span class=&quot;token identifier&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;&lt;/span&gt; INIT &lt;span class=&quot;token operator&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;AFTER&lt;/span&gt; &lt;span class=&quot;token identifier&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;그리고 수동으로 Sync를 진행했다.
그러나 BigQuery Destination에 스키마 변경이 자동으로 반영되지 않았다.&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://discuss.airbyte.io/t/how-to-reflect-schema-changes-in-destination-for-postgres-to-postgres-cdc/1080&quot;&gt;이 페이지 내용&lt;/a&gt;에 따르면,
스키마 변경 후 Connection의 Replication 탭에서 &amp;quot;Refresh source schema&amp;quot; 버튼을 클릭해야 한다.
이 버튼을 클릭하면 다음처럼 스키마 변경을 잡아냈다는 결과를 화면에 보여준다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:57.432432432432435%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACFElEQVQoz22Ru24TQRSG/SqJZHypEIi0SCmpqJOCwiHBay/e+3puZ1dyCjvpQHEkmpDewsZCcoMU45KCJ4A3sKxIbhJ5tAed8YWAWenTzM755585/+SK+R3nydPHP/b3n9/s7T2blEqlLcrl8qRYLE3y+fwWhUKBGBceFb7v7uy+zL0+ql65ro9hGGLgB+g/wHU9dBwXLcvGk5Ma1mo2NhqOWfM8fwNpPc/DSuXIyzmOfyElIEBypxToPyRmBAAtRKoZB52mqVYqNTWAJav5vVJAh9VyruteCiGRMb4QQmZKKZRSIY2McYyiCAM/Rt8PTReEEALXOikV7dHkUa/bdi4Mw0sqxDFbKKUyAMAkSZAE3W4Xe71P2Ov1cDAYYL/fx+FwiOdn5yilNDoAoD2aDrDtt0tD+omi5oIxbm5IwjiOcTz+hv/7Pl5fY7PZxDRNjWGSJP8agmm52WQZ54LyNIaj0Qjn8zlOp1OczWZ4ezvDn7/m+O79B+ScbW5IWVOXxjAIAmMohFxwLrJljkaUtVqtrNM5yzqdTtZuE+3s9LSTAaTUSbaKyGS4MXQc94LyAoA7ISQV9EqghRA6imLNGNOMcc05N2tSylV9o78HIEObXtm7Indqk276EHogymY9X7aY/KWldSEAgwCwXm94uUql8sayajfVqvXZsqwv29Q2VKvWBqqtx+Nja3hwYH09PHz14jdQmP1R/bBMxwAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;33.png&quot; title=&quot;33.png&quot; src=&quot;/blog/static/dbe03c0f132f3f1c5b5ce201871fc371/fcda8/33.png&quot; srcSet=&quot;/blog/static/dbe03c0f132f3f1c5b5ce201871fc371/12f09/33.png 148w,/blog/static/dbe03c0f132f3f1c5b5ce201871fc371/e4a3f/33.png 295w,/blog/static/dbe03c0f132f3f1c5b5ce201871fc371/fcda8/33.png 590w,/blog/static/dbe03c0f132f3f1c5b5ce201871fc371/efc66/33.png 885w,/blog/static/dbe03c0f132f3f1c5b5ce201871fc371/c83ae/33.png 1180w,/blog/static/dbe03c0f132f3f1c5b5ce201871fc371/efb68/33.png 2032w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;그리고 &amp;quot;Save changes&amp;quot; 버튼을 클릭하면, 다음처럼 Data Reset을 진행하기 위한 컨펌 페이지가 등장한다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:57.432432432432435%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACDklEQVQoz22RS08TURTH56tAUvtYGY1sTViy8hPgojS0U0bm2bl37msiC1nQSElINxDkI2hMCi0ppksXbvUz+AiGEmLtzRxz7lBFyiS/3Jk5//O/52GVCgvuo8cPPy0vPz1fWnoyKpfLc1QqlVGpVB4VCoU5isUi8qH4oPhxcWHxmVVbaxx5XgBRFEEYhBDcwvN8cF0PbNuB9fUmNJsObG665p/vB39Bre/7UK2u+ZbrBvucS5BS/RJC6n8oc0opdcJSTROp0zTVQqQmJmXOzftECImXNS3P87qMcaA0mTLGMyEEcC4AT0oTiKIWhEEMQRBBGOYwxmCm41xgjkaPjQ3HsaIo6mIgjulUCJFJKUEpZZIODw/g9LQPvV4PBoOBYTgcQrvdNnHUSSkxR+MFjvMiN8SPVotMKU1MhSiM4xj6/SGMx7/hx/dLuLqawPX1BPA5Pn4DhBBI09QYKqXuGkrTMiE0SyjDeRrDk5OBMbm4+Anj8Ri+fb2EL58n0O0eAKXk/grDMDSGnHMzQ845CrDSbHv7Vba318k6HWQ329l5nW1t7WZp+jKT0ownmzN0XW8fB6pUvmUMzmCMaUKIppRqQqhOkkQLgQh9YzLTTnJDB7fsH+FSsE1cSI66dSrTWk5q+F+b6xiTWKFvVavVum03zxsN+22jYb+/i23n3Bebxet1+12tZp+trj5f+QPhsv6ftOGwhAAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;34.png&quot; title=&quot;34.png&quot; src=&quot;/blog/static/08569e6d26fb8c58d988684a3f5ca308/fcda8/34.png&quot; srcSet=&quot;/blog/static/08569e6d26fb8c58d988684a3f5ca308/12f09/34.png 148w,/blog/static/08569e6d26fb8c58d988684a3f5ca308/e4a3f/34.png 295w,/blog/static/08569e6d26fb8c58d988684a3f5ca308/fcda8/34.png 590w,/blog/static/08569e6d26fb8c58d988684a3f5ca308/efc66/34.png 885w,/blog/static/08569e6d26fb8c58d988684a3f5ca308/c83ae/34.png 1180w,/blog/static/08569e6d26fb8c58d988684a3f5ca308/efb68/34.png 2032w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&amp;quot;Save connection&amp;quot; 버튼을 누르고, Connection 페이지에 들어가서 확인해보면, 다음처럼 Reset이 진행중인 것을 볼 수 있다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:57.432432432432435%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABoElEQVQoz53Rz2oTURQG8HmkCJ3ExJUUu3Djn6cQSkD6LiXLPoPiMlIbSwOCIXSmkkwmmczEoomgpWbmnnvPmfvJJEomFhdm8eMuvsPHvec69917L/f3H/aeP3tyenDwqFOv10saq7PReNCpVusd13W37O25nVqtVnhXrdY+VCqVp875+ceTMIwRxwmm0xhRtBEEYwyHI/R6HrrdPvp9H4PBCEEQYjKZrkTR2jic4Ozs/ZETx1+PmQFrQSKQPN8QyUVTLhlZuV0aASBaQ5gh1pZmAV2Ek2h66CTJrJVlhCwjNoatMYwylTGUMiDSK1qbTa4ZhsWaZSaUfMHQ/9R05vN5yxjBzc2S01TdKWReK2bWtvOiMPvxU1R0vS78tli02Fp8v005S5VlFhTy3Jbkf9nKbJqRGACj8bjpLIpCybFMiUlpqzWjcOcm/2ZJaSFFCIajP09mkNJMZKxS+r8RGSn+YTAImk4cz47TlKCUJqW07Ej/Ljx0ZsnnE02mtPTdFGsKgvDIubjovvD9q1PP81953tWbHb2+vPTb7fbbx78AUyoGgbhxoBEAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;35.png&quot; title=&quot;35.png&quot; src=&quot;/blog/static/bb7f09a3815adde07bd2a50b6c39d895/fcda8/35.png&quot; srcSet=&quot;/blog/static/bb7f09a3815adde07bd2a50b6c39d895/12f09/35.png 148w,/blog/static/bb7f09a3815adde07bd2a50b6c39d895/e4a3f/35.png 295w,/blog/static/bb7f09a3815adde07bd2a50b6c39d895/fcda8/35.png 590w,/blog/static/bb7f09a3815adde07bd2a50b6c39d895/efc66/35.png 885w,/blog/static/bb7f09a3815adde07bd2a50b6c39d895/c83ae/35.png 1180w,/blog/static/bb7f09a3815adde07bd2a50b6c39d895/efb68/35.png 2032w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://gist.github.com/heumsi/9de90345a9d3523362f69f237bfd2092&quot;&gt;Reset 로그&lt;/a&gt;를 보면, Destination Job과 Normalization Job이 실행되고 있는 것을 알 수 있다.
Destination Job에서 Schema를 변경한 Avro 파일을 GCS에 업로드한 뒤, BigQuery에 이 GCS 파일을 밀어넣고 있고,
Normalization Job에서는 그 후속 작업을 (이전이랑 동일하게) 진행한다.&lt;/p&gt;&lt;p&gt;Reset 작업이 끝나면 Sync도 자동으로 다시 실행된다.
그리고 이제 BigQuery에 변경된 스키마로 보이게 된다.&lt;/p&gt;&lt;p&gt;이는 Column 추가뿐 아니라, 수정, 삭제에도 동일했다.
Sync mode가 &lt;code class=&quot;language-text&quot;&gt;Source: Full refresh | Dest: Overwrite&lt;/code&gt; 인 경우에만 가능한 것인지 모르겠다.
(나머지 mode에 대해서는 테스트 해보진 않았다.)&lt;/p&gt;&lt;p&gt;정리하면, 스키마 변경 후에는 Connection의 Replication 탭에서 &amp;quot;Refresh source schema&amp;quot; 을 한번 실행시켜야 하고,
이 때 Data reset과 Sync 작업이 일어나게 된다.&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;&amp;quot;Data reset&amp;quot;은 Destination에 있는 모든 데이터를 삭제한다.
즉 위에서 스키마 변경을 적용하는 작업은, 기존 데이터를 모두 날리고, 새로 데이터를 Sync하는 것과 동일하다.
만약 Destination에 이미 너무 많은 데이터가 있다거나, Source에 이전 데이터가 없다면, 이는 꽤 크리티컬한 문제일 수 있다.
&amp;quot;Data reset&amp;quot;에 대한 더 자세한 내용은 &lt;a href=&quot;https://docs.airbyte.com/operator-guides/reset&quot;&gt;이 페이지&lt;/a&gt;를 확인하자.&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;한편, 이와 관련하여 &amp;quot;Auto-detect Schema Changes&amp;quot; 와 관련된 이슈가 &lt;a href=&quot;https://github.com/airbytehq/airbyte/issues/12089&quot;&gt;Airbyte Roadmap으로 등록되어 있는 걸로 보아&lt;/a&gt;,
추후에 더 개선될 것으로 보인다.&lt;/p&gt;&lt;h3 id=&quot;로드할-데이터가-너무-크면-혹시-oom이-나나&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%A1%9C%EB%93%9C%ED%95%A0-%EB%8D%B0%EC%9D%B4%ED%84%B0%EA%B0%80-%EB%84%88%EB%AC%B4-%ED%81%AC%EB%A9%B4-%ED%98%B9%EC%8B%9C-oom%EC%9D%B4-%EB%82%98%EB%82%98&quot; aria-label=&quot;로드할 데이터가 너무 크면 혹시 oom이 나나 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;로드할 데이터가 너무 크면 혹시 OOM이 나나?&lt;/h3&gt;&lt;p&gt;Worker의 메모리보다 큰 데이터를 옮길 때, 혹시 OOM이 나지는 않을까?
Worker의 최대 메모리를 500Mi로 준 뒤, MySQL -&amp;gt; BigQuery로 약 1Gi의 데이터를 Sync 해보았다.&lt;/p&gt;&lt;p&gt;결과적으로 OOM이 나지 않았다.
Worker 로그를 보니 다음처럼 Source에서 데이터를 나눠서 옮기고 있었다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token number&quot;&gt;2023&lt;/span&gt;-01-08 07:43:25 &lt;span class=&quot;token builtin class-name&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; State report &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; stream AirbyteStreamNameNamespacePair&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;name&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;data_big&amp;#x27;&lt;/span&gt;, &lt;span class=&quot;token assign-left variable&quot;&gt;namespace&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;my_database&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; - original: null &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; null &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;count &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; -&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; latest: &lt;span class=&quot;token function&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;8706354&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;count &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token number&quot;&gt;2023&lt;/span&gt;-01-08 07:43:25 &lt;span class=&quot;token builtin class-name&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; State report &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; stream AirbyteStreamNameNamespacePair&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;name&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;data_big&amp;#x27;&lt;/span&gt;, &lt;span class=&quot;token assign-left variable&quot;&gt;namespace&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;my_database&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; - original: null &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; null &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;count &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; -&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; latest: &lt;span class=&quot;token function&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;8706355&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;count &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token number&quot;&gt;2023&lt;/span&gt;-01-08 07:43:25 &lt;span class=&quot;token builtin class-name&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; State report &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; stream AirbyteStreamNameNamespacePair&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;name&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;data_big&amp;#x27;&lt;/span&gt;, &lt;span class=&quot;token assign-left variable&quot;&gt;namespace&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;my_database&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; - original: null &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; null &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;count &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; -&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; latest: &lt;span class=&quot;token function&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;8706356&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;count &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.
&lt;span class=&quot;token number&quot;&gt;2023&lt;/span&gt;-01-08 07:50:04 &lt;span class=&quot;token builtin class-name&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; Closing database connection pool.
&lt;span class=&quot;token number&quot;&gt;2023&lt;/span&gt;-01-08 07:50:04 &lt;span class=&quot;token builtin class-name&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; HikariPool-1 - Shutdown initiated&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.
&lt;span class=&quot;token number&quot;&gt;2023&lt;/span&gt;-01-08 07:50:04 &lt;span class=&quot;token builtin class-name&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; HikariPool-1 - Shutdown completed.
&lt;span class=&quot;token number&quot;&gt;2023&lt;/span&gt;-01-08 07:50:04 &lt;span class=&quot;token builtin class-name&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; Closed database connection pool.
&lt;span class=&quot;token number&quot;&gt;2023&lt;/span&gt;-01-08 07:50:04 &lt;span class=&quot;token builtin class-name&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; Completed integration: io.airbyte.integrations.base.ssh.SshWrappedSource
&lt;span class=&quot;token number&quot;&gt;2023&lt;/span&gt;-01-08 07:50:04 &lt;span class=&quot;token builtin class-name&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; completed source: class io.airbyte.integrations.source.mysql.MySqlSource
&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.
&lt;span class=&quot;token number&quot;&gt;2023&lt;/span&gt;-01-08 07:50:04 destination &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; Airbyte message consumer: succeeded.
&lt;span class=&quot;token number&quot;&gt;2023&lt;/span&gt;-01-08 07:50:04 destination &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; executing on success close procedure.
&lt;span class=&quot;token number&quot;&gt;2023&lt;/span&gt;-01-08 07:50:04 destination &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; Flushing all &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; current buffers &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;95&lt;/span&gt; MB &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; total&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token number&quot;&gt;2023&lt;/span&gt;-01-08 07:50:04 destination &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; Flushing buffer of stream data_big &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;95&lt;/span&gt; MB&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token number&quot;&gt;2023&lt;/span&gt;-01-08 07:50:04 destination &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; Flushing buffer &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; stream data_big &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;95&lt;/span&gt; MB&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; to staging
&lt;span class=&quot;token number&quot;&gt;2023&lt;/span&gt;-01-08 07:50:04 destination &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; Finished writing data to 5f36b0ad-5f37-4ba8-803b-4e2d5575a2676478714332736492889.avro &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;95&lt;/span&gt; MB&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token number&quot;&gt;2023&lt;/span&gt;-01-08 07:50:04 destination &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; Uploading records to staging &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; stream data_big &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;dataset my_database&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;: staging/my_database_data_big/2023/01/08/07/7a948bc0-e408-4d95-a8cd-e0663754fe30/
&lt;span class=&quot;token number&quot;&gt;2023&lt;/span&gt;-01-08 07:50:05 destination &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; Initiated multipart upload to heumsi-playground-airbyte/staging/my_database_data_big/2023/01/08/07/7a948bc0-e408-4d95-a8cd-e0663754fe30/14.avro with full ID ABPnzm4Khnar5YKnSLvzBcnOEV2kQvxFO73UKQPtP5qVRGQypVQpOZZyVcnx4J3N5jLlFqGt
&lt;span class=&quot;token number&quot;&gt;2023&lt;/span&gt;-01-08 07:50:05 destination &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; Called close&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; on &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;MultipartOutputStream &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; parts &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; - &lt;span class=&quot;token number&quot;&gt;10000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token number&quot;&gt;2023&lt;/span&gt;-01-08 07:50:19 destination &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Manager uploading to heumsi-playground-airbyte/staging/my_database_data_big/2023/01/08/07/7a948bc0-e408-4d95-a8cd-e0663754fe30/14.avro with &lt;span class=&quot;token function&quot;&gt;id&lt;/span&gt; ABPnzm4Kh&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.N5jLlFqGt&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;: Finished uploading &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Part number &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; containing &lt;span class=&quot;token number&quot;&gt;10.01&lt;/span&gt; MB&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token number&quot;&gt;2023&lt;/span&gt;-01-08 07:50:30 destination &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Manager uploading to heumsi-playground-airbyte/staging/my_database_data_big/2023/01/08/07/7a948bc0-e408-4d95-a8cd-e0663754fe30/14.avro with &lt;span class=&quot;token function&quot;&gt;id&lt;/span&gt; ABPnzm4Kh&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.N5jLlFqGt&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;: Finished uploading &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Part number &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt; containing &lt;span class=&quot;token number&quot;&gt;5.37&lt;/span&gt; MB&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token number&quot;&gt;2023&lt;/span&gt;-01-08 07:50:36 destination &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Manager uploading to heumsi-playground-airbyte/staging/my_database_data_big/2023/01/08/07/7a948bc0-e408-4d95-a8cd-e0663754fe30/14.avro with &lt;span class=&quot;token function&quot;&gt;id&lt;/span&gt; ABPnzm4Kh&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.N5jLlFqGt&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;: Finished uploading &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Part number &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt; containing &lt;span class=&quot;token number&quot;&gt;10.01&lt;/span&gt; MB&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token number&quot;&gt;2023&lt;/span&gt;-01-08 07:50:38 destination &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Manager uploading to heumsi-playground-airbyte/staging/my_database_data_big/2023/01/08/07/7a948bc0-e408-4d95-a8cd-e0663754fe30/14.avro with &lt;span class=&quot;token function&quot;&gt;id&lt;/span&gt; ABPnzm4Kh&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.N5jLlFqGt&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;: Finished uploading &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Part number &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; containing &lt;span class=&quot;token number&quot;&gt;10.01&lt;/span&gt; MB&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;로드할 데이터를 중간 과정에서 들고있는 GCS를 보니, 다음처럼 200MB 단위로 데이터가 나뉘어 업로드 되어 있는 것을 확인할 수 있었다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:64.86486486486486%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACTElEQVQ4y51SzWoUQRCe08wieFQRchHyBF49+gK+ie5Bc9IXMOvJZC8RDATJZGdGszFPkQRyyC0hrgQ0O9N/0zPT89M9XVIdNmgIBGz46I/6+aq6qr379/wXDx89WF9efvJ+aenxaDAYjILAHwVBcCcGgysEvr8aBP5H3/efeeP1tc9RFMH+/nfY25tCnCQwnU4ddiYT2N4OYTsMIQx3YBJFgLHhJIY4+Qa7u1OI4q8Q7kSwtfUFRqsfVrwfF9ma6S1UVVX3fa8B4H/QAAD8+n350pv9vBhzIYFSqkmWWc4Z5LmAtmmgaRqo6xq6rnPQWoMx5h/0xti+740xGk5PT4deOr8cq6aHUnW6qjtbNxpkoaAoFXRdC0op7N4J930PtxxrrTXoOz8/H3rz+XzMOYcsI5oybhnjIEQOIs9BCOQCpJROEIEF/r6LorB5nhtCCBwfHw+9NE3HaZoBoUJrrS0mU0qdUJZlDsixKGPM+cqydF3neQ5pmlqllEH/0dHR0MuydEyZAJ5XOFyLc0MnihRF4W60YUcL2+LpaCeEWAAwyK8FCeXAROkE8RmYiNWxW+Row44WgrgMa60TpJS6pWDBw8PDK8GMMCDsWtAyxizn3AohHFdK2bIsHZdSWmOMXcRih7gUFDw4OHBLWZOyACGrVmtt6ro2UkpTFIUDcpxRVVWOl2Vp2rY1GIs2Qojpuq5t2xZOTk5eebPZ7NPiT+E/u+2v3bQt4m7i7Ozstbe5ufk8SZJ3cZy8SZJkBRHH8cpd/AYw9+3GxsbTPyneceqWSQ/kAAAAAElFTkSuQmCC&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;36.png&quot; title=&quot;36.png&quot; src=&quot;/blog/static/8d61ea191c1259115b269db6b97b35ba/fcda8/36.png&quot; srcSet=&quot;/blog/static/8d61ea191c1259115b269db6b97b35ba/12f09/36.png 148w,/blog/static/8d61ea191c1259115b269db6b97b35ba/e4a3f/36.png 295w,/blog/static/8d61ea191c1259115b269db6b97b35ba/fcda8/36.png 590w,/blog/static/8d61ea191c1259115b269db6b97b35ba/efc66/36.png 885w,/blog/static/8d61ea191c1259115b269db6b97b35ba/c83ae/36.png 1180w,/blog/static/8d61ea191c1259115b269db6b97b35ba/69d6b/36.png 1912w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;약 1Gi 데이터가 2.6Gi가 되어 저장되었다.
확실히 RAW JSON 형태(Avro 파일에 담긴)로 데이터를 가공하니, 데이터 사이즈가 커지는 거 같긴하다.&lt;/p&gt;&lt;h2 id=&quot;더-읽어보면-좋을거리&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%8D%94-%EC%9D%BD%EC%96%B4%EB%B3%B4%EB%A9%B4-%EC%A2%8B%EC%9D%84%EA%B1%B0%EB%A6%AC&quot; aria-label=&quot;더 읽어보면 좋을거리 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;더 읽어보면 좋을거리&lt;/h2&gt;&lt;p&gt;위 내용 외에도 나중에 추가로 더 읽어볼만한 글들은 링크로 남겨둔다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://airbyte.com/blog/building-airbytes-data-stack&quot;&gt;Series: Building Airbyte’s Data Stack&lt;/a&gt;&lt;ul&gt;&lt;li&gt;Airbyte와 DBT, &lt;a href=&quot;https://www.metabase.com/&quot;&gt;Metabase&lt;/a&gt;를 이용하여 각 데이터 계층 별로 어떻게 기술 스택을 쌓을 수 있는지 말해준다.&lt;/li&gt;&lt;li&gt;첫 번째 시리즈 글로 &lt;a href=&quot;https://airbyte.com/blog/airbyte-monitoring-with-dbt-and-metabase&quot;&gt;Airbyte Monitoring with dbt and Metabase - Part I&lt;/a&gt;이 최근에 올라왔는데, 시리즈 글이 계속해서 올라올거 같다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://app.harvestr.io/roadmap/view/pQU6gdCyc/launch-week-roadmap&quot;&gt;Airbyte Roadmap&lt;/a&gt;&lt;ul&gt;&lt;li&gt;Airbyte의 추후 개발 로드맵을 알 수 있다.&lt;ul&gt;&lt;li&gt;2022 4Q를 보면 다양한 Connector 개발에 힘을 주로 쏟고 있는 것을 알 수 있다.&lt;/li&gt;&lt;li&gt;또한 Connector extensiblity 항목에도 꽤 힘을 쏟고 있는데, Connector 만드는 방법이 좀 더 편해지지 않을까 싶다.&lt;/li&gt;&lt;li&gt;이 외에도 Column Selection, Auto-detect Schema Changes 등 데이터를 로드할 때 아주 유용한 기능들이 개발 중인 것을 알 수 있다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://airbyte.com/tutorials&quot;&gt;Tutorials&lt;/a&gt;&lt;ul&gt;&lt;li&gt;Airbyte에서의 다양한 ELT 파이프라인의 예제를 보여준다. &lt;/li&gt;&lt;li&gt;Setup부터 중간에 내부적으로 진행되는 과정, 최종 결과까지 스크린샷과 함께 모두 다 세세하게 알려주고 있다. 꽤 정성을 들인게 보인다.&lt;/li&gt;&lt;li&gt;나중에 내가 만들고자하는 파이프라인이 이 페이지에 이미 있는지 확인해보면 좋을거 같다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://airbyte.com/blog&quot;&gt;Airbyte Blog&lt;/a&gt;&lt;ul&gt;&lt;li&gt;Airbyte 공식 블로그인데, 데이터 팀 운영, 데이터 엔지니어링 등 괜찮은 글들이 많이 올라온다.&lt;/li&gt;&lt;li&gt;고객 컨설팅을 위한 글이 아니라, 본인들의 이야기(어떤 기술 스택을 쓰며 어떻게 성장하고 있는지 등)를 주로 올린다. &lt;/li&gt;&lt;li&gt;데이터 관련 SaaS 개발을 하는 사람들의 데이터 팀, 기술에 대한 인사이트를 볼 수 있어서 좋다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 id=&quot;후기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%ED%9B%84%EA%B8%B0&quot; aria-label=&quot;후기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;후기&lt;/h2&gt;&lt;p&gt;Airbyte는 대략 일년 전쯤에 알았던 거 같다.
당시 쏘카 데이터 엔지니어링 팀에서 일하고 있었는데, 팀에서는 프로덕트 데이터 스토리지에서 통합 데이터 스토리지로 옮겨오는 파이프라인을 Airflow에서 Operator를 활용하여 만들고 있었다.
Operator를 활용하여 자유롭게 컨트롤할 수 있는 것은 좋았지만, 세부 구현은 일일이 코드와 SQL로 해야했으므로 쉽지 않았다.
내가 만약 다른 회사의 초기 데이터 팀으로 입사하여 짧은 시간 내에 똑같은 일을 해야한다면, 과연 데이터 로드용 파이프라인을 잘 구현할 수 있을까에 대한 확신은 들지 않았다.&lt;/p&gt;&lt;p&gt;하고자 하는 것은 그저 서로 다른 데이터 스토리지간 데이터를 복제하는 것으로, 아주 명확한 목표를 가진다.
이는 통합 데이터 환경 구축을 위한 가장 기본적인 작업인데, 분명 이와 관련한 오픈소스가 있을 것이라 생각했고, 그러다 발견한게 Airbyte였다.
당시에 Airflow 컨퍼런스에도 Airbyte가 종종 보일정도로 핫했던거 같다.
그 때에도 보자마자 몇 번 실행은 해봤지만, 따로 정리하지는 않았었다. 아마 귀찮아서 였던거 같다.&lt;/p&gt;&lt;p&gt;이번에는 Airbyte를 좀 제대로 음미하고자, 공식 문서와 블로그 글을 하나하나 (거의) 다 읽어보았다.
주요 컨셉과 기능은 확실하고, 사용감도 매우 훌륭했다.
직관적이고 단순한 UI, 공식 블로그의 예제들만 보면 데아터 엔지니어링을 해본적이 없는 사람이더라도 누구나 쉽게 따라할 수 있을거 같다. &lt;/p&gt;&lt;p&gt;단 데이터 마스킹 기능이 없다는 것은 많이 아쉽다.
어느정도 규모가 있는 회사들에서는 데이터가 보안이나 컨플라이언스랑도 꽤 많이 엮여 있어서, 데이터 마스킹 없이 데이터 통합 데이터 스토리지를 만들기는 어려울 것이다.
따라서 어느정도 규모가 있는 회사들에서 Airbyte를 운영 환경에서 적극 도입하기는 어려울거라는 생각이 든다.
만약 도입한다면 Low-code Connector를 일일이 만들어야 하는데, 솔직히 이게 ROI가 잘 나오는 작업인지는 판단이 잘 안선다.&lt;/p&gt;&lt;p&gt;반면, 아직 초기 단계의 회사에서는 데이터 보안이나 컨플라이언스에 크게 신경쓸 단계가 아닐 수 있기 때문에, Airbyte를 이옹하면 통합 데이터 스토리지를 빠르게 구축할 수 있을 것 같다.
데이터 엔지니어나 분석가는 데이터 로드 작업의 대부분은 Airbyte에게 맡기고, 데이터 피라미드의 윗 단계(데이터 마트나 운영)에 좀 더 신경쓸 수 있을 것이다.&lt;/p&gt;&lt;p&gt;한편, Airbyte 블로그 글들을 보다보면 BigQuery, Snowflake와 같은 SaaS를 Destination 스토리지로 사용하는 것이 주로 나온다
(아무래도 Airbyte 팀 내부적으로 이런 SaaS를 많이 써서 그런거 같다.).
이런 클라우드 기반의 스토리지를 쓰는게 Airbyte랑 궁합이 잘 맞는거 같기한데, 솔직히 비용이 효율적인지는 모르겠다.&lt;/p&gt;&lt;p&gt;예를 들어, BigQuery를 Destionation으로 두고, &lt;code class=&quot;language-text&quot;&gt;Source: Incremental + Dest: Deduped + history&lt;/code&gt; 방식으로 Sync하게 되면,
중간 과정에서 2개의 테이블(Raw 테이블과 SCD 테이블)을 BigQuery에 쓰게 되고, 각 테이블에서 최종 데이터를 로드하기 위해 쿼리를 실행하게 된다.
여기서 스토리지와 쿼리 모두 돈이기 때문에, 대용량으로 데이터를 로드해야하는 경우 Airbyte를 쓰면 비용이 너무 비싸지지 않을까 싶다.
자세히 살펴보지는 않았지만, 비용 최적화 보다 속도가 더 중요한 상황에서는 Airbyte를 사용하기 적절하다는 생각이 든다.&lt;/p&gt;&lt;p&gt;여하튼 후기를 3줄 요약하면 글을 마무리한다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;데이터 엔지니어가 필요하지 않을 정도로 사용하기 쉽고, 빠르게 일반적인 방식으로 데이터 로딩(ELT)할 수 있다.&lt;/li&gt;&lt;li&gt;비용, 컴플라이언스 보단 속도가 더 중요할 때 (주로 사람이 적은 초기 단계 비즈니스 규모일 때) 적절하지 않을까 싶다.&lt;/li&gt;&lt;li&gt;공식 블로그에 레퍼런스가 많이 있고, 주로 여러 SaaS 연계하는 내용이 많으니, 필요할 때 참고하면 더 좋을거 같다.&lt;/li&gt;&lt;/ul&gt;&lt;h2 id=&quot;참고&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%B0%B8%EA%B3%A0&quot; aria-label=&quot;참고 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;참고&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://airbyte.com/blog/structure-a-data-team-to-climb-the-pyramid-of-data-science&quot;&gt;https://airbyte.com/blog/structure-a-data-team-to-climb-the-pyramid-of-data-science&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://airbyte.gitbook.io/airbyte/integrations/destinations/bigquery&quot;&gt;https://airbyte.gitbook.io/airbyte/integrations/destinations/bigquery&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://airbyte.com/blog/understanding-data-replication-modes&quot;&gt;https://airbyte.com/blog/understanding-data-replication-modes&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://airbyte.com/tutorials/full-data-synchronization&quot;&gt;https://airbyte.com/tutorials/full-data-synchronization&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://airbyte.com/tutorials/incremental-data-synchronization&quot;&gt;https://airbyte.com/tutorials/incremental-data-synchronization&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://airbyte.com/tutorials/incremental-change-data-capture-cdc-replication&quot;&gt;https://airbyte.com/tutorials/incremental-change-data-capture-cdc-replication&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://airbyte.com/blog/change-data-capture-definition-methods-and-benefits&quot;&gt;https://airbyte.com/blog/change-data-capture-definition-methods-and-benefits&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://airbytehq.github.io/understanding-airbyte/high-level-view/&quot;&gt;https://airbytehq.github.io/understanding-airbyte/high-level-view/&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://airbyte.com/blog/scaling-data-pipelines-kubernetes&quot;&gt;https://airbyte.com/blog/scaling-data-pipelines-kubernetes&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[[번역글] 파이썬 3.11에서의 새로운 기능들]]></title><description><![CDATA[이 글은  Real Python 홈페이지 에 올라온 글인  Python 3.11: Cool New Features for You to Try…]]></description><link>https://heumsi.github.io/blog/posts/python311-new-features/</link><guid isPermaLink="false">https://heumsi.github.io/blog/posts/python311-new-features/</guid><pubDate>Fri, 04 Nov 2022 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;이 글은 &lt;a href=&quot;https://realpython.com/&quot;&gt;Real Python 홈페이지&lt;/a&gt;에 올라온 글인 &lt;a href=&quot;https://realpython.com/python311-new-features/&quot;&gt;Python 3.11: Cool New Features for You to Try&lt;/a&gt;을 번역한 글로,
원글 작성자에게 허가를 받아 작성했습니다.&lt;/p&gt;&lt;p&gt;글 내용이 꽤 좋고, 저도 다시 번역하고 다듬으며 기억에 더 남기고 싶었네요.&lt;/p&gt;&lt;p&gt;원글은 꽤 긴데, 이 중 필요없겠다 싶은 부분은 과감히 덜어냈고, 추가로 설명하면 좋겠다할 부분은 직접 더 작성했습니다.
내용이 길더라도 하나도 빠짐없이 알아보고 싶으신 분은 원글을 읽어보시길 추천드립니다.&lt;/p&gt;&lt;hr/&gt;&lt;p&gt;파이썬 3.11이 2022년 10월 24일에 출시되었습니다.
이 글에서는 파이썬 3.11에서의 가장 멋지고 영향력 있는 새로운 기능을 살펴보려고 합니다.
구체적으로는 다음과 기능들에 대해 알아봅니다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;더 많은 정보를 제공하는 오류 메시지 (Informative tracebacks)&lt;/li&gt;&lt;li&gt;더 빠른 코드 실행 (Faster code execution)&lt;/li&gt;&lt;li&gt;비동기 코드 작업을 단순화하는 작업 및 예외 그룹 (Task and Exception groups)&lt;/li&gt;&lt;li&gt;파이썬의 정적 타이핑 지원을 개선하는 몇 가지 새로운 타이핑 기능 (Static typing support)&lt;/li&gt;&lt;li&gt;구성 파일 작업을 위한 기본 TOML 지원 (TOML Support)&lt;/li&gt;&lt;/ul&gt;&lt;h2 id=&quot;더-많은-정보를-제공하는-오류-메시지&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%8D%94-%EB%A7%8E%EC%9D%80-%EC%A0%95%EB%B3%B4%EB%A5%BC-%EC%A0%9C%EA%B3%B5%ED%95%98%EB%8A%94-%EC%98%A4%EB%A5%98-%EB%A9%94%EC%8B%9C%EC%A7%80&quot; aria-label=&quot;더 많은 정보를 제공하는 오류 메시지 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;더 많은 정보를 제공하는 오류 메시지&lt;/h2&gt;&lt;p&gt;파이썬 3.11에서는 오류 메시지의 Traceback에 장식적 주석(Decorative annotations)이 추가되었습니다.
이를 통해 오류 메시지를 보다 신속하게 해석할 수 있습니다.&lt;/p&gt;&lt;p&gt;예시를 살펴봅시다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# inverse.py&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;inverse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;number&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; number

&lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;inverse&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;위 코드는 1을 0으로 나누려고 하기 있기 때문에 에러를 발생시킵니다.&lt;/p&gt;&lt;p&gt;어떤 식으로 에러가 나오는지 확인해봅시다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;$ python inverse&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;py
Traceback &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;most recent call last&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  File &lt;span class=&quot;token string&quot;&gt;&amp;quot;/home/realpython/inverse.py&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; line &lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;module&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;inverse&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;          &lt;span class=&quot;token operator&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;^&lt;/span&gt;&lt;/span&gt;  File &lt;span class=&quot;token string&quot;&gt;&amp;quot;/home/realpython/inverse.py&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; line &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; inverse
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; number&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;           &lt;span class=&quot;token operator&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;~&lt;/span&gt;&lt;/span&gt;ZeroDivisionError&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; division by zero&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;^&lt;/code&gt; 와 &lt;code class=&quot;language-text&quot;&gt;~&lt;/code&gt; 기호가 Traceback에 포함되어 있습니다.
이 기호들은 에러가 코드 어디에서 발생했는지 알려줍니다.&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;&lt;strong&gt;* 역자가 추가하는 내용입니다&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;파이썬 3.10에서는 Traceback 에 &lt;code class=&quot;language-text&quot;&gt;^&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;~&lt;/code&gt; 기호가 포함되어 있지 않습니다.
아래는 같은 코드를 3.10에서 실행시켰을 때의 모습입니다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ python inverse.py
Traceback &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;most recent call last&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;:
  File &lt;span class=&quot;token string&quot;&gt;&amp;quot;/Users/user/Desktop/heumsi/repos/blog/content/posts/python311-new-features/inverse.py&amp;quot;&lt;/span&gt;, line &lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;module&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    print&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;inverse&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;))&lt;/span&gt;
  File &lt;span class=&quot;token string&quot;&gt;&amp;quot;/Users/user/Desktop/heumsi/repos/blog/content/posts/python311-new-features/inverse.py&amp;quot;&lt;/span&gt;, line &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; inverse
    &lt;span class=&quot;token builtin class-name&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; / number
ZeroDivisionError: division by zero&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;p&gt;예시를 하나 더 봅시다.&lt;/p&gt;&lt;p&gt;다음처럼 &lt;code class=&quot;language-text&quot;&gt;KeyError&lt;/code&gt; 예외가 발생하는 경우에도, 정확히 어디에서 예외가 발생했는지 장식적 주석을 통해 빠르게 알 수 있습니다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; programmers&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;name&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;first&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;Uncle Barry&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; Person.from_dict&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;programmers&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
Traceback &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;most recent call last&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;:
  File &lt;span class=&quot;token string&quot;&gt;&amp;quot;/home/realpython/programmers.py&amp;quot;&lt;/span&gt;, line &lt;span class=&quot;token number&quot;&gt;17&lt;/span&gt;, &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; from_dict
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token assign-left variable&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;f&lt;span class=&quot;token string&quot;&gt;&amp;quot;{info[&amp;#x27;name&amp;#x27;][&amp;#x27;first&amp;#x27;]} {info[&amp;#x27;name&amp;#x27;][&amp;#x27;last&amp;#x27;]}&amp;quot;&lt;/span&gt;,&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;                                    ~~~~~~~~~~~~^^^^^^^^&lt;/span&gt;KeyError: &lt;span class=&quot;token string&quot;&gt;&amp;#x27;last&amp;#x27;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&quot;더-빠른-코드-실행&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%8D%94-%EB%B9%A0%EB%A5%B8-%EC%BD%94%EB%93%9C-%EC%8B%A4%ED%96%89&quot; aria-label=&quot;더 빠른 코드 실행 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;더 빠른 코드 실행&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://docs.python.org/3.11/whatsnew/3.11.html#faster-cpython&quot;&gt;파이썬 3.11은 3.10보다 평균적으로 25% 빨라졌습니다.&lt;/a&gt;
어떻게 해서 더 빨라지게 했을까요?&lt;/p&gt;&lt;p&gt;주요 아이디어는 자주 수행되는 작업의 명령어를 최적화하여 실행 중인 코드의 속도를 높이는 것입니다.
&lt;a href=&quot;https://en.wikipedia.org/wiki/Just-in-time_compilation&quot;&gt;JIT(Just-In-Time)&lt;/a&gt;과 비슷하지만, 파이썬에서 바이트 코드는 즉석에서 조정되거나 변경됩니다.&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;파이썬 코드는 실행되기 전에 바이트 코드로 컴파일 됩니다.
바이트코드는 일반 파이썬 코드보다 더 기본적인 명령어로 구성되어 있습니다.&lt;/p&gt;&lt;p&gt;이 바이트 코드를 살펴보고 싶다면, 다음처럼 &lt;code class=&quot;language-text&quot;&gt;dis&lt;/code&gt; 모듈을 사용할 수 있습니다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; def feet_to_meters&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;feet&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;:
&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.     &lt;span class=&quot;token builtin class-name&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.3048&lt;/span&gt; * feet

&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;import&lt;/span&gt; dis
&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; dis.dis&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;feet_to_meters&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;           &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; RESUME                   &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;

  &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;           &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; LOAD_CONST               &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.3048&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
              &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt; LOAD_FAST                &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;feet&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
              &lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt; BINARY_OP                &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;*&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
             &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt; RETURN_VALUE&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;5개의 열은 행 번호, 바이트 주소, 작업 코드 이름, 작업 매개변수(매개변수 해석) 입니다.&lt;/p&gt;&lt;p&gt;일반적으로 Python을 작성하기 위해 바이트 코드에 대해 알 필요는 없습니다.
하지만 파이썬이 내부적으로 어떻게 작동하는지 이해하는 데 도움이 될 수 있습니다.&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;파이썬 3.11에서는 바이트코드를 생성할 때 단축(quickening)이라는 단계가 새로 추가 되었습니다.
이 단계에서 런타임동안 최적화될 수 있는 명령은 적응형(adaptive) 명령으로 대체됩니다.
이것은 8번의 동일한 명령 호출 후에 발생합니다.&lt;/p&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;dis&lt;/code&gt; 모듈을 통해 직접 살펴봅시다.
다음처럼 &lt;code class=&quot;language-text&quot;&gt;feet_to_meters()&lt;/code&gt; 함수를 7번 호출합니다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; def feet_to_meters&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;feet&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;:
&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.     &lt;span class=&quot;token builtin class-name&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.3048&lt;/span&gt; * feet
&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.

&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; feet_to_meters&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1.1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token number&quot;&gt;0.33528&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; feet_to_meters&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2.2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token number&quot;&gt;0.67056&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; feet_to_meters&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3.3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token number&quot;&gt;1.00584&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; feet_to_meters&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4.4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token number&quot;&gt;1.34112&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; feet_to_meters&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5.5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token number&quot;&gt;1.6764000000000001&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; feet_to_meters&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;6.6&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token number&quot;&gt;2.01168&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; feet_to_meters&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;7.7&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token number&quot;&gt;2.34696&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;feet_to_meters()&lt;/code&gt; 함수의 바이트코드를 살펴봅시다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; dis
&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; dis&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dis&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;feet_to_meters&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; adaptive&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;           &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; RESUME                   &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;

  &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;           &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; LOAD_CONST               &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.3048&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
              &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt; LOAD_FAST                &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;feet&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
              &lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt; BINARY_OP                &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
             &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt; RETURN_VALUE&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;이 바이트코드는 &lt;code class=&quot;language-text&quot;&gt;feet_to_meters&lt;/code&gt; 함수를 8번째 호출할 때 달라집니다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; feet_to_meters&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8.8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token number&quot;&gt;2.68224&lt;/span&gt;

&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; dis.dis&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;feet_to_meters, &lt;span class=&quot;token assign-left variable&quot;&gt;adaptive&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;True&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;           &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; RESUME_QUICK                 &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;           &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; LOAD_CONST__LOAD_FAST        &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.3048&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;              &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt; LOAD_FAST                    &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;feet&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;              &lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt; BINARY_OP_MULTIPLY_FLOAT     &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;*&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;             &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt; RETURN_VALUE&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;원래 명령어 중 일부가 특화된 명령어로 대체되었습니다.
예를 들어, &lt;code class=&quot;language-text&quot;&gt;BINARY_OP&lt;/code&gt; 명령어는 두 &lt;code class=&quot;language-text&quot;&gt;float&lt;/code&gt; 값끼리 곱하는 것에 특화된 &lt;code class=&quot;language-text&quot;&gt;BINARY_OP_MULTIPLY_FLOAT&lt;/code&gt; 명령으로 대체되었습니다.&lt;/p&gt;&lt;p&gt;만약 &lt;code class=&quot;language-text&quot;&gt;feet_to_meters()&lt;/code&gt; 함수의 파라미터 값으로 &lt;code class=&quot;language-text&quot;&gt;float&lt;/code&gt; 타입이 아닌 다른 유형의 타입이 들어오면, 원래의 바이트코드 명령어로 다시 원복됩니다.
이를 확인해봅시다.&lt;/p&gt;&lt;p&gt;이번엔 함수를 52번 더 호출하되, 이제 파라미터로 정수 타입 값을 넘깁니다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token for-or-select variable&quot;&gt;feet&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; range&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;52&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;:
&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.     feet_to_meters&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;feet&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.

&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; dis.dis&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;feet_to_meters, &lt;span class=&quot;token assign-left variable&quot;&gt;adaptive&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;True&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;           &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; RESUME_QUICK                 &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;

  &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;           &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; LOAD_CONST__LOAD_FAST        &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.3048&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
              &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt; LOAD_FAST                    &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;feet&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;              &lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt; BINARY_OP_MULTIPLY_FLOAT     &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;*&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;             &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt; RETURN_VALUE&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;여전히 &lt;code class=&quot;language-text&quot;&gt;feet_to_meters()&lt;/code&gt; 함수가 &lt;code class=&quot;language-text&quot;&gt;float&lt;/code&gt; 타입 값끼리 곱할 수 있는 것에 최적화 되어 있습니다.
정수로 한 번 더 호출하면 &lt;code class=&quot;language-text&quot;&gt;feet_to_meters()&lt;/code&gt; 는 특화되지 않은 적응형(adaptive) 명령어로 변환됩니다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; feet_to_meters&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;52&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token number&quot;&gt;15.8496&lt;/span&gt;

&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; dis.dis&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;feet_to_meters, &lt;span class=&quot;token assign-left variable&quot;&gt;adaptive&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;True&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;           &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; RESUME_QUICK              &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;

  &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;           &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; LOAD_CONST__LOAD_FAST     &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.3048&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
              &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt; LOAD_FAST                 &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;feet&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;              &lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt; BINARY_OP_ADAPTIVE        &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;*&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;             &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt; RETURN_VALUE&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;이 경우 &lt;code class=&quot;language-text&quot;&gt;BINARY_OP_MULTIPLY_INT&lt;/code&gt; 가 아니라 &lt;code class=&quot;language-text&quot;&gt;BINARY_OP_ADAPTIVE&lt;/code&gt; 로 변한 이유는, &lt;code class=&quot;language-text&quot;&gt;feet_to_meters()&lt;/code&gt; 함수 내부에 이미 float 값(&lt;code class=&quot;language-text&quot;&gt;0.3048&lt;/code&gt;)이 곱해지기 때문입니다.
&lt;code class=&quot;language-text&quot;&gt;int&lt;/code&gt; 타입과 &lt;code class=&quot;language-text&quot;&gt;float&lt;/code&gt; 타입 값끼리 곱의 최적화는 꽤 어려워서, 현재로서 존재하는 특화된 명령어는 없습니다.&lt;/p&gt;&lt;p&gt;파이썬 3.11에서는 이런 방식으로 기존 코드를 최적화하고 있으며, 이는 &lt;a href=&quot;https://docs.python.org/3.12/whatsnew/3.12.html&quot;&gt;파이썬 3.12&lt;/a&gt;에서도 지속될 예정입니다.&lt;/p&gt;&lt;h2 id=&quot;작업-그룹-code-classlanguage-texttaskgroupcode&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%9E%91%EC%97%85-%EA%B7%B8%EB%A3%B9-code-classlanguage-texttaskgroupcode&quot; aria-label=&quot;작업 그룹 code classlanguage texttaskgroupcode permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;작업 그룹 (&lt;code class=&quot;language-text&quot;&gt;TaskGroup&lt;/code&gt;)&lt;/h2&gt;&lt;p&gt;파이썬 3.11에서는 비동기 작업을 실행하고 모니터링하기 위한 더 깨끗한 &lt;code class=&quot;language-text&quot;&gt;TaskGroup&lt;/code&gt; 구문을 사용할 수 있습니다.&lt;/p&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;asyncio&lt;/code&gt; 모듈로 여러 비동기 작업을 실행하는 전통적인 방법은 &lt;code class=&quot;language-text&quot;&gt;create_task()&lt;/code&gt; 함수로 작업(Task)을 만든 뒤 &lt;code class=&quot;language-text&quot;&gt; gather()&lt;/code&gt; 함수로 이 작업을 기다리는 것이었습니다.
예를 들면 다음과 같습니다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;tasks &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;asyncio&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;create_task&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;run_some_task&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;param&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; param &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; params&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; asyncio&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;gather&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;tasks&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;파이썬 3.11에서는 &lt;code class=&quot;language-text&quot;&gt;TaskGroup&lt;/code&gt; 구문을 이용하여 다음처럼 더 간단하게 작성할 수 있습니다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;with&lt;/span&gt; asyncio&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;TaskGroup&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; tg&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; param &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; params&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        tg&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;create_task&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;run_some_task&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;param&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;TaskGroup&lt;/code&gt; 구문을 사용하는 좀 더 실용적인 예제를 살펴봅시다.
PEP 문서로 부터 여러 파일을 다운로드해야 한다고 합시다.
코드는 다음과 같이 작성할 수 있습니다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; asyncio
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; aiohttp

&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;download_peps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;session&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; peps&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;with&lt;/span&gt; asyncio&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;TaskGroup&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; tg&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;        &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; pep &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; peps&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;            tg&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;create_task&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;download_pep&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;session&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; pep&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;
PEP_URL &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;https://raw.githubusercontent.com/python/peps/master/pep-{pep:04d}.txt&amp;quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;peps&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;with&lt;/span&gt; aiohttp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ClientSession&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; session&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; download_peps&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;session&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; peps&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;여러 비동기 작업으로 작업할 때 한 가지 문제는, 여러 개의 작업이 언제든지 오류를 일으킬 수 있다는 것입니다.
파이썬 3.11에는 여러 동시 오류를 추적하도록 설계된 &lt;code class=&quot;language-text&quot;&gt;ExceptionGroup&lt;/code&gt; 이 도입되었는데, 이에 대해서는 뒤에서 더 알아보겠습니다.&lt;/p&gt;&lt;h2 id=&quot;개선된-type-variable&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EA%B0%9C%EC%84%A0%EB%90%9C-type-variable&quot; aria-label=&quot;개선된 type variable permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;개선된 Type Variable&lt;/h2&gt;&lt;p&gt;Python은 동적으로 Type이 지정된 언어이지만, Type Hinting을 통해 정적 유형을 선택적으로 지정할 수 있습니다.&lt;/p&gt;&lt;p&gt;파이썬 3.11에서는 Type과 관련된 5개의 PEP가 있었습니다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://peps.python.org/pep-0646&quot;&gt;PEP 646&lt;/a&gt;: Variadic generics&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://peps.python.org/pep-0655&quot;&gt;PEP 655&lt;/a&gt;: Marking individual TypedDict items as required or potentially missing&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://peps.python.org/pep-0673&quot;&gt;PEP 673&lt;/a&gt;: Self type&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://peps.python.org/pep-0675&quot;&gt;PEP 675&lt;/a&gt;: Arbitrary literal string type&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://peps.python.org/pep-0681&quot;&gt;PEP 681&lt;/a&gt;: Data class transforms&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;여기서는 다음 두 개에 대해서 좀 더 집중적으로 다룹니다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Self type&lt;/li&gt;&lt;li&gt;Variadic generics&lt;/li&gt;&lt;/ul&gt;&lt;h3 id=&quot;self-type&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#self-type&quot; aria-label=&quot;self type permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Self type&lt;/h3&gt;&lt;p&gt;Type 변수는 처음부터 Python의 정적 유형 지정 시스템의 일부였습니다.
다음처럼 &lt;code class=&quot;language-text&quot;&gt;TypeVar&lt;/code&gt; 를 사용하여 제네릭 타입을 매개변수화할 수 있습니다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; typing &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Sequence&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; TypeVar

T &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; TypeVar&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;T&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;first&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sequence&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Sequence&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;T&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; T&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; sequence&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;또한 다음처럼 &lt;code class=&quot;language-text&quot;&gt;bound&lt;/code&gt; 파라미터를 사용하여 특정 클래스와 서브 클래스를 지정할 수 있습니다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; dataclasses &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; dataclass
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; typing &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Any&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Type&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; TypeVar&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;TPerson &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; TypeVar&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;TPerson&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; bound&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;Person&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token decorator annotation punctuation&quot;&gt;@dataclass&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Person&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;str&lt;/span&gt;
    life_span&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;tuple&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

    &lt;span class=&quot;token decorator annotation punctuation&quot;&gt;@classmethod&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;from_dict&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;cls&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Type&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;TPerson&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; info&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;dict&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Any&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; TPerson&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;/span&gt;        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; cls&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
            name&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string-interpolation&quot;&gt;&lt;span class=&quot;token string&quot;&gt;f&amp;quot;&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;info&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;name&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;first&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;info&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;name&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;last&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            life_span&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;info&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;birth&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;year&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; info&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;death&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;year&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;그러나 이는 가독성이 좋아보이지는 않습니다.&lt;/p&gt;&lt;p&gt;파이썬 3.11에서는 일부 상황에서 다음처럼 &lt;code class=&quot;language-text&quot;&gt;TypeVar&lt;/code&gt; 대신 &lt;code class=&quot;language-text&quot;&gt;Self&lt;/code&gt; 를 사용할 수 있습니다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; typing &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Any&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Self&lt;/span&gt;
&lt;span class=&quot;token decorator annotation punctuation&quot;&gt;@dataclass&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Person&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;str&lt;/span&gt;
    life_span&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;tuple&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

    &lt;span class=&quot;token decorator annotation punctuation&quot;&gt;@classmethod&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;from_dict&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;cls&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; info&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;dict&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Any&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; Self&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;/span&gt;        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; cls&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
            name&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string-interpolation&quot;&gt;&lt;span class=&quot;token string&quot;&gt;f&amp;quot;&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;info&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;name&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;first&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;info&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;name&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;last&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            life_span&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;info&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;birth&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;year&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; info&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;death&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;year&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;이제 클래스에서 자신을 가르키는 경우, &lt;code class=&quot;language-text&quot;&gt;TypeVar&lt;/code&gt; 로 Type 변수를 별도로 만들어서 쓰지 않아도 됩니다.&lt;/p&gt;&lt;h3 id=&quot;variadic-generics&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#variadic-generics&quot; aria-label=&quot;variadic generics permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Variadic generics&lt;/h3&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;TypeVar&lt;/code&gt; 의 한 가지 제한 사항은 한 번에 한 Type만 사용할 수 있다는 것입니다.&lt;/p&gt;&lt;p&gt;예를 들어, 요소가 2개인 튜플의 순서를 뒤집는 함수가 다음처럼 있다고 해봅시다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; typing &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; TypeVar

&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;T0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; TypeVar&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;T0&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;T1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; TypeVar&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;T1&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;flip&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;pair&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;tuple&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;T0&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; T1&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;tuple&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;T1&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; T0&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;/span&gt;    first&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; second &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; pair
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;second&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; first&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;쓰기가 좀 번거롭긴 하지만 그래도 아직까진 괜찮습니다.
하지만 다음과 같이 튜플 내에 여러 개의 아이템을 가지는 변수가 담겨있을 때 문제가 발생합니다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;cycle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;elements&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    first&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;rest &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; elements
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;rest&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; first&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;rest&lt;/code&gt; 가 몇 개의 아이템을 가지고 있는지 알 수 없어서, 이를 Type 변수로 표현하기가 어렵습니다.
만약 n개의 아이템을 가지고 있다고 한다면, n 개의 &lt;code class=&quot;language-text&quot;&gt;TypeVar&lt;/code&gt; 변수를 정의해야하는데, 이 또한 번거롭습니다.&lt;/p&gt;&lt;p&gt;파이썬 3.11에서는 이 문제를 해결하기 위해 &lt;code class=&quot;language-text&quot;&gt;TypeVarTuple&lt;/code&gt; 가 도입되었습니다.
다음처럼 &lt;code class=&quot;language-text&quot;&gt;TypeVarTuple&lt;/code&gt; 를 통해 임의의 수의 &lt;code class=&quot;language-text&quot;&gt;TypeVar&lt;/code&gt; 를 대신할 수 있습니다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; typing &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; TypeVar&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; TypeVarTuple&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;T0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; TypeVar&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;T0&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;Ts &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; TypeVarTuple&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;Ts&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;cycle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;elements&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;tuple&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;T0&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;Ts&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;tuple&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;Ts&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; T0&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;/span&gt;    first&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;rest &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; elements
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;rest&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; first&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;TypeVarTuple&lt;/code&gt; 를 쓰는 경우 앞에 &lt;code class=&quot;language-text&quot;&gt;*&lt;/code&gt; 는 필수로 들어가야합니다.
이 의미는 일반적으로 많이 쓰이는 &lt;code class=&quot;language-text&quot;&gt;*args&lt;/code&gt; 처럼, unpack 문법을 떠올리면 쉽습니다.&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;파이썬 3.10 에서도 &lt;a href=&quot;https://pypi.org/project/typing-extensions&quot;&gt;typing_extensions&lt;/a&gt; 라이브러리를 설치한 뒤, 다음처럼 위 두 기능을 포함한 Typing 모듈의 새 기능들을 사용할 수 있습니다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; typing_extensions &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; TypeVar&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; TypeVarTuple&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Unpack&lt;/span&gt;
T0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; TypeVar&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;T0&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
Ts &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; TypeVarTuple&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;Ts&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;cycle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;elements&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;tuple&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;T0&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Unpack&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Ts&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;tuple&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Unpack&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Ts&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; T0&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;/span&gt;    first&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;rest &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; elements
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;rest&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; first&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;단, &lt;code class=&quot;language-text&quot;&gt;*Ts&lt;/code&gt; 문법은 3.11에서만 가능합니다.
이전 버전에서는 &lt;code class=&quot;language-text&quot;&gt;Unpack[Ts]&lt;/code&gt; 와 같이 사용해야 합니다.&lt;/p&gt;&lt;/blockquote&gt;&lt;h2 id=&quot;구성-파일-작업을-위한-기본-toml-지원&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EA%B5%AC%EC%84%B1-%ED%8C%8C%EC%9D%BC-%EC%9E%91%EC%97%85%EC%9D%84-%EC%9C%84%ED%95%9C-%EA%B8%B0%EB%B3%B8-toml-%EC%A7%80%EC%9B%90&quot; aria-label=&quot;구성 파일 작업을 위한 기본 toml 지원 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;구성 파일 작업을 위한 기본 TOML 지원&lt;/h2&gt;&lt;p&gt;TOML은 Tom&amp;#x27;s Obvious Minimal Language의 줄임말로, 지난 10년 동안 인기를 얻은 Configuration 파일 형식입니다.
파이썬 커뮤니티 역시 패키지 및 프로젝트에 대한 메타데이터를 지정할 때, TOML을 사용했습니다.&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;만약 TOML이 낯설다면, &lt;a href=&quot;https://realpython.com/python311-new-features/#improved-type-variables&quot;&gt;파이썬 및 TOML: New Best Friends&lt;/a&gt;에서 자세히 배우실 수 있습니다.&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;TOML은 다양한 도구에서 수년 동안 사용되어 왔지만, Python에는 내장된 TOML 지원이 없었습니다.
이제 파이썬 3.11에서는 &lt;a href=&quot;https://docs.python.org/3.11/library/tomllib.html&quot;&gt;tomllib&lt;/a&gt;이 표준 라이브러리 추가되었습니다.
이제 이 패키지를 통해 TOML 파일을 구문 분석할 수 있습니다.&lt;/p&gt;&lt;p&gt;예를 들어 다음과 같은 TOML 파일이 있다고 합시다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;toml&quot;&gt;&lt;pre class=&quot;language-toml&quot;&gt;&lt;code class=&quot;language-toml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# units.toml&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token table class-name&quot;&gt;second&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token key property&quot;&gt;label&lt;/span&gt;   &lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token key property&quot;&gt;singular&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;second&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token key property&quot;&gt;plural&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;seconds&amp;quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token key property&quot;&gt;aliases&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;s&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;sec&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;seconds&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token table class-name&quot;&gt;minute&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token key property&quot;&gt;label&lt;/span&gt;      &lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token key property&quot;&gt;singular&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;minute&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token key property&quot;&gt;plural&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;minutes&amp;quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token key property&quot;&gt;aliases&lt;/span&gt;    &lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;min&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;minutes&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token key property&quot;&gt;multiplier&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;60&lt;/span&gt;
&lt;span class=&quot;token key property&quot;&gt;to_unit&lt;/span&gt;    &lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;second&amp;quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;이 파일은 다음과 같이 &lt;code class=&quot;language-text&quot;&gt;tomllib.load()&lt;/code&gt; 함수를 통해 읽어올 수 있습니다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; tomllib&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;units.toml&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; mode&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;rb&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;     units &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; tomllib&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;load&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; units
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;second&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;label&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;singular&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;second&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;plural&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;seconds&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;또는 다음처럼 &lt;code class=&quot;language-text&quot;&gt;tomllib.loads()&lt;/code&gt; 함수를 통해 읽어올 수도 있습니다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; tomllib&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; pathlib
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; units &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; tomllib&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;loads&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;     pathlib&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Path&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;units.toml&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;read_text&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;encoding&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;utf-8&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; units
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;second&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;label&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;singular&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;second&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;plural&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;seconds&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;&lt;p&gt;tomllib은 &lt;a href=&quot;https://pypi.org/project/tomli/&quot;&gt;tomli&lt;/a&gt; 라이브러리를 기반으로 하고 있기 때문에, 파이썬 3.11 이전 버전에서는 tomli 라이브러리를 설치하여 위 기능들을 사용할 수 있습니다.
추후 버전 업데이트를 고려하여 다음과 같이 작성하면 될 것입니다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; tomllib
&lt;span class=&quot;token keyword&quot;&gt;except&lt;/span&gt; ModuleNotFoundError&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; tomli &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; tomllib&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;h2 id=&quot;기타-멋진-기능들&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EA%B8%B0%ED%83%80-%EB%A9%8B%EC%A7%84-%EA%B8%B0%EB%8A%A5%EB%93%A4&quot; aria-label=&quot;기타 멋진 기능들 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;기타 멋진 기능들&lt;/h2&gt;&lt;p&gt;지금까지 파이썬 3.11의 가장 큰 변경 사항과 개선 사항에 대해 배웠습니다.
그러나 탐색할 기능이 더 많이 있습니다.
이 섹션에서는 헤드라인 아래에 숨어 있을 수 있는 몇 가지 새로운 기능을 살펴보겠습니다.&lt;/p&gt;&lt;h3 id=&quot;더-빠른-시작-시간&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%8D%94-%EB%B9%A0%EB%A5%B8-%EC%8B%9C%EC%9E%91-%EC%8B%9C%EA%B0%84&quot; aria-label=&quot;더 빠른 시작 시간 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;더 빠른 시작 시간&lt;/h3&gt;&lt;p&gt;파이썬 스크립트를 실행할 때 인터프리터가 초기화될 때 몇 가지 일이 발생합니다.
이로 인해 가장 간단한 프로그램도 실행하는 데 몇 밀리초가 걸립니다.&lt;/p&gt;&lt;p&gt;파이썬 3.11은 모듈을 가져오는 작업 속도의 개선으로, 이전보다 더 빠르게 프로그램을 실행합니다.&lt;/p&gt;&lt;p&gt;얼마나 개선되었는지 확인하기 위해, 구체적인 예시를 하나 살펴봅시다.
다음과 같은 프로그램이 있다고 합시다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# snakesay.py&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; sys

message &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot; &amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;join&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sys&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;argv&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
bubble_length &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;message&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token string-interpolation&quot;&gt;&lt;span class=&quot;token string&quot;&gt;rf&amp;quot;&amp;quot;&amp;quot;
       &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;_&amp;quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; bubble_length&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
      ( &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;message&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; )
       &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;‾&amp;quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; bubble_length&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
        \
         \    __
          \  [oo]
             (__)\
               λ \\
                 _\\__
                (_____)_
               (________)Oo°&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;이 프로그램을 파이썬 인터프리터로 실행할 때, 다음처럼 &lt;code class=&quot;language-text&quot;&gt;-X importtime&lt;/code&gt; 옵션을 주어 모듈을 가져오는데 소요되는 시간을 측정할 수 있습니다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ python -X importtime -S snakesay.py Imports are faster&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;import&lt;/span&gt; time: self &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;us&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; cumulative &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; imported package
&lt;span class=&quot;token function&quot;&gt;import&lt;/span&gt; time:       &lt;span class=&quot;token number&quot;&gt;283&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;        &lt;span class=&quot;token number&quot;&gt;283&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;   _io
&lt;span class=&quot;token function&quot;&gt;import&lt;/span&gt; time:        &lt;span class=&quot;token number&quot;&gt;56&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;         &lt;span class=&quot;token number&quot;&gt;56&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;   marshal
&lt;span class=&quot;token function&quot;&gt;import&lt;/span&gt; time:       &lt;span class=&quot;token number&quot;&gt;647&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;        &lt;span class=&quot;token number&quot;&gt;647&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;   posix
&lt;span class=&quot;token function&quot;&gt;import&lt;/span&gt; time:       &lt;span class=&quot;token number&quot;&gt;587&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;       &lt;span class=&quot;token number&quot;&gt;1573&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; _frozen_importlib_external
&lt;span class=&quot;token function&quot;&gt;import&lt;/span&gt; time:       &lt;span class=&quot;token number&quot;&gt;167&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;        &lt;span class=&quot;token number&quot;&gt;167&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;   &lt;span class=&quot;token function&quot;&gt;time&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;import&lt;/span&gt; time:       &lt;span class=&quot;token number&quot;&gt;191&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;        &lt;span class=&quot;token number&quot;&gt;358&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; zipimport
&lt;span class=&quot;token function&quot;&gt;import&lt;/span&gt; time:        &lt;span class=&quot;token number&quot;&gt;90&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;         &lt;span class=&quot;token number&quot;&gt;90&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;     _codecs
&lt;span class=&quot;token function&quot;&gt;import&lt;/span&gt; time:       &lt;span class=&quot;token number&quot;&gt;561&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;        &lt;span class=&quot;token number&quot;&gt;651&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;   codecs
&lt;span class=&quot;token function&quot;&gt;import&lt;/span&gt; time:       &lt;span class=&quot;token number&quot;&gt;825&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;        &lt;span class=&quot;token number&quot;&gt;825&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;   encodings.aliases
&lt;span class=&quot;token function&quot;&gt;import&lt;/span&gt; time:      &lt;span class=&quot;token number&quot;&gt;1136&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;       &lt;span class=&quot;token number&quot;&gt;2611&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; encodings
&lt;span class=&quot;token function&quot;&gt;import&lt;/span&gt; time:       &lt;span class=&quot;token number&quot;&gt;417&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;        &lt;span class=&quot;token number&quot;&gt;417&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; encodings.utf_8
&lt;span class=&quot;token function&quot;&gt;import&lt;/span&gt; time:       &lt;span class=&quot;token number&quot;&gt;174&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;        &lt;span class=&quot;token number&quot;&gt;174&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; _signal
&lt;span class=&quot;token function&quot;&gt;import&lt;/span&gt; time:        &lt;span class=&quot;token number&quot;&gt;56&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;         &lt;span class=&quot;token number&quot;&gt;56&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;     _abc
&lt;span class=&quot;token function&quot;&gt;import&lt;/span&gt; time:       &lt;span class=&quot;token number&quot;&gt;251&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;        &lt;span class=&quot;token number&quot;&gt;306&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;   abc
&lt;span class=&quot;token function&quot;&gt;import&lt;/span&gt; time:       &lt;span class=&quot;token number&quot;&gt;310&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;        &lt;span class=&quot;token number&quot;&gt;616&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; io
       _____________________
      &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; Imports are faster&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
       ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾
        &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
         &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;    __
          &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;  &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;oo&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
             &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
               λ &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
                 _&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;__
                &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;_____&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;_
               &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;________&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;Oo°&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;표의 숫자는 마이크로초 단위로 측정된 값입니다.&lt;/p&gt;&lt;p&gt;위에서 모듈을 가져오는데 걸리는 시간을 파이썬 3.10과 비교하면 다음과 같습니다.&lt;/p&gt;&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;모듈&lt;/th&gt;&lt;th&gt;파이썬 3.11&lt;/th&gt;&lt;th&gt;파이썬 3.10&lt;/th&gt;&lt;th&gt;빨라진 속도&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;_frozen_importlib_external&lt;/code&gt;&lt;/td&gt;&lt;td&gt;1573&lt;/td&gt;&lt;td&gt;2255&lt;/td&gt;&lt;td&gt;1.43배&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;zipimport&lt;/code&gt;&lt;/td&gt;&lt;td&gt;358&lt;/td&gt;&lt;td&gt;558&lt;/td&gt;&lt;td&gt;1.56배&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;encodings&lt;/code&gt;&lt;/td&gt;&lt;td&gt;2611&lt;/td&gt;&lt;td&gt;3009&lt;/td&gt;&lt;td&gt;1.15배&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;encodings.utf_8&lt;/code&gt;&lt;/td&gt;&lt;td&gt;417&lt;/td&gt;&lt;td&gt;409&lt;/td&gt;&lt;td&gt;0.98배&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;_signal&lt;/code&gt;&lt;/td&gt;&lt;td&gt;174&lt;/td&gt;&lt;td&gt;173&lt;/td&gt;&lt;td&gt;0.99배&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;io&lt;/code&gt;&lt;/td&gt;&lt;td&gt;616&lt;/td&gt;&lt;td&gt;1216&lt;/td&gt;&lt;td&gt;1.97배&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;총&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;&lt;strong&gt;5749&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;&lt;strong&gt;7620&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;&lt;strong&gt;1.33배&lt;/strong&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;속도가 향상된 한 가지 큰 이유는 &amp;quot;캐시된&amp;quot; 바이트 코드가 저장되고 읽는 방법이 바뀌었기 때문입니다.&lt;/p&gt;&lt;p&gt;파이썬 인터프리터는 모듈을 실행할 때 소스 코드를 바이트 코드로 먼저 컴파일합니다.
파이썬 3.10에서 파이썬 모듈 실행 과정은 다음과 같았습니다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Read __pycache__ -&amp;gt; Unmarshal -&amp;gt; Heap allocated code object -&amp;gt; Evaluate&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;파이썬 3.11에서 파이썬 시작에 필수적인 핵심 모듈은 &amp;quot;고정&amp;quot;되었습니다.
이는 코드 개체(및 바이트 코드)가 인터프리터에 의해 정적으로 할당됨을 의미합니다.
이렇게 하면 모듈 실행 프로세스의 단계가 다음과 같이 줄어듭니다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Statically allocated code object -&amp;gt; Evaluate&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;이제 파이썬 3.11에서 인터프리터 시작이 10-15% 빨라졌습니다.
이 결과는 단기 실행 프로그램에 큰 영향을 미칩니다.&lt;/p&gt;&lt;h3 id=&quot;비용-없는-예외&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%B9%84%EC%9A%A9-%EC%97%86%EB%8A%94-%EC%98%88%EC%99%B8&quot; aria-label=&quot;비용 없는 예외 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;비용 없는 예외&lt;/h3&gt;&lt;p&gt;파이썬 3.11에서 예외 객체와 예외 핸들링 명령어들은 가벼워졌고,
&lt;code class=&quot;language-text&quot;&gt;try ... except&lt;/code&gt; 블럭에서 &lt;code class=&quot;language-text&quot;&gt;except&lt;/code&gt; 문이 실행되지 않는 한 작은 오버헤드만 존재합니다.&lt;/p&gt;&lt;p&gt;예를 들어, 다음과 같은 예외 처리가 포함된 프로그램이 있다고 해봅시다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;inverse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;number&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;     &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;         &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; number
&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;     &lt;span class=&quot;token keyword&quot;&gt;except&lt;/span&gt; ZeroDivisionError&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;         &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;0 has no inverse&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;inverse()&lt;/code&gt; 함수를 &lt;code class=&quot;language-text&quot;&gt;dis&lt;/code&gt; 모듈을 통해 내부 명령어를 확인해보면 다음과 같습니다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; dis
&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; dis&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dis&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;inverse&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;           &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; RESUME                   &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;

&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;           &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; NOP&lt;/span&gt;
  &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;           &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt; LOAD_CONST               &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
              &lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt; LOAD_FAST                &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;number&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
              &lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt; BINARY_OP               &lt;span class=&quot;token number&quot;&gt;11&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
             &lt;span class=&quot;token number&quot;&gt;12&lt;/span&gt; RETURN_VALUE
        &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;   &lt;span class=&quot;token number&quot;&gt;14&lt;/span&gt; PUSH_EXC_INFO

  &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;          &lt;span class=&quot;token number&quot;&gt;16&lt;/span&gt; LOAD_GLOBAL              &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ZeroDivisionError&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
             &lt;span class=&quot;token number&quot;&gt;28&lt;/span&gt; CHECK_EXC_MATCH
             &lt;span class=&quot;token number&quot;&gt;30&lt;/span&gt; POP_JUMP_FORWARD_IF_FALSE    &lt;span class=&quot;token number&quot;&gt;19&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;to &lt;span class=&quot;token number&quot;&gt;70&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
             &lt;span class=&quot;token number&quot;&gt;32&lt;/span&gt; POP_TOP

  &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;          &lt;span class=&quot;token number&quot;&gt;34&lt;/span&gt; LOAD_GLOBAL              &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;NULL &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
             &lt;span class=&quot;token number&quot;&gt;46&lt;/span&gt; LOAD_CONST               &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;0 has no inverse&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
             &lt;span class=&quot;token number&quot;&gt;48&lt;/span&gt; PRECALL                  &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
             &lt;span class=&quot;token number&quot;&gt;52&lt;/span&gt; CALL                     &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
             &lt;span class=&quot;token number&quot;&gt;62&lt;/span&gt; POP_TOP
             &lt;span class=&quot;token number&quot;&gt;64&lt;/span&gt; POP_EXCEPT
             &lt;span class=&quot;token number&quot;&gt;66&lt;/span&gt; LOAD_CONST               &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
             &lt;span class=&quot;token number&quot;&gt;68&lt;/span&gt; RETURN_VALUE

  &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;     &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;   &lt;span class=&quot;token number&quot;&gt;70&lt;/span&gt; RERAISE                  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;   &lt;span class=&quot;token number&quot;&gt;72&lt;/span&gt; COPY                     &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;
             &lt;span class=&quot;token number&quot;&gt;74&lt;/span&gt; POP_EXCEPT
             &lt;span class=&quot;token number&quot;&gt;76&lt;/span&gt; RERAISE                  &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;ExceptionTable&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt; to &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;14&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  &lt;span class=&quot;token number&quot;&gt;14&lt;/span&gt; to &lt;span class=&quot;token number&quot;&gt;62&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;72&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; lasti&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  &lt;span class=&quot;token number&quot;&gt;70&lt;/span&gt; to &lt;span class=&quot;token number&quot;&gt;70&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;72&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; lasti&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;주목할 점은 &lt;code class=&quot;language-text&quot;&gt;inverse&lt;/code&gt; 함수 2번째 줄의 &lt;code class=&quot;language-text&quot;&gt;try&lt;/code&gt; 가 &lt;a href=&quot;https://docs.python.org/3/library/dis.html#opcode-NOP&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;NOP&lt;/code&gt;&lt;/a&gt; 명령어로 바뀌었다는 것입니다.
이 명령어는 아무것도 수행하지 않습니다.&lt;/p&gt;&lt;p&gt;한편 맨 마지막에는 &lt;code class=&quot;language-text&quot;&gt;ExceptionTable&lt;/code&gt; 이 별도로 존재합니다.
이 테이블은 예외 발생 시 어느 코드 라인로 인터프리터를 점프해야하는지에 대한 정보를 담고있습니다.&lt;/p&gt;&lt;p&gt;이는 파이썬 3.10 및 이전 버전에서의 예외 처리와 차이가 있습니다.
예를 들어, &lt;code class=&quot;language-text&quot;&gt;try&lt;/code&gt; 는 기존에는 &lt;a href=&quot;https://docs.python.org/3.10/library/dis.html#opcode-SETUP_FINALLY&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;SETUP_FINALLY&lt;/code&gt;&lt;/a&gt; 명령어로 되어있었고,
이 명령어는 첫번째 예외 블럭에 대한 포인터를 포함했습니다.
이를 별도로 &lt;code class=&quot;language-text&quot;&gt;ExceptionTable&lt;/code&gt; 로 대체한 것은 예외가 일어나지 않을 때, &lt;code class=&quot;language-text&quot;&gt;try&lt;/code&gt; 문을 좀 더 가볍게 만듭니다.&lt;/p&gt;&lt;p&gt;이와 같은 비용 없는 예외는 일반적으로 &lt;code class=&quot;language-text&quot;&gt;try ... catch&lt;/code&gt; 문을 많이 사용하는 &lt;a href=&quot;https://realpython.com/python-lbyl-vs-eafp/&quot;&gt;EAFP(Easier-to-Ask-Forgiveness-than-Permission) 스타일&lt;/a&gt;과 잘 맞습니다.&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;&lt;strong&gt;* 역자가 추가하는 내용입니다&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;파이썬 3.10에서 똑같이 &lt;code class=&quot;language-text&quot;&gt;dis&lt;/code&gt; 로 &lt;code class=&quot;language-text&quot;&gt;inverse&lt;/code&gt; 함수를 확인해보면 다음과 같습니다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; dis&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dis&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;inverse&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;   &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;           &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; SETUP_FINALLY            &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;to &lt;span class=&quot;token number&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;   &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;           &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; LOAD_CONST               &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;               &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt; LOAD_FAST                &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;number&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;               &lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt; BINARY_TRUE_DIVIDE
&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;               &lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt; POP_BLOCK
&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;              &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt; RETURN_VALUE
&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;   &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;     &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;   &lt;span class=&quot;token number&quot;&gt;12&lt;/span&gt; DUP_TOP
&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;              &lt;span class=&quot;token number&quot;&gt;14&lt;/span&gt; LOAD_GLOBAL              &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ZeroDivisionError&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;              &lt;span class=&quot;token number&quot;&gt;16&lt;/span&gt; JUMP_IF_NOT_EXC_MATCH    &lt;span class=&quot;token number&quot;&gt;19&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;to &lt;span class=&quot;token number&quot;&gt;38&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;              &lt;span class=&quot;token number&quot;&gt;18&lt;/span&gt; POP_TOP
&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;              &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt; POP_TOP
&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;              &lt;span class=&quot;token number&quot;&gt;22&lt;/span&gt; POP_TOP
&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;   &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;          &lt;span class=&quot;token number&quot;&gt;24&lt;/span&gt; LOAD_GLOBAL              &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;              &lt;span class=&quot;token number&quot;&gt;26&lt;/span&gt; LOAD_CONST               &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;error&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;              &lt;span class=&quot;token number&quot;&gt;28&lt;/span&gt; CALL_FUNCTION            &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;              &lt;span class=&quot;token number&quot;&gt;30&lt;/span&gt; POP_TOP
&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;              &lt;span class=&quot;token number&quot;&gt;32&lt;/span&gt; POP_EXCEPT
&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;              &lt;span class=&quot;token number&quot;&gt;34&lt;/span&gt; LOAD_CONST               &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;              &lt;span class=&quot;token number&quot;&gt;36&lt;/span&gt; RETURN_VALUE
&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;   &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;     &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;   &lt;span class=&quot;token number&quot;&gt;38&lt;/span&gt; RERAISE                  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;try&lt;/code&gt; 문은 &lt;code class=&quot;language-text&quot;&gt;NOP&lt;/code&gt; 이 아닌 &lt;code class=&quot;language-text&quot;&gt;SETUP_FINALLY&lt;/code&gt; 명령어로 되어있고, &lt;code class=&quot;language-text&quot;&gt;ExceptionTable&lt;/code&gt; 도 없습니다.&lt;/p&gt;&lt;/blockquote&gt;&lt;h3 id=&quot;예외-그룹-code-classlanguage-textexceptiongroupcode&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%98%88%EC%99%B8-%EA%B7%B8%EB%A3%B9-code-classlanguage-textexceptiongroupcode&quot; aria-label=&quot;예외 그룹 code classlanguage textexceptiongroupcode permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;예외 그룹 (&lt;code class=&quot;language-text&quot;&gt;ExceptionGroup&lt;/code&gt;)&lt;/h3&gt;&lt;p&gt;우리는 위에서 &lt;code class=&quot;language-text&quot;&gt;TaskGroup&lt;/code&gt; 을 배웠습니다.
이 때 &lt;code class=&quot;language-text&quot;&gt;ExceptionGroup&lt;/code&gt; 으로 한 번에 여러 오류를 처리할 수 있다고 언급했습니다.&lt;/p&gt;&lt;p&gt;이제 &lt;code class=&quot;language-text&quot;&gt;ExceptionGroup&lt;/code&gt; 에 대해서 알아봅시다.
&lt;code class=&quot;language-text&quot;&gt;ExceptionGroup&lt;/code&gt; 은 다른 여러 예외를 하나로 래핑해줍니다.
예를 들면 다음처럼 &lt;code class=&quot;language-text&quot;&gt;ExceptionGroup&lt;/code&gt; 을 만들 수 있습니다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; ExceptionGroup&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;twice&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;TypeError&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;int&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ValueError&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;654&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ExceptionGroup&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;twice&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;TypeError&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;int&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ValueError&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;654&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;quot;twice&amp;quot;&lt;/code&gt; 라고 하는 &lt;code class=&quot;language-text&quot;&gt;ExceptionGroup&lt;/code&gt; 은 &lt;code class=&quot;language-text&quot;&gt;TypeError&lt;/code&gt; 과 &lt;code class=&quot;language-text&quot;&gt;ValueError&lt;/code&gt; 을 래핑합니다.&lt;/p&gt;&lt;p&gt;이 &lt;code class=&quot;language-text&quot;&gt;ExceptionGroup&lt;/code&gt; 을 &lt;code class=&quot;language-text&quot;&gt;raise&lt;/code&gt; 하면 다음과 같은 결과가 나옵니다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;raise&lt;/span&gt; ExceptionGroup&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;twice&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;TypeError&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;int&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ValueError&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;654&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; Exception Group Traceback &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;most recent call last&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;   File &lt;span class=&quot;token string&quot;&gt;&amp;quot;&amp;lt;stdin&amp;gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; line &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;module&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; ExceptionGroup&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; twice &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; sub&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;exceptions&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; TypeError&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;int&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; ValueError&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;654&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;이 오류 메시지는 두 개의 하위 예외 &lt;code class=&quot;language-text&quot;&gt;TypeError&lt;/code&gt; 과 &lt;code class=&quot;language-text&quot;&gt;ValueError&lt;/code&gt; 도 출력해줍니다.&lt;/p&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;ExceptionGroup&lt;/code&gt; 으로 두 예외를 래핑했지만, 다시 개별로 처리하고 싶은 경우 다음처럼 &lt;code class=&quot;language-text&quot;&gt;except*&lt;/code&gt; 문을 활용하면 됩니다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;     &lt;span class=&quot;token keyword&quot;&gt;raise&lt;/span&gt; ExceptionGroup&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;twice&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;TypeError&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;int&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ValueError&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;654&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;except&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; ValueError &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; err&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;     &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-interpolation&quot;&gt;&lt;span class=&quot;token string&quot;&gt;f&amp;quot;handling ValueError: &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exceptions&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;except&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; TypeError &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; err&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;     &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-interpolation&quot;&gt;&lt;span class=&quot;token string&quot;&gt;f&amp;quot;handling TypeError: &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exceptions&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;
handling ValueError&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ValueError&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;654&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
handling TypeError&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;TypeError&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;int&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;위처럼 일반 &lt;code class=&quot;language-text&quot;&gt;except&lt;/code&gt; 문과 달리 여러 &lt;code class=&quot;language-text&quot;&gt;except*&lt;/code&gt; 문이 실행될 수 있습니다.&lt;/p&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;except*&lt;/code&gt; 문으로 별도로 핸들링하지 않으면 다음처럼 핸들링하지 않은 예외만 오류 메시지에 출력됩니다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;     &lt;span class=&quot;token keyword&quot;&gt;raise&lt;/span&gt; ExceptionGroup&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;twice&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;TypeError&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;int&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ValueError&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;654&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;except&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; ValueError &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; err&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;     &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-interpolation&quot;&gt;&lt;span class=&quot;token string&quot;&gt;f&amp;quot;handling ValueError: &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exceptions&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;
handling ValueError&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ValueError&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;654&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; Exception Group Traceback &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;most recent call last&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;   File &lt;span class=&quot;token string&quot;&gt;&amp;quot;&amp;lt;stdin&amp;gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; line &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;module&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; ExceptionGroup&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; twice &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; sub&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;exception&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; TypeError&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;int&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;ExceptionGroup&lt;/code&gt; 와 &lt;code class=&quot;language-text&quot;&gt;except*&lt;/code&gt; 구문은 일반적인 예외 객체 및 &lt;code class=&quot;language-text&quot;&gt;except&lt;/code&gt; 문을 대체하지는 않습니다.
사실, &lt;code class=&quot;language-text&quot;&gt;ExceptionGroup&lt;/code&gt; 을 직접 만드는 사용 사례는 많지 않을 것입니다.
다만 &lt;code class=&quot;language-text&quot;&gt;ExceptionGroup&lt;/code&gt; 은 asyncio와 같은 라이브러리에서 주로 사용될 것입니다.&lt;/p&gt;&lt;h3 id=&quot;예외에-메모-추가&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%98%88%EC%99%B8%EC%97%90-%EB%A9%94%EB%AA%A8-%EC%B6%94%EA%B0%80&quot; aria-label=&quot;예외에 메모 추가 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;예외에 메모 추가&lt;/h3&gt;&lt;p&gt;예외 객체에 다음처럼 &lt;code class=&quot;language-text&quot;&gt;.add_note()&lt;/code&gt; 메서드를 통해 메모를 추가하고, &lt;code class=&quot;language-text&quot;&gt;__notes__&lt;/code&gt; 속성을 통해 확인할 수 있습니다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; err &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ValueError&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;678&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; err&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;add_note&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;Enriching Exceptions with Notes&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; err&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;add_note&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;파이썬 3.11&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; err&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;__notes__&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;Enriching Exceptions with Notes&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;파이썬 3.11&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;raise&lt;/span&gt; err
Traceback &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;most recent call last&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;
ValueError&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;678&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;Enriching Exceptions &lt;span class=&quot;token keyword&quot;&gt;with&lt;/span&gt; Notes&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;파이썬 &lt;span class=&quot;token number&quot;&gt;3.11&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;오류가 발생하면 관련 메모가 트레이스백 하단에 출력됩니다.&lt;/p&gt;&lt;p&gt;다음 예제는 &lt;code class=&quot;language-text&quot;&gt;except&lt;/code&gt; 블록에서 예외에 메모를 추가합니다.
오류 메시지를 프로그램의 실행 중인 로그와 비교해야 하는 경우에 유용할 수 있습니다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# timestamped_errors.py&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; datetime &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; datetime

&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    inverse&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;inverse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;number&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; number

&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; __name__ &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;__main__&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        main&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;except&lt;/span&gt; Exception &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; err&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;        err&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;add_note&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-interpolation&quot;&gt;&lt;span class=&quot;token string&quot;&gt;f&amp;quot;Raised at &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;datetime&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;now&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;        &lt;span class=&quot;token keyword&quot;&gt;raise&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ python timestamped_errors.py
Traceback &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;most recent call last&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;:
  &lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.
ZeroDivisionError: division by zero
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;Raised at &lt;span class=&quot;token number&quot;&gt;2022&lt;/span&gt;-10-24 &lt;span class=&quot;token number&quot;&gt;12&lt;/span&gt;:18:13.913838&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;&lt;p&gt;동일한 패턴을 사용하여 예외에 다른 유용한 정보를 추가할 수 있습니다.
자세한 내용은 &lt;a href=&quot;https://realpython.com/python311-exception-groups/#annotate-exceptions-with-custom-notes&quot;&gt;파이썬 3.11 미리 보기&lt;/a&gt; 및 &lt;a href=&quot;https://peps.python.org/pep-0678/&quot;&gt;PEP 678&lt;/a&gt;을 참조하세요.&lt;/p&gt;&lt;/blockquote&gt;&lt;h3 id=&quot;음수-0-형식&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%9D%8C%EC%88%98-0-%ED%98%95%EC%8B%9D&quot; aria-label=&quot;음수 0 형식 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;음수 0 형식&lt;/h3&gt;&lt;p&gt;부동 소수점 숫자로 계산할 때 마주칠 수 있는 이상한 개념 중 하나는 음수 0 입니다.
다음처럼 음수 0과 일반 0이 다르게 렌더링되는 것을 관찰할 수 있습니다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.0&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.0&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.0&lt;/span&gt;
&lt;span class=&quot;token number&quot;&gt;0.0&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;파이썬은 두 표현이 같다는 것을 알고 있습니다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.0&lt;/span&gt;
&lt;span class=&quot;token boolean&quot;&gt;True&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;일반적으로 계산에서 음수 0에 대해 걱정할 필요가 없습니다.
그러나 반올림된 작은 음수가 포함된 데이터를 표시하면 기대하지 않은 결과가 발생할 수 있습니다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; small &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.00311&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token string-interpolation&quot;&gt;&lt;span class=&quot;token string&quot;&gt;f&amp;quot;A small number: &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;small&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token format-spec&quot;&gt;.2f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token string&quot;&gt;&amp;#x27;A small number: -0.00&amp;#x27;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;일반적으로 숫자가 0으로 반올림되면 부호 없는 0으로 표시되는걸 기대합니다.
그러나 위 경우 0 앞에 음수 기호가 표시되어 있습니다.&lt;/p&gt;&lt;p&gt;파이썬 3.11에서는 f-String 문법에 다음처럼 &lt;code class=&quot;language-text&quot;&gt;z&lt;/code&gt; 를 추가하여 이를 부호 없는 0으로 표시할 수 있습니다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; small &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.00311&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token string-interpolation&quot;&gt;&lt;span class=&quot;token string&quot;&gt;f&amp;quot;A small number: &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;small&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token format-spec&quot;&gt;z.2f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;A small number: 0.00&amp;#x27;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&quot;추후에-제거될-내장-모듈-표시&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%B6%94%ED%9B%84%EC%97%90-%EC%A0%9C%EA%B1%B0%EB%90%A0-%EB%82%B4%EC%9E%A5-%EB%AA%A8%EB%93%88-%ED%91%9C%EC%8B%9C&quot; aria-label=&quot;추후에 제거될 내장 모듈 표시 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;추후에 제거될 내장 모듈 표시&lt;/h3&gt;&lt;p&gt;파이썬에서는 기본적으로 많은 내장 모듈들을 제공했습니다.
그러나 시간이 지남에 따라 잘 사용되지 않는 내장 모듈들이 존재하게 되었고, 이들 중 일부는 추후에 내장 모듈 목록에서 사라지게 될 예정입니다.&lt;/p&gt;&lt;p&gt;이 모듈들은 import 할 때 다음과 같은 경고 메시지를 보여줍니다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; imghdr
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;stdin&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; DeprecationWarning&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;imghdr&amp;#x27;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;is&lt;/span&gt; deprecated &lt;span class=&quot;token keyword&quot;&gt;and&lt;/span&gt; slated &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;
           removal &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; 파이썬 &lt;span class=&quot;token number&quot;&gt;3.13&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;추후에 사라지게 될 내장 모듈 목록은 &lt;a href=&quot;https://peps.python.org/pep-0594/#deprecated-modules&quot;&gt;PEP-594&lt;/a&gt;에서 확인하실 수 있습니다.&lt;/p&gt;&lt;h2 id=&quot;결론&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EA%B2%B0%EB%A1%A0&quot; aria-label=&quot;결론 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;결론&lt;/h2&gt;&lt;p&gt;다음과 같은 새로운 기능과 개선 사항을 확인했습니다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;더 유익한 트레이스백으로 더 나은 오류 메시지&lt;/li&gt;&lt;li&gt;Faster CPython 프로젝트 의 상당한 노력으로 인한 더 빠른 코드 실행&lt;/li&gt;&lt;li&gt;비동기 코드 작업을 단순화하는 작업 및 예외 그룹&lt;/li&gt;&lt;li&gt;Python의 정적 입력 지원 을 개선하는 몇 가지 새로운 입력 기능&lt;/li&gt;&lt;li&gt;구성 파일 작업을 위한 기본 TOML 지원&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Kubernetes에서 GPU 환경 셋업하기]]></title><description><![CDATA[들어가며 배경 지난 몇 달간 팀에서의 첫 정식 작업으로, 팀에서 운영하는 쿠버네티스에 GPU 환경 셋업하는 일을 담당했다.
팀에 합류하기 이전에는 그저 클라우드만 사용해봤었고, 쿠버네티스에서의 GPU…]]></description><link>https://heumsi.github.io/blog/posts/setup-gpu-env-in-k8s/</link><guid isPermaLink="false">https://heumsi.github.io/blog/posts/setup-gpu-env-in-k8s/</guid><pubDate>Sun, 09 Oct 2022 00:00:00 GMT</pubDate><content:encoded>&lt;h2 id=&quot;들어가며&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0&quot; aria-label=&quot;들어가며 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;들어가며&lt;/h2&gt;&lt;h3 id=&quot;배경&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%B0%B0%EA%B2%BD&quot; aria-label=&quot;배경 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;배경&lt;/h3&gt;&lt;p&gt;지난 몇 달간 팀에서의 첫 정식 작업으로, 팀에서 운영하는 쿠버네티스에 GPU 환경 셋업하는 일을 담당했다.
팀에 합류하기 이전에는 그저 클라우드만 사용해봤었고, 쿠버네티스에서의 GPU 역시 클라우드에서 제공해주는 대로만 사용했던 터라, GPU 셋업에 대해 별로 생각해본적은 없었다.
그런데 이번에 온-프레미스 환경의 쿠버네티스를 처음 접해보며, GPU 셋업에 이런 컴포넌트들이 필요하구나 라는걸 처음 알게 되었다.&lt;/p&gt;&lt;p&gt;내가 작업해온 것들을 다시 하나씩 정리하며, 이번 글에서는 쿠버네티스에 GPU 노드를 추가한 이후에 GPU 환경을 셋업하는 방법과 과정에 대해 적어본다.
기본적으로 나를 위한 정리이긴 하지만, 나처럼 GPU 노드를 쿠버네티스 클러스터에서 사용하고자 하는 분들에게도 도움이 되면 좋겠다.&lt;/p&gt;&lt;h3 id=&quot;작업-전-상황&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%9E%91%EC%97%85-%EC%A0%84-%EC%83%81%ED%99%A9&quot; aria-label=&quot;작업 전 상황 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;작업 전 상황&lt;/h3&gt;&lt;p&gt;먼저 쿠버네티스 클러스터는 다음과 같은 상황이었다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;이미 GPU 노드가 클러스터에 워커 노드로 추가가 되어있다.&lt;ul&gt;&lt;li&gt;&lt;p&gt;구체적으로 다음과 같았다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl get nodes

node1   Ready    control-plane   46d   v1.24.4
node2   Ready    control-plane   46d   v1.24.4
node3   Ready    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;none&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;          46d   v1.24.4
node4   Ready    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;none&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;          46d   v1.24.4
node5   Ready    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;none&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;          46d   v1.24.4
node6   Ready    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;none&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;          46d   v1.24.4
node7   Ready    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;none&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;          30d   v1.24.4&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;node5&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;node6&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;node7&lt;/code&gt; 이 GPU 노드다.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;GPU 벤더는 Nvidia고, Nvidia GPU 드라이버가 노드에 이미 설치되어있다.&lt;/li&gt;&lt;li&gt;쿠버네티스 버전은 &lt;code class=&quot;language-text&quot;&gt;1.24.4&lt;/code&gt; 이다.&lt;/li&gt;&lt;/ul&gt;&lt;h3 id=&quot;요구사항&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%9A%94%EA%B5%AC%EC%82%AC%ED%95%AD&quot; aria-label=&quot;요구사항 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;요구사항&lt;/h3&gt;&lt;p&gt;&amp;quot;GPU 환경을 셋업&amp;quot;을 좀 더 구체적인 요구사항으로 정리하면 다음과 같다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;클러스터 사용자는 GPU를 사용할 수 있어야 한다.&lt;ul&gt;&lt;li&gt;클러스터에 GPU 노드를 추가한다고 해서 사용자가 바로 GPU를 사용할 수 있는 건 아니다. 별도의 작업이 필요하다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;GPU를 사용하는 파드는 Resource Binpack 알고리즘으로 스케줄링 되어야 한다.&lt;ul&gt;&lt;li&gt;GPU는 비교적 비싼 자원이기 때문에, 클러스터 내 리소스 사용 효율을 높여야 한다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;GPU 리소스 사용에 대한 모니터링이 가능해야 한다.&lt;ul&gt;&lt;li&gt;어떤 네임스페이스에서, 어떤 파드가 얼마나 GPU 리소스를 사용하고 있는지,&lt;/li&gt;&lt;li&gt;어떤 GPU 노드들이 현재 가용한지 등의 내용을 쉽게 알 수 있어야 한다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;특히 우리 팀은 멀티 테넌트 환경의 클러스터이기 때문에, 사용자는 사용이 쉬워야하고, 관리자는 리소스 효율과 관리가 복잡해지지 않도록 특히 신경을 써야했다.&lt;/p&gt;&lt;h2 id=&quot;gpu-operator로-gpu를-사용할-수-있게-하기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#gpu-operator%EB%A1%9C-gpu%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%A0-%EC%88%98-%EC%9E%88%EA%B2%8C-%ED%95%98%EA%B8%B0&quot; aria-label=&quot;gpu operator로 gpu를 사용할 수 있게 하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;GPU Operator로 GPU를 사용할 수 있게 하기&lt;/h2&gt;&lt;h3 id=&quot;chart-다운-받기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#chart-%EB%8B%A4%EC%9A%B4-%EB%B0%9B%EA%B8%B0&quot; aria-label=&quot;chart 다운 받기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Chart 다운 받기&lt;/h3&gt;&lt;p&gt;위에서도 이야기했지만, 클러스터에 GPU 노드를 추가한다고 해서 사용자가 바로 GPU를 사용할 수 있는 건 아니다.
GPU를 노드에서 인식할 수 있도록 드라이버를 (없다면) 설치해야하고,
컨테이너 환경에서 GPU를 사용할 수 있게 무언가의 일들을 해야하며,
쿠버네티스 클러스터의 파드에서 GPU 리소스를 사용할 수 있도록 Device Plugin을 배포해야한다.&lt;/p&gt;&lt;p&gt;쿠버네티스에서는 이런 일련의 설치 및 배포 작업을 &lt;a href=&quot;https://github.com/NVIDIA/gpu-operator&quot;&gt;GPU Operator&lt;/a&gt;를 통해 손쉽게 해결할 수 있다.
GPU Operator는 NVIDIA에서 제공하는 Operator로, 관련 CR을 배포하면 GPU 환경 셋업과 관련된 일련의 쿠버네티스 오브젝트들이 순차적으로 배포된다.
여기에 사용하는 CRD와 Operator는 사실상 Helm Chart를 통해서 제공된다.&lt;/p&gt;&lt;p&gt;GPU Operator Helm Chart를 다운 받아보자.
먼저 다음처럼 GPU Operator Helm Chart를 Local로 받아온다.&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;여기서는 Helm 버전으로 &lt;code class=&quot;language-text&quot;&gt;v3.9.4&lt;/code&gt; 를 사용하고 있다.&lt;/p&gt;&lt;/blockquote&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# Add and update helm repo&lt;/span&gt;
$ helm repo &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt; nvidia https://helm.ngc.nvidia.com/nvidia
$ helm repo update

&lt;span class=&quot;token comment&quot;&gt;# Download helm chart&lt;/span&gt;
$ helm pull nvidia/gpu-operator --untar

&lt;span class=&quot;token comment&quot;&gt;# Move to helm chart directory&lt;/span&gt;
$ &lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; gpu-operator&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;내가 받은 Helm Chart의 버전은 &lt;code class=&quot;language-text&quot;&gt;v1.11.1&lt;/code&gt; 이다.
Chart 버전에 내용이 달라질 수 있음을 인지해두자.&lt;/p&gt;&lt;h3 id=&quot;chart-내부-살펴보기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#chart-%EB%82%B4%EB%B6%80-%EC%82%B4%ED%8E%B4%EB%B3%B4%EA%B8%B0&quot; aria-label=&quot;chart 내부 살펴보기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Chart 내부 살펴보기&lt;/h3&gt;&lt;p&gt;Chart 내부를 살펴보면 이렇다.
(아래에서 추가 설명할 부분은 하이라이팅 해두었다.)&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ tree -L &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;
&lt;span class=&quot;token builtin class-name&quot;&gt;.&lt;/span&gt;
├── Chart.lock
├── Chart.yaml
├── charts
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;│   └── node-feature-discovery&lt;/span&gt;├── crds
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;│   └── nvidia.com_clusterpolicies_crd.yaml&lt;/span&gt;├── templates
│   ├── _helpers.tpl
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;│   ├── clusterpolicy.yaml&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;│   ├── operator.yaml&lt;/span&gt;│   ├── podsecuritypolicy.yaml
│   ├── readonlyfs_scc.openshift.yaml
│   ├── role.yaml
│   ├── rolebinding.yaml
│   └── serviceaccount.yaml
└── values.yaml&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Chart에 대해 간단히 살펴보면,&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;charts/node-feature-discovery&lt;/code&gt; 가 존재한다는 것에서 알 수 있듯이, 이 Chart는 &lt;code class=&quot;language-text&quot;&gt;node-feature-discovery&lt;/code&gt; Chart에 의존성이 있다.&lt;ul&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;node-feature-discovery&lt;/code&gt; 가 이미 클러스터에 배포되어있다면 &lt;code class=&quot;language-text&quot;&gt;values.yaml&lt;/code&gt; 에서 &lt;code class=&quot;language-text&quot;&gt;nfd.enabled&lt;/code&gt; 값을 &lt;code class=&quot;language-text&quot;&gt;false&lt;/code&gt; 로 수정하면 된다. (기본 값은 &lt;code class=&quot;language-text&quot;&gt;true&lt;/code&gt; 다.)&lt;/li&gt;&lt;li&gt;여기서는 &lt;code class=&quot;language-text&quot;&gt;node-feature-discovery&lt;/code&gt; 도 &lt;code class=&quot;language-text&quot;&gt;gpu-operator&lt;/code&gt; Chart와 함께 배포하기로 한다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;crds/nvidia.com_clusterpolicies_crd.yaml&lt;/code&gt; 에 &lt;code class=&quot;language-text&quot;&gt;ClusterPolicy&lt;/code&gt; 라는 CRD가 존재한다.&lt;ul&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;templates/clusterpolicy.yaml&lt;/code&gt; 에 이 CR이 포함되어 있다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;templates/operator.yaml&lt;/code&gt; 를 통해 알 수 있듯이, GPU Operator의 동작 흐름은 &lt;code class=&quot;language-text&quot;&gt;ClusterPolicy&lt;/code&gt; 라는 CR을 제출하면 Operator가 이를 모니터링하여 관련한 컴포넌트들을 띄우는 방식이다.&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;ClusterPolicy&lt;/code&gt; CRD에 이렇게 배포되는 컴포넌트들에 대해 정의가 되어있고, &lt;code class=&quot;language-text&quot;&gt;values.yaml&lt;/code&gt; 에서 이를 조정할 수 있다.&lt;/li&gt;&lt;/ul&gt;&lt;h3 id=&quot;컴포넌트들의-역할과-동작-과정&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8%EB%93%A4%EC%9D%98-%EC%97%AD%ED%95%A0%EA%B3%BC-%EB%8F%99%EC%9E%91-%EA%B3%BC%EC%A0%95&quot; aria-label=&quot;컴포넌트들의 역할과 동작 과정 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;컴포넌트들의 역할과 동작 과정&lt;/h3&gt;&lt;div class=&quot;mermaid&quot; data-processed=&quot;true&quot;&gt;&lt;svg viewBox=&quot;0 0 662.390625 758&quot; style=&quot;max-width:662.390625px&quot; height=&quot;758&quot; aria-labelled-by=&quot;chart-title-mermaid-1736145204081,chart-desc-mermaid-1736145204081&quot; role=&quot;img&quot; xmlnsXLink=&quot;http://www.w3.org/1999/xlink&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;100%&quot; id=&quot;mermaid-1736145204081&quot;&gt;&lt;title id=&quot;chart-title-mermaid-1736145204081&quot;&gt;&lt;/title&gt;&lt;desc id=&quot;chart-desc-mermaid-1736145204081&quot;&gt;&lt;/desc&gt;&lt;style&gt;#mermaid-1736145204081 {font-family:&amp;quot;trebuchet ms&amp;quot;,verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-1736145204081 .error-icon{fill:#552222;}#mermaid-1736145204081 .error-text{fill:#552222;stroke:#552222;}#mermaid-1736145204081 .edge-thickness-normal{stroke-width:2px;}#mermaid-1736145204081 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-1736145204081 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-1736145204081 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-1736145204081 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-1736145204081 .marker{fill:#333333;stroke:#333333;}#mermaid-1736145204081 .marker.cross{stroke:#333333;}#mermaid-1736145204081 svg{font-family:&amp;quot;trebuchet ms&amp;quot;,verdana,arial,sans-serif;font-size:16px;}#mermaid-1736145204081 .label{font-family:&amp;quot;trebuchet ms&amp;quot;,verdana,arial,sans-serif;color:#333;}#mermaid-1736145204081 .cluster-label text{fill:#333;}#mermaid-1736145204081 .cluster-label span{color:#333;}#mermaid-1736145204081 .label text,#mermaid-1736145204081 span{fill:#333;color:#333;}#mermaid-1736145204081 .node rect,#mermaid-1736145204081 .node circle,#mermaid-1736145204081 .node ellipse,#mermaid-1736145204081 .node polygon,#mermaid-1736145204081 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-1736145204081 .node .label{text-align:center;}#mermaid-1736145204081 .node.clickable{cursor:pointer;}#mermaid-1736145204081 .arrowheadPath{fill:#333333;}#mermaid-1736145204081 .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-1736145204081 .flowchart-link{stroke:#333333;fill:none;}#mermaid-1736145204081 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaid-1736145204081 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaid-1736145204081 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-1736145204081 .cluster text{fill:#333;}#mermaid-1736145204081 .cluster span{color:#333;}#mermaid-1736145204081 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:&amp;quot;trebuchet ms&amp;quot;,verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-1736145204081 :root{--mermaid-font-family:&amp;quot;trebuchet ms&amp;quot;,verdana,arial,sans-serif;}&lt;/style&gt;&lt;g transform=&quot;translate(0, 0)&quot;&gt;&lt;g class=&quot;output&quot;&gt;&lt;g class=&quot;clusters&quot;&gt;&lt;/g&gt;&lt;g class=&quot;edgePaths&quot;&gt;&lt;g style=&quot;opacity:1&quot; id=&quot;L-Operator-CR&quot; class=&quot;edgePath LS-Operator LE-CR&quot;&gt;&lt;path style=&quot;fill:none&quot; marker-end=&quot;url(#arrowhead24)&quot; d=&quot;M107.87029474431819,360L131.40753728693184,304.5C154.94477982954547,249,202.01926491477275,138,251.48879912405303,82.5C300.9583333333333,27,352.8229166666667,27,378.7552083333333,27L404.6875,27&quot; class=&quot;path&quot;&gt;&lt;/path&gt;&lt;defs&gt;&lt;marker orient=&quot;auto&quot; markerHeight=&quot;6&quot; markerWidth=&quot;8&quot; markerUnits=&quot;strokeWidth&quot; refY=&quot;5&quot; refX=&quot;9&quot; viewBox=&quot;0 0 10 10&quot; id=&quot;arrowhead24&quot;&gt;&lt;path style=&quot;stroke-width:1;stroke-dasharray:1, 0&quot; class=&quot;arrowheadPath&quot; d=&quot;M 0 0 L 10 5 L 0 10 z&quot;&gt;&lt;/path&gt;&lt;/marker&gt;&lt;/defs&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; id=&quot;L-Operator-NodeFeatureDiscoveryW&quot; class=&quot;edgePath LS-Operator LE-NodeFeatureDiscoveryW&quot;&gt;&lt;path style=&quot;fill:none&quot; marker-end=&quot;url(#arrowhead25)&quot; d=&quot;M110.55622632575758,360L133.64581360479798,319.1666666666667C156.73540088383837,278.3333333333333,202.9145754419192,196.66666666666666,235.58228772095958,155.83333333333334C268.25,115,287.40625,115,296.984375,115L306.5625,115&quot; class=&quot;path&quot;&gt;&lt;/path&gt;&lt;defs&gt;&lt;marker orient=&quot;auto&quot; markerHeight=&quot;6&quot; markerWidth=&quot;8&quot; markerUnits=&quot;strokeWidth&quot; refY=&quot;5&quot; refX=&quot;9&quot; viewBox=&quot;0 0 10 10&quot; id=&quot;arrowhead25&quot;&gt;&lt;path style=&quot;stroke-width:1;stroke-dasharray:1, 0&quot; class=&quot;arrowheadPath&quot; d=&quot;M 0 0 L 10 5 L 0 10 z&quot;&gt;&lt;/path&gt;&lt;/marker&gt;&lt;/defs&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; id=&quot;L-Operator-NodeFeatureDiscoveryM&quot; class=&quot;edgePath LS-Operator LE-NodeFeatureDiscoveryM&quot;&gt;&lt;path style=&quot;fill:none&quot; marker-end=&quot;url(#arrowhead26)&quot; d=&quot;M115.92808948863636,360L138.12236624053028,333.8333333333333C160.31664299242425,307.6666666666667,204.70519649621212,255.33333333333334,236.60129616477272,229.16666666666666C268.4973958333333,203,287.9010416666667,203,297.6028645833333,203L307.3046875,203&quot; class=&quot;path&quot;&gt;&lt;/path&gt;&lt;defs&gt;&lt;marker orient=&quot;auto&quot; markerHeight=&quot;6&quot; markerWidth=&quot;8&quot; markerUnits=&quot;strokeWidth&quot; refY=&quot;5&quot; refX=&quot;9&quot; viewBox=&quot;0 0 10 10&quot; id=&quot;arrowhead26&quot;&gt;&lt;path style=&quot;stroke-width:1;stroke-dasharray:1, 0&quot; class=&quot;arrowheadPath&quot; d=&quot;M 0 0 L 10 5 L 0 10 z&quot;&gt;&lt;/path&gt;&lt;/marker&gt;&lt;/defs&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; id=&quot;L-Operator-GPUFeatureDiscovery&quot; class=&quot;edgePath LS-Operator LE-GPUFeatureDiscovery&quot;&gt;&lt;path style=&quot;fill:none&quot; marker-end=&quot;url(#arrowhead27)&quot; d=&quot;M132.04367897727272,360L151.55202414772728,348.5C171.06036931818184,337,210.0770596590909,314,244.10493607954547,302.5C278.1328125,291,307.171875,291,321.69140625,291L336.2109375,291&quot; class=&quot;path&quot;&gt;&lt;/path&gt;&lt;defs&gt;&lt;marker orient=&quot;auto&quot; markerHeight=&quot;6&quot; markerWidth=&quot;8&quot; markerUnits=&quot;strokeWidth&quot; refY=&quot;5&quot; refX=&quot;9&quot; viewBox=&quot;0 0 10 10&quot; id=&quot;arrowhead27&quot;&gt;&lt;path style=&quot;stroke-width:1;stroke-dasharray:1, 0&quot; class=&quot;arrowheadPath&quot; d=&quot;M 0 0 L 10 5 L 0 10 z&quot;&gt;&lt;/path&gt;&lt;/marker&gt;&lt;/defs&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; id=&quot;L-Operator-NvidiaDriverInstaller&quot; class=&quot;edgePath LS-Operator LE-NvidiaDriverInstaller&quot;&gt;&lt;path style=&quot;fill:none&quot; marker-end=&quot;url(#arrowhead28)&quot; d=&quot;M191.625,379L201.203125,379C210.78125,379,229.9375,379,255.44270833333334,379C280.9479166666667,379,312.8020833333333,379,328.7291666666667,379L344.65625,379&quot; class=&quot;path&quot;&gt;&lt;/path&gt;&lt;defs&gt;&lt;marker orient=&quot;auto&quot; markerHeight=&quot;6&quot; markerWidth=&quot;8&quot; markerUnits=&quot;strokeWidth&quot; refY=&quot;5&quot; refX=&quot;9&quot; viewBox=&quot;0 0 10 10&quot; id=&quot;arrowhead28&quot;&gt;&lt;path style=&quot;stroke-width:1;stroke-dasharray:1, 0&quot; class=&quot;arrowheadPath&quot; d=&quot;M 0 0 L 10 5 L 0 10 z&quot;&gt;&lt;/path&gt;&lt;/marker&gt;&lt;/defs&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; id=&quot;L-Operator-NvidiaDevicePlugin&quot; class=&quot;edgePath LS-Operator LE-NvidiaDevicePlugin&quot;&gt;&lt;path style=&quot;fill:none&quot; marker-end=&quot;url(#arrowhead29)&quot; d=&quot;M132.04367897727272,398L151.55202414772728,409.5C171.06036931818184,421,210.0770596590909,444,246.69608191287878,455.5C283.3151041666667,467,317.5364583333333,467,334.6471354166667,467L351.7578125,467&quot; class=&quot;path&quot;&gt;&lt;/path&gt;&lt;defs&gt;&lt;marker orient=&quot;auto&quot; markerHeight=&quot;6&quot; markerWidth=&quot;8&quot; markerUnits=&quot;strokeWidth&quot; refY=&quot;5&quot; refX=&quot;9&quot; viewBox=&quot;0 0 10 10&quot; id=&quot;arrowhead29&quot;&gt;&lt;path style=&quot;stroke-width:1;stroke-dasharray:1, 0&quot; class=&quot;arrowheadPath&quot; d=&quot;M 0 0 L 10 5 L 0 10 z&quot;&gt;&lt;/path&gt;&lt;/marker&gt;&lt;/defs&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; id=&quot;L-Operator-NvidiaContainerToolkit&quot; class=&quot;edgePath LS-Operator LE-NvidiaContainerToolkit&quot;&gt;&lt;path style=&quot;fill:none&quot; marker-end=&quot;url(#arrowhead30)&quot; d=&quot;M115.92808948863636,398L138.12236624053028,424.1666666666667C160.31664299242425,450.3333333333333,204.70519649621212,502.6666666666667,241.49061908143938,528.8333333333334C278.2760416666667,555,307.4583333333333,555,322.0494791666667,555L336.640625,555&quot; class=&quot;path&quot;&gt;&lt;/path&gt;&lt;defs&gt;&lt;marker orient=&quot;auto&quot; markerHeight=&quot;6&quot; markerWidth=&quot;8&quot; markerUnits=&quot;strokeWidth&quot; refY=&quot;5&quot; refX=&quot;9&quot; viewBox=&quot;0 0 10 10&quot; id=&quot;arrowhead30&quot;&gt;&lt;path style=&quot;stroke-width:1;stroke-dasharray:1, 0&quot; class=&quot;arrowheadPath&quot; d=&quot;M 0 0 L 10 5 L 0 10 z&quot;&gt;&lt;/path&gt;&lt;/marker&gt;&lt;/defs&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; id=&quot;L-Operator-GPUOperatorValidator&quot; class=&quot;edgePath LS-Operator LE-GPUOperatorValidator&quot;&gt;&lt;path style=&quot;fill:none&quot; marker-end=&quot;url(#arrowhead31)&quot; d=&quot;M110.55622632575758,398L133.64581360479798,438.8333333333333C156.73540088383837,479.6666666666667,202.9145754419192,561.3333333333334,240.54582938762624,602.1666666666666C278.1770833333333,643,307.2604166666667,643,321.8020833333333,643L336.34375,643&quot; class=&quot;path&quot;&gt;&lt;/path&gt;&lt;defs&gt;&lt;marker orient=&quot;auto&quot; markerHeight=&quot;6&quot; markerWidth=&quot;8&quot; markerUnits=&quot;strokeWidth&quot; refY=&quot;5&quot; refX=&quot;9&quot; viewBox=&quot;0 0 10 10&quot; id=&quot;arrowhead31&quot;&gt;&lt;path style=&quot;stroke-width:1;stroke-dasharray:1, 0&quot; class=&quot;arrowheadPath&quot; d=&quot;M 0 0 L 10 5 L 0 10 z&quot;&gt;&lt;/path&gt;&lt;/marker&gt;&lt;/defs&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; id=&quot;L-Operator-DCGMExporter&quot; class=&quot;edgePath LS-Operator LE-DCGMExporter&quot;&gt;&lt;path style=&quot;fill:none&quot; marker-end=&quot;url(#arrowhead32)&quot; d=&quot;M107.87029474431819,398L131.40753728693184,453.5C154.94477982954547,509,202.01926491477275,620,244.67109079071972,675.5C287.3229166666667,731,325.5520833333333,731,344.6666666666667,731L363.78125,731&quot; class=&quot;path&quot;&gt;&lt;/path&gt;&lt;defs&gt;&lt;marker orient=&quot;auto&quot; markerHeight=&quot;6&quot; markerWidth=&quot;8&quot; markerUnits=&quot;strokeWidth&quot; refY=&quot;5&quot; refX=&quot;9&quot; viewBox=&quot;0 0 10 10&quot; id=&quot;arrowhead32&quot;&gt;&lt;path style=&quot;stroke-width:1;stroke-dasharray:1, 0&quot; class=&quot;arrowheadPath&quot; d=&quot;M 0 0 L 10 5 L 0 10 z&quot;&gt;&lt;/path&gt;&lt;/marker&gt;&lt;/defs&gt;&lt;/g&gt;&lt;/g&gt;&lt;g class=&quot;edgeLabels&quot;&gt;&lt;g style=&quot;opacity:1&quot; transform=&quot;translate(249.09375,27)&quot; class=&quot;edgeLabel&quot;&gt;&lt;g class=&quot;label&quot; transform=&quot;translate(-29.796875,-9)&quot;&gt;&lt;rect height=&quot;18&quot; width=&quot;59.59375&quot; ry=&quot;0&quot; rx=&quot;0&quot;&gt;&lt;/rect&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;59.59375&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;span class=&quot;edgeLabel L-LS-Operator&amp;#x27; L-LE-CR&quot; id=&quot;L-L-Operator-CR&quot;&gt;1. watch&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; transform=&quot;translate(249.09375,115)&quot; class=&quot;edgeLabel&quot;&gt;&lt;g class=&quot;label&quot; transform=&quot;translate(-32.46875,-9)&quot;&gt;&lt;rect height=&quot;18&quot; width=&quot;64.9375&quot; ry=&quot;0&quot; rx=&quot;0&quot;&gt;&lt;/rect&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;64.9375&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;span class=&quot;edgeLabel L-LS-Operator&amp;#x27; L-LE-NodeFeatureDiscoveryW&quot; id=&quot;L-L-Operator-NodeFeatureDiscoveryW&quot;&gt;2. deploy&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; transform=&quot;translate(249.09375,203)&quot; class=&quot;edgeLabel&quot;&gt;&lt;g class=&quot;label&quot; transform=&quot;translate(-32.46875,-9)&quot;&gt;&lt;rect height=&quot;18&quot; width=&quot;64.9375&quot; ry=&quot;0&quot; rx=&quot;0&quot;&gt;&lt;/rect&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;64.9375&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;span class=&quot;edgeLabel L-LS-Operator&amp;#x27; L-LE-NodeFeatureDiscoveryM&quot; id=&quot;L-L-Operator-NodeFeatureDiscoveryM&quot;&gt;2. deploy&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; transform=&quot;translate(249.09375,291)&quot; class=&quot;edgeLabel&quot;&gt;&lt;g class=&quot;label&quot; transform=&quot;translate(-32.46875,-9)&quot;&gt;&lt;rect height=&quot;18&quot; width=&quot;64.9375&quot; ry=&quot;0&quot; rx=&quot;0&quot;&gt;&lt;/rect&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;64.9375&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;span class=&quot;edgeLabel L-LS-Operator&amp;#x27; L-LE-GPUFeatureDiscovery&quot; id=&quot;L-L-Operator-GPUFeatureDiscovery&quot;&gt;3. deploy&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; transform=&quot;translate(249.09375,379)&quot; class=&quot;edgeLabel&quot;&gt;&lt;g class=&quot;label&quot; transform=&quot;translate(-32.46875,-9)&quot;&gt;&lt;rect height=&quot;18&quot; width=&quot;64.9375&quot; ry=&quot;0&quot; rx=&quot;0&quot;&gt;&lt;/rect&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;64.9375&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;span class=&quot;edgeLabel L-LS-Operator&amp;#x27; L-LE-NvidiaDriverInstaller&quot; id=&quot;L-L-Operator-NvidiaDriverInstaller&quot;&gt;3. deploy&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; transform=&quot;translate(249.09375,467)&quot; class=&quot;edgeLabel&quot;&gt;&lt;g class=&quot;label&quot; transform=&quot;translate(-32.46875,-9)&quot;&gt;&lt;rect height=&quot;18&quot; width=&quot;64.9375&quot; ry=&quot;0&quot; rx=&quot;0&quot;&gt;&lt;/rect&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;64.9375&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;span class=&quot;edgeLabel L-LS-Operator&amp;#x27; L-LE-NvidiaDevicePlugin&quot; id=&quot;L-L-Operator-NvidiaDevicePlugin&quot;&gt;3. deploy&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; transform=&quot;translate(249.09375,555)&quot; class=&quot;edgeLabel&quot;&gt;&lt;g class=&quot;label&quot; transform=&quot;translate(-32.46875,-9)&quot;&gt;&lt;rect height=&quot;18&quot; width=&quot;64.9375&quot; ry=&quot;0&quot; rx=&quot;0&quot;&gt;&lt;/rect&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;64.9375&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;span class=&quot;edgeLabel L-LS-Operator&amp;#x27; L-LE-NvidiaContainerToolkit&quot; id=&quot;L-L-Operator-NvidiaContainerToolkit&quot;&gt;3. deploy&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; transform=&quot;translate(249.09375,643)&quot; class=&quot;edgeLabel&quot;&gt;&lt;g class=&quot;label&quot; transform=&quot;translate(-32.46875,-9)&quot;&gt;&lt;rect height=&quot;18&quot; width=&quot;64.9375&quot; ry=&quot;0&quot; rx=&quot;0&quot;&gt;&lt;/rect&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;64.9375&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;span class=&quot;edgeLabel L-LS-Operator&amp;#x27; L-LE-GPUOperatorValidator&quot; id=&quot;L-L-Operator-GPUOperatorValidator&quot;&gt;3. deploy&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; transform=&quot;translate(249.09375,731)&quot; class=&quot;edgeLabel&quot;&gt;&lt;g class=&quot;label&quot; transform=&quot;translate(-32.46875,-9)&quot;&gt;&lt;rect height=&quot;18&quot; width=&quot;64.9375&quot; ry=&quot;0&quot; rx=&quot;0&quot;&gt;&lt;/rect&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;64.9375&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;span class=&quot;edgeLabel L-LS-Operator&amp;#x27; L-LE-DCGMExporter&quot; id=&quot;L-L-Operator-DCGMExporter&quot;&gt;3. deploy&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;g class=&quot;nodes&quot;&gt;&lt;g style=&quot;opacity:1&quot; transform=&quot;translate(480.4765625,27)&quot; id=&quot;flowchart-CR-28&quot; class=&quot;node default&quot;&gt;&lt;rect class=&quot;label-container&quot; height=&quot;38&quot; width=&quot;151.578125&quot; y=&quot;-19&quot; x=&quot;-75.7890625&quot; ry=&quot;0&quot; rx=&quot;0&quot;&gt;&lt;/rect&gt;&lt;g transform=&quot;translate(0,0)&quot; class=&quot;label&quot;&gt;&lt;g transform=&quot;translate(-65.7890625,-9)&quot;&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;131.578125&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;ClusterPolicy (CR)&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; transform=&quot;translate(99.8125,379)&quot; id=&quot;flowchart-Operator-29&quot; class=&quot;node default&quot;&gt;&lt;rect class=&quot;label-container&quot; height=&quot;38&quot; width=&quot;183.625&quot; y=&quot;-19&quot; x=&quot;-91.8125&quot; ry=&quot;0&quot; rx=&quot;0&quot;&gt;&lt;/rect&gt;&lt;g transform=&quot;translate(0,0)&quot; class=&quot;label&quot;&gt;&lt;g transform=&quot;translate(-81.8125,-9)&quot;&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;163.625&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;Operator (Deployment)&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; transform=&quot;translate(480.4765625,115)&quot; id=&quot;flowchart-NodeFeatureDiscoveryW-30&quot; class=&quot;node default&quot;&gt;&lt;rect class=&quot;label-container&quot; height=&quot;38&quot; width=&quot;347.828125&quot; y=&quot;-19&quot; x=&quot;-173.9140625&quot; ry=&quot;0&quot; rx=&quot;0&quot;&gt;&lt;/rect&gt;&lt;g transform=&quot;translate(0,0)&quot; class=&quot;label&quot;&gt;&lt;g transform=&quot;translate(-163.9140625,-9)&quot;&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;327.828125&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;Node Feature Discovery Worker (DaemonSet)&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; transform=&quot;translate(480.4765625,203)&quot; id=&quot;flowchart-NodeFeatureDiscoveryM-31&quot; class=&quot;node default&quot;&gt;&lt;rect class=&quot;label-container&quot; height=&quot;38&quot; width=&quot;346.34375&quot; y=&quot;-19&quot; x=&quot;-173.171875&quot; ry=&quot;0&quot; rx=&quot;0&quot;&gt;&lt;/rect&gt;&lt;g transform=&quot;translate(0,0)&quot; class=&quot;label&quot;&gt;&lt;g transform=&quot;translate(-163.171875,-9)&quot;&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;326.34375&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;Node Feature Discovery Master (Deployment)&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; transform=&quot;translate(480.4765625,291)&quot; id=&quot;flowchart-GPUFeatureDiscovery-32&quot; class=&quot;node default&quot;&gt;&lt;rect class=&quot;label-container&quot; height=&quot;38&quot; width=&quot;288.53125&quot; y=&quot;-19&quot; x=&quot;-144.265625&quot; ry=&quot;0&quot; rx=&quot;0&quot;&gt;&lt;/rect&gt;&lt;g transform=&quot;translate(0,0)&quot; class=&quot;label&quot;&gt;&lt;g transform=&quot;translate(-134.265625,-9)&quot;&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;268.53125&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;GPU Feature Discovery (DaemonSet)&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; transform=&quot;translate(480.4765625,379)&quot; id=&quot;flowchart-NvidiaDriverInstaller-33&quot; class=&quot;node default&quot;&gt;&lt;rect class=&quot;label-container&quot; height=&quot;38&quot; width=&quot;271.640625&quot; y=&quot;-19&quot; x=&quot;-135.8203125&quot; ry=&quot;0&quot; rx=&quot;0&quot;&gt;&lt;/rect&gt;&lt;g transform=&quot;translate(0,0)&quot; class=&quot;label&quot;&gt;&lt;g transform=&quot;translate(-125.8203125,-9)&quot;&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;251.640625&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;Nvidia Driver Installer (DaemonSet)&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; transform=&quot;translate(480.4765625,467)&quot; id=&quot;flowchart-NvidiaDevicePlugin-34&quot; class=&quot;node default&quot;&gt;&lt;rect class=&quot;label-container&quot; height=&quot;38&quot; width=&quot;257.4375&quot; y=&quot;-19&quot; x=&quot;-128.71875&quot; ry=&quot;0&quot; rx=&quot;0&quot;&gt;&lt;/rect&gt;&lt;g transform=&quot;translate(0,0)&quot; class=&quot;label&quot;&gt;&lt;g transform=&quot;translate(-118.71875,-9)&quot;&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;237.4375&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;NvidiaDevicePlugin (DaemonSet)&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; transform=&quot;translate(480.4765625,555)&quot; id=&quot;flowchart-NvidiaContainerToolkit-35&quot; class=&quot;node default&quot;&gt;&lt;rect class=&quot;label-container&quot; height=&quot;38&quot; width=&quot;287.671875&quot; y=&quot;-19&quot; x=&quot;-143.8359375&quot; ry=&quot;0&quot; rx=&quot;0&quot;&gt;&lt;/rect&gt;&lt;g transform=&quot;translate(0,0)&quot; class=&quot;label&quot;&gt;&lt;g transform=&quot;translate(-133.8359375,-9)&quot;&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;267.671875&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;Nvidia Container Toolkit (DaemonSet)&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; transform=&quot;translate(480.4765625,643)&quot; id=&quot;flowchart-GPUOperatorValidator-36&quot; class=&quot;node default&quot;&gt;&lt;rect class=&quot;label-container&quot; height=&quot;38&quot; width=&quot;288.265625&quot; y=&quot;-19&quot; x=&quot;-144.1328125&quot; ry=&quot;0&quot; rx=&quot;0&quot;&gt;&lt;/rect&gt;&lt;g transform=&quot;translate(0,0)&quot; class=&quot;label&quot;&gt;&lt;g transform=&quot;translate(-134.1328125,-9)&quot;&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;268.265625&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;GPU Operator Validator (DaemonSet)&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; transform=&quot;translate(480.4765625,731)&quot; id=&quot;flowchart-DCGMExporter-37&quot; class=&quot;node default&quot;&gt;&lt;rect class=&quot;label-container&quot; height=&quot;38&quot; width=&quot;233.390625&quot; y=&quot;-19&quot; x=&quot;-116.6953125&quot; ry=&quot;0&quot; rx=&quot;0&quot;&gt;&lt;/rect&gt;&lt;g transform=&quot;translate(0,0)&quot; class=&quot;label&quot;&gt;&lt;g transform=&quot;translate(-106.6953125,-9)&quot;&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;213.390625&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;DCGM Exporter (DaemonSet)&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;/svg&gt;&lt;/div&gt;&lt;p&gt;컴포넌트들이 배포되는 과정과 각 컴포넌트들의 역할에 대해 좀 더 설명해보겠다.&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-text&quot;&gt;Operator (Deployment)&lt;/code&gt;&lt;/strong&gt; 가 &lt;strong&gt;&lt;code class=&quot;language-text&quot;&gt;ClusterPolicy (CR)&lt;/code&gt;&lt;/strong&gt; 을 모니터링하며 &lt;code class=&quot;language-text&quot;&gt;ClusterPolicy&lt;/code&gt; 에 설정된 값에 따라 컴포넌트들을 배포한다.&lt;/p&gt;&lt;p&gt;한편, Chart 의존성에 따라 &lt;code class=&quot;language-text&quot;&gt;node-feature-discovery&lt;/code&gt; Chart가 배포되는데,
구체적으로는 &lt;code class=&quot;language-text&quot;&gt;Node Feature Discovery Worker&lt;/code&gt; 와 &lt;code class=&quot;language-text&quot;&gt;Node Feature Discovery Master&lt;/code&gt; 가 배포된다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;strong&gt;&lt;code class=&quot;language-text&quot;&gt;Node Feature Discovery Worker (DaemonSet)&lt;/code&gt;&lt;/strong&gt;&lt;ul&gt;&lt;li&gt;각 노드에서 노드의 정보를 취합하여 &lt;code class=&quot;language-text&quot;&gt;Master&lt;/code&gt; 로 전송한다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;strong&gt;&lt;code class=&quot;language-text&quot;&gt;Node Feature Discovery Master (Deployment)&lt;/code&gt;&lt;/strong&gt;&lt;ul&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Worker&lt;/code&gt; 로부터 각 노드 정보를 받아서 이를 각 노드에 라벨로 추가한다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;node-feature-discovery&lt;/code&gt; Chart 배포가 완료되면, &lt;code class=&quot;language-text&quot;&gt;ClusterPolicy&lt;/code&gt; 에 따라 다음의 컴포넌트들이 GPU 노드에 배포된다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;strong&gt;&lt;code class=&quot;language-text&quot;&gt;GPU Feature Discovery (DaemonSet)&lt;/code&gt;&lt;/strong&gt;&lt;ul&gt;&lt;li&gt;Driver, CUDA, Core 개수 등 GPU 관련 정보를 추출하여 &lt;code class=&quot;language-text&quot;&gt;Node Feature Discovery&lt;/code&gt; 에게 전송한다.&lt;/li&gt;&lt;li&gt;실제로 노드에 라벨을 작성하는건 &lt;code class=&quot;language-text&quot;&gt;Node Feature Discovery&lt;/code&gt; 가 담당한다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;strong&gt;&lt;code class=&quot;language-text&quot;&gt;Nvidia Driver Installer (DaemonSet)&lt;/code&gt;&lt;/strong&gt;&lt;ul&gt;&lt;li&gt;노드에서 GPU를 감지할 수 있게 GPU Driver를 노드에 설치한다.&lt;/li&gt;&lt;li&gt;이미 노드에 GPU Driver가 설치되어 있다면, 이 컴포넌트는 &lt;code class=&quot;language-text&quot;&gt;values.yaml&lt;/code&gt; 에서 &lt;code class=&quot;language-text&quot;&gt;enabled: false&lt;/code&gt; 로 설정하면 된다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;strong&gt;&lt;code class=&quot;language-text&quot;&gt;Nvidia Device Plugin (DaemonSet)&lt;/code&gt;&lt;/strong&gt; &lt;ul&gt;&lt;li&gt;파드의 GPU 사용은 파드 스펙 내에 &lt;code class=&quot;language-text&quot;&gt;resources.nvidia.com/gpu: 1&lt;/code&gt; 와 같이 작성하여 사용할 수 있다.&lt;/li&gt;&lt;li&gt;이 컴포넌트는 &lt;code class=&quot;language-text&quot;&gt;nvidia.com/gpu&lt;/code&gt; 리소스를 감지하고 처리할 수 있게 한다.&lt;/li&gt;&lt;li&gt;참고로, &lt;code class=&quot;language-text&quot;&gt;Device Plugin&lt;/code&gt; 은 일반적으로 이런 커스텀 리소스(&lt;code class=&quot;language-text&quot;&gt;cpu&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;mem&lt;/code&gt; 이 아닌)를 감지하고 처리하는 컴포넌트다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;strong&gt;&lt;code class=&quot;language-text&quot;&gt;Nvidia Container Toolkit (DaemonSet)&lt;/code&gt;&lt;/strong&gt; &lt;ul&gt;&lt;li&gt;컨테이너 환경에서 GPU를 사용할 수 있게 한다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;strong&gt;&lt;code class=&quot;language-text&quot;&gt;GPU Operator Validator (DaemonSet)&lt;/code&gt;&lt;/strong&gt; &lt;ul&gt;&lt;li&gt;GPU를 사용하는 컨테이너를 실행함으로써, 최종적으로 GPU 환경이 잘 세팅되었는지 확인한다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;strong&gt;&lt;code class=&quot;language-text&quot;&gt;DCGM Exporter (DaemonSet)&lt;/code&gt;&lt;/strong&gt;&lt;ul&gt;&lt;li&gt;GPU 관련 Metric을 특정 엔드포인트에 출력한다.&lt;/li&gt;&lt;li&gt;이를 통해 GPU 사용량, GPU 온도, 사용중인 파드, 네임스페이스 등을 알 수 있다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;위 다이어그램에 표기한 것 처럼 1 -&amp;gt; 2 -&amp;gt; 3 순으로 배포가 진행된다.
3에서는 일부 컴포넌트간 의존성이 존재하는데, 이는 다음과 같다.&lt;/p&gt;&lt;div class=&quot;mermaid&quot; data-processed=&quot;true&quot;&gt;&lt;svg viewBox=&quot;0 0 1065.328125 54&quot; style=&quot;max-width:1065.328125px&quot; height=&quot;54&quot; aria-labelled-by=&quot;chart-title-mermaid-1736145204064,chart-desc-mermaid-1736145204064&quot; role=&quot;img&quot; xmlnsXLink=&quot;http://www.w3.org/1999/xlink&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;100%&quot; id=&quot;mermaid-1736145204064&quot;&gt;&lt;title id=&quot;chart-title-mermaid-1736145204064&quot;&gt;&lt;/title&gt;&lt;desc id=&quot;chart-desc-mermaid-1736145204064&quot;&gt;&lt;/desc&gt;&lt;style&gt;#mermaid-1736145204064 {font-family:&amp;quot;trebuchet ms&amp;quot;,verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-1736145204064 .error-icon{fill:#552222;}#mermaid-1736145204064 .error-text{fill:#552222;stroke:#552222;}#mermaid-1736145204064 .edge-thickness-normal{stroke-width:2px;}#mermaid-1736145204064 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-1736145204064 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-1736145204064 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-1736145204064 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-1736145204064 .marker{fill:#333333;stroke:#333333;}#mermaid-1736145204064 .marker.cross{stroke:#333333;}#mermaid-1736145204064 svg{font-family:&amp;quot;trebuchet ms&amp;quot;,verdana,arial,sans-serif;font-size:16px;}#mermaid-1736145204064 .label{font-family:&amp;quot;trebuchet ms&amp;quot;,verdana,arial,sans-serif;color:#333;}#mermaid-1736145204064 .cluster-label text{fill:#333;}#mermaid-1736145204064 .cluster-label span{color:#333;}#mermaid-1736145204064 .label text,#mermaid-1736145204064 span{fill:#333;color:#333;}#mermaid-1736145204064 .node rect,#mermaid-1736145204064 .node circle,#mermaid-1736145204064 .node ellipse,#mermaid-1736145204064 .node polygon,#mermaid-1736145204064 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-1736145204064 .node .label{text-align:center;}#mermaid-1736145204064 .node.clickable{cursor:pointer;}#mermaid-1736145204064 .arrowheadPath{fill:#333333;}#mermaid-1736145204064 .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-1736145204064 .flowchart-link{stroke:#333333;fill:none;}#mermaid-1736145204064 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaid-1736145204064 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaid-1736145204064 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-1736145204064 .cluster text{fill:#333;}#mermaid-1736145204064 .cluster span{color:#333;}#mermaid-1736145204064 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:&amp;quot;trebuchet ms&amp;quot;,verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-1736145204064 :root{--mermaid-font-family:&amp;quot;trebuchet ms&amp;quot;,verdana,arial,sans-serif;}&lt;/style&gt;&lt;g transform=&quot;translate(0, 0)&quot;&gt;&lt;g class=&quot;output&quot;&gt;&lt;g class=&quot;clusters&quot;&gt;&lt;/g&gt;&lt;g class=&quot;edgePaths&quot;&gt;&lt;g style=&quot;opacity:1&quot; id=&quot;L-A-B&quot; class=&quot;edgePath LS-A LE-B&quot;&gt;&lt;path style=&quot;fill:none&quot; marker-end=&quot;url(#arrowhead22)&quot; d=&quot;M180.046875,27L184.21354166666666,27C188.38020833333334,27,196.71354166666666,27,205.046875,27C213.38020833333334,27,221.71354166666666,27,225.88020833333334,27L230.046875,27&quot; class=&quot;path&quot;&gt;&lt;/path&gt;&lt;defs&gt;&lt;marker orient=&quot;auto&quot; markerHeight=&quot;6&quot; markerWidth=&quot;8&quot; markerUnits=&quot;strokeWidth&quot; refY=&quot;5&quot; refX=&quot;9&quot; viewBox=&quot;0 0 10 10&quot; id=&quot;arrowhead22&quot;&gt;&lt;path style=&quot;stroke-width:1;stroke-dasharray:1, 0&quot; class=&quot;arrowheadPath&quot; d=&quot;M 0 0 L 10 5 L 0 10 z&quot;&gt;&lt;/path&gt;&lt;/marker&gt;&lt;/defs&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; id=&quot;L-B-C&quot; class=&quot;edgePath LS-B LE-C&quot;&gt;&lt;path style=&quot;fill:none&quot; marker-end=&quot;url(#arrowhead23)&quot; d=&quot;M418.125,27L422.2916666666667,27C426.4583333333333,27,434.7916666666667,27,443.125,27C451.4583333333333,27,459.7916666666667,27,463.9583333333333,27L468.125,27&quot; class=&quot;path&quot;&gt;&lt;/path&gt;&lt;defs&gt;&lt;marker orient=&quot;auto&quot; markerHeight=&quot;6&quot; markerWidth=&quot;8&quot; markerUnits=&quot;strokeWidth&quot; refY=&quot;5&quot; refX=&quot;9&quot; viewBox=&quot;0 0 10 10&quot; id=&quot;arrowhead23&quot;&gt;&lt;path style=&quot;stroke-width:1;stroke-dasharray:1, 0&quot; class=&quot;arrowheadPath&quot; d=&quot;M 0 0 L 10 5 L 0 10 z&quot;&gt;&lt;/path&gt;&lt;/marker&gt;&lt;/defs&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; id=&quot;L-C-D&quot; class=&quot;edgePath LS-C LE-D&quot;&gt;&lt;path style=&quot;fill:none&quot; marker-end=&quot;url(#arrowhead24)&quot; d=&quot;M634.859375,27L639.0260416666666,27C643.1927083333334,27,651.5260416666666,27,659.859375,27C668.1927083333334,27,676.5260416666666,27,680.6927083333334,27L684.859375,27&quot; class=&quot;path&quot;&gt;&lt;/path&gt;&lt;defs&gt;&lt;marker orient=&quot;auto&quot; markerHeight=&quot;6&quot; markerWidth=&quot;8&quot; markerUnits=&quot;strokeWidth&quot; refY=&quot;5&quot; refX=&quot;9&quot; viewBox=&quot;0 0 10 10&quot; id=&quot;arrowhead24&quot;&gt;&lt;path style=&quot;stroke-width:1;stroke-dasharray:1, 0&quot; class=&quot;arrowheadPath&quot; d=&quot;M 0 0 L 10 5 L 0 10 z&quot;&gt;&lt;/path&gt;&lt;/marker&gt;&lt;/defs&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; id=&quot;L-D-E&quot; class=&quot;edgePath LS-D LE-E&quot;&gt;&lt;path style=&quot;fill:none&quot; marker-end=&quot;url(#arrowhead25)&quot; d=&quot;M873.53125,27L877.6979166666666,27C881.8645833333334,27,890.1979166666666,27,898.53125,27C906.8645833333334,27,915.1979166666666,27,919.3645833333334,27L923.53125,27&quot; class=&quot;path&quot;&gt;&lt;/path&gt;&lt;defs&gt;&lt;marker orient=&quot;auto&quot; markerHeight=&quot;6&quot; markerWidth=&quot;8&quot; markerUnits=&quot;strokeWidth&quot; refY=&quot;5&quot; refX=&quot;9&quot; viewBox=&quot;0 0 10 10&quot; id=&quot;arrowhead25&quot;&gt;&lt;path style=&quot;stroke-width:1;stroke-dasharray:1, 0&quot; class=&quot;arrowheadPath&quot; d=&quot;M 0 0 L 10 5 L 0 10 z&quot;&gt;&lt;/path&gt;&lt;/marker&gt;&lt;/defs&gt;&lt;/g&gt;&lt;/g&gt;&lt;g class=&quot;edgeLabels&quot;&gt;&lt;g style=&quot;opacity:1&quot; transform=&quot;&quot; class=&quot;edgeLabel&quot;&gt;&lt;g class=&quot;label&quot; transform=&quot;translate(0,0)&quot;&gt;&lt;rect height=&quot;0&quot; width=&quot;0&quot; ry=&quot;0&quot; rx=&quot;0&quot;&gt;&lt;/rect&gt;&lt;foreignObject height=&quot;0&quot; width=&quot;0&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;span class=&quot;edgeLabel L-LS-A&amp;#x27; L-LE-B&quot; id=&quot;L-L-A-B&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; transform=&quot;&quot; class=&quot;edgeLabel&quot;&gt;&lt;g class=&quot;label&quot; transform=&quot;translate(0,0)&quot;&gt;&lt;rect height=&quot;0&quot; width=&quot;0&quot; ry=&quot;0&quot; rx=&quot;0&quot;&gt;&lt;/rect&gt;&lt;foreignObject height=&quot;0&quot; width=&quot;0&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;span class=&quot;edgeLabel L-LS-B&amp;#x27; L-LE-C&quot; id=&quot;L-L-B-C&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; transform=&quot;&quot; class=&quot;edgeLabel&quot;&gt;&lt;g class=&quot;label&quot; transform=&quot;translate(0,0)&quot;&gt;&lt;rect height=&quot;0&quot; width=&quot;0&quot; ry=&quot;0&quot; rx=&quot;0&quot;&gt;&lt;/rect&gt;&lt;foreignObject height=&quot;0&quot; width=&quot;0&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;span class=&quot;edgeLabel L-LS-C&amp;#x27; L-LE-D&quot; id=&quot;L-L-C-D&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; transform=&quot;&quot; class=&quot;edgeLabel&quot;&gt;&lt;g class=&quot;label&quot; transform=&quot;translate(0,0)&quot;&gt;&lt;rect height=&quot;0&quot; width=&quot;0&quot; ry=&quot;0&quot; rx=&quot;0&quot;&gt;&lt;/rect&gt;&lt;foreignObject height=&quot;0&quot; width=&quot;0&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;span class=&quot;edgeLabel L-LS-D&amp;#x27; L-LE-E&quot; id=&quot;L-L-D-E&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;g class=&quot;nodes&quot;&gt;&lt;g style=&quot;opacity:1&quot; transform=&quot;translate(94.0234375,27)&quot; id=&quot;flowchart-A-5&quot; class=&quot;node default&quot;&gt;&lt;rect class=&quot;label-container&quot; height=&quot;38&quot; width=&quot;172.046875&quot; y=&quot;-19&quot; x=&quot;-86.0234375&quot; ry=&quot;0&quot; rx=&quot;0&quot;&gt;&lt;/rect&gt;&lt;g transform=&quot;translate(0,0)&quot; class=&quot;label&quot;&gt;&lt;g transform=&quot;translate(-76.0234375,-9)&quot;&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;152.046875&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;Nvidia Driver Installer&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; transform=&quot;translate(324.0859375,27)&quot; id=&quot;flowchart-B-6&quot; class=&quot;node default&quot;&gt;&lt;rect class=&quot;label-container&quot; height=&quot;38&quot; width=&quot;188.078125&quot; y=&quot;-19&quot; x=&quot;-94.0390625&quot; ry=&quot;0&quot; rx=&quot;0&quot;&gt;&lt;/rect&gt;&lt;g transform=&quot;translate(0,0)&quot; class=&quot;label&quot;&gt;&lt;g transform=&quot;translate(-84.0390625,-9)&quot;&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;168.078125&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;Nvidia Container Toolkit&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; transform=&quot;translate(551.4921875,27)&quot; id=&quot;flowchart-C-7&quot; class=&quot;node default&quot;&gt;&lt;rect class=&quot;label-container&quot; height=&quot;38&quot; width=&quot;166.734375&quot; y=&quot;-19&quot; x=&quot;-83.3671875&quot; ry=&quot;0&quot; rx=&quot;0&quot;&gt;&lt;/rect&gt;&lt;g transform=&quot;translate(0,0)&quot; class=&quot;label&quot;&gt;&lt;g transform=&quot;translate(-73.3671875,-9)&quot;&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;146.734375&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;Nvidia Device Plugin&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; transform=&quot;translate(779.1953125,27)&quot; id=&quot;flowchart-D-8&quot; class=&quot;node default&quot;&gt;&lt;rect class=&quot;label-container&quot; height=&quot;38&quot; width=&quot;188.671875&quot; y=&quot;-19&quot; x=&quot;-94.3359375&quot; ry=&quot;0&quot; rx=&quot;0&quot;&gt;&lt;/rect&gt;&lt;g transform=&quot;translate(0,0)&quot; class=&quot;label&quot;&gt;&lt;g transform=&quot;translate(-84.3359375,-9)&quot;&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;168.671875&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;GPU Operator Validator&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;g style=&quot;opacity:1&quot; transform=&quot;translate(990.4296875,27)&quot; id=&quot;flowchart-E-9&quot; class=&quot;node default&quot;&gt;&lt;rect class=&quot;label-container&quot; height=&quot;38&quot; width=&quot;133.796875&quot; y=&quot;-19&quot; x=&quot;-66.8984375&quot; ry=&quot;0&quot; rx=&quot;0&quot;&gt;&lt;/rect&gt;&lt;g transform=&quot;translate(0,0)&quot; class=&quot;label&quot;&gt;&lt;g transform=&quot;translate(-56.8984375,-9)&quot;&gt;&lt;foreignObject height=&quot;18&quot; width=&quot;113.796875&quot;&gt;&lt;div style=&quot;display:inline-block;white-space:nowrap&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;DCGM Exporter&lt;/div&gt;&lt;/foreignObject&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;/svg&gt;&lt;/div&gt;&lt;p&gt;화살표는 동작 흐름이다.
예를 들어, &lt;code class=&quot;language-text&quot;&gt;Nvidia Driver Installer&lt;/code&gt; 가 잘 동작해야 &lt;code class=&quot;language-text&quot;&gt;Nvidia Container Toolkit&lt;/code&gt; 이 그 다음에 잘 동작한다.
만약 직전 컴포넌트가 잘 동작하지 않는다면 뒤에 있는 컴포넌트는 앞의 컴포넌트가 잘 동작할 때까지 계속해서 기다리게 된다.&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;여기서는 거의 필수적으로 배포해야 하는 컴포넌트들만 설명했다.
GPU Operator에서 제공하는 전체 컴포넌트는 &lt;a href=&quot;https://docs.nvidia.com/datacenter/cloud-native/gpu-operator/overview.html&quot;&gt;공식 문서&lt;/a&gt;에서 확인할 수 있다.&lt;/p&gt;&lt;/blockquote&gt;&lt;h3 id=&quot;gpu-노드에-테인트-추가하기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#gpu-%EB%85%B8%EB%93%9C%EC%97%90-%ED%85%8C%EC%9D%B8%ED%8A%B8-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0&quot; aria-label=&quot;gpu 노드에 테인트 추가하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;GPU 노드에 테인트 추가하기&lt;/h3&gt;&lt;p&gt;Chart 배포 이전에 해야할 일이 하나 있다.
GPU 노드에 테인트를 붙여주지 않으면, GPU를 사용하지 않는 파드도 GPU 노드에 스케줄링될 것이다.
이를 방지하기 위해 GPU 노드에 특정 테인트를 붙여야 한다.&lt;/p&gt;&lt;p&gt;특정 테인트 값은 &lt;code class=&quot;language-text&quot;&gt;values.yaml&lt;/code&gt; 에서 &lt;code class=&quot;language-text&quot;&gt;tolerations&lt;/code&gt; 로 검색해보면 다음처럼 알 수 있다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# values.yaml&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;daemonsets&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;tolerations&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; nvidia.com/gpu
    &lt;span class=&quot;token key atrule&quot;&gt;operator&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Exists
    &lt;span class=&quot;token key atrule&quot;&gt;effect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; NoSchedule

&lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;node-feature-discovery&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;worker&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;tolerations&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;nvidia.com/gpu&amp;quot;&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;operator&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;Equal&amp;quot;&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;present&amp;quot;&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;effect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;NoSchedule&amp;quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;이제 다음과 같이 노드에 테인트를 추가하자. &lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl taint &lt;span class=&quot;token function&quot;&gt;node&lt;/span&gt; node&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; nvidia.com/gpu&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;present:NoSchedule&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&quot;chart-배포하기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#chart-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0&quot; aria-label=&quot;chart 배포하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Chart 배포하기&lt;/h3&gt;&lt;p&gt;이제 Chart를 배포해보자.
여기서는 꼭 필요하지 않은 컴포넌트는 배포하지 않을거라, &lt;code class=&quot;language-text&quot;&gt;values.yaml&lt;/code&gt; 에서 다음 컴포넌트들은 &lt;code class=&quot;language-text&quot;&gt;enabled: false&lt;/code&gt; 로 수정한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# values.yaml&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;driver&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;enabled&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean important&quot;&gt;false&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;# 노드에 이미 드라이버가 설치되어있기 때문에 false로 둔다. (드라이버 자체는 필수다)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;migManager&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;enabled&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean important&quot;&gt;false&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;vgpuManager&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;enabled&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean important&quot;&gt;false&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;vgpuDeviceManager&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;enabled&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean important&quot;&gt;false&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;vfioManager&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;enabled&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean important&quot;&gt;false&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;이제 다음처럼 Chart를 배포한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ helm install gpu-operator gpu-operator -n gpu-operator --create-namespace&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;배포가 성공적으로 되면 다음과 같은 오브젝트들이 배포된 것을 확인할 수 있다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl get clusterpolicy -n gpu-operator
NAME             AGE
cluster-policy   6h27m

$ kubectl get all -n gpu-operator
NAME                                                              READY   STATUS      RESTARTS   AGE
pod/gpu-feature-discovery-99gq7                                   &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1     Running     &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          44s
pod/gpu-feature-discovery-bmncd                                   &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1     Running     &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          44s
pod/gpu-feature-discovery-qk5qx                                   &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1     Running     &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          44s
pod/gpu-operator-677fd4ff77-6mw6j                                 &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1     Running     &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          46s
pod/gpu-operator-node-feature-discovery-master-856648b975-4m996   &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1     Running     &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          6h27m
pod/gpu-operator-node-feature-discovery-worker-5cqv5              &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1     Running     &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          6h27m
pod/gpu-operator-node-feature-discovery-worker-n4kxd              &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1     Running     &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          45s
pod/gpu-operator-node-feature-discovery-worker-rctp8              &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1     Running     &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          6h27m
pod/gpu-operator-node-feature-discovery-worker-vgcbx              &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1     Running     &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          6h27m
pod/gpu-operator-node-feature-discovery-worker-vmsgd              &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;/1     Running     &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          47s
pod/gpu-operator-node-feature-discovery-worker-vt958              &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1     Running     &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          6h27m
pod/gpu-operator-node-feature-discovery-worker-zt7n6              &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;/1     Running     &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          47s
pod/nvidia-container-toolkit-daemonset-4lv5b                      &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1     Running     &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          6h26m
pod/nvidia-container-toolkit-daemonset-fnrqk                      &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1     Running     &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          6h26m
pod/nvidia-container-toolkit-daemonset-x25wz                      &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1     Running     &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          6h26m
pod/nvidia-cuda-validator-7b8rw                                   &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;/1     Completed   &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          6h26m
pod/nvidia-cuda-validator-95qwr                                   &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;/1     Completed   &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          6h26m
pod/nvidia-cuda-validator-htqw7                                   &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;/1     Completed   &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          6h26m
pod/nvidia-dcgm-exporter-qkjnc                                    &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1     Running     &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          39s
pod/nvidia-dcgm-exporter-svv84                                    &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1     Running     &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          34s
pod/nvidia-dcgm-exporter-x227h                                    &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1     Running     &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          44s
pod/nvidia-device-plugin-daemonset-8hgf8                          &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1     Running     &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          34s
pod/nvidia-device-plugin-daemonset-pjnpm                          &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1     Running     &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          42s
pod/nvidia-device-plugin-daemonset-vqj4w                          &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1     Running     &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          28s
pod/nvidia-device-plugin-validator-hmfmf                          &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;/1     Completed   &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          6h26m
pod/nvidia-device-plugin-validator-kwn7s                          &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;/1     Completed   &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          6h26m
pod/nvidia-device-plugin-validator-nzhgr                          &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;/1     Completed   &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          6h26m
pod/nvidia-operator-validator-6w7bn                               &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1     Running     &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          6h26m
pod/nvidia-operator-validator-n5w2q                               &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1     Running     &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          6h26m
pod/nvidia-operator-validator-tlj27                               &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1     Running     &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          6h26m

NAME                                                 TYPE        CLUSTER-IP      EXTERNAL-IP   PORT&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;S&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;    AGE
service/gpu-operator                                 ClusterIP   &lt;span class=&quot;token number&quot;&gt;10.233&lt;/span&gt;.14.169   &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;none&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;        &lt;span class=&quot;token number&quot;&gt;8080&lt;/span&gt;/TCP   6h26m
service/gpu-operator-node-feature-discovery-master   ClusterIP   &lt;span class=&quot;token number&quot;&gt;10.233&lt;/span&gt;.22.56    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;none&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;        &lt;span class=&quot;token number&quot;&gt;8080&lt;/span&gt;/TCP   6h27m
service/nvidia-dcgm-exporter                         ClusterIP   &lt;span class=&quot;token number&quot;&gt;10.233&lt;/span&gt;.42.33    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;none&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;        &lt;span class=&quot;token number&quot;&gt;9400&lt;/span&gt;/TCP   6h26m

NAME                                                        DESIRED   CURRENT   READY   UP-TO-DATE   AVAILABLE   NODE SELECTOR                                      AGE
daemonset.apps/gpu-feature-discovery                        &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;         &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;         &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;       &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;            &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;           nvidia.com/gpu.deploy.gpu-feature-discovery&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;true   6h26m
daemonset.apps/gpu-operator-node-feature-discovery-worker   &lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt;         &lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt;         &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;       &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;            &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;           &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;none&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;                                             6h27m
daemonset.apps/nvidia-container-toolkit-daemonset           &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;         &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;         &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;       &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;            &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;           nvidia.com/gpu.deploy.container-toolkit&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;true       6h26m
daemonset.apps/nvidia-dcgm-exporter                         &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;         &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;         &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;       &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;            &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;           nvidia.com/gpu.deploy.dcgm-exporter&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;true           6h26m
daemonset.apps/nvidia-device-plugin-daemonset               &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;         &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;         &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;       &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;            &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;           nvidia.com/gpu.deploy.device-plugin&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;true           6h26m
daemonset.apps/nvidia-operator-validator                    &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;         &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;         &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;       &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;            &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;           nvidia.com/gpu.deploy.operator-validator&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;true      6h26m

NAME                                                         READY   UP-TO-DATE   AVAILABLE   AGE
deployment.apps/gpu-operator                                 &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1     &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;            &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;           6h27m
deployment.apps/gpu-operator-node-feature-discovery-master   &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1     &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;            &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;           6h27m

NAME                                                                    DESIRED   CURRENT   READY   AGE
replicaset.apps/gpu-operator-677fd4ff77                                 &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;         &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;         &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;       46s
replicaset.apps/gpu-operator-node-feature-discovery-master-856648b975   &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;         &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;         &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;       6h27m&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&quot;binpack-스케줄링으로-리소스-사용-효율화-하기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#binpack-%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81%EC%9C%BC%EB%A1%9C-%EB%A6%AC%EC%86%8C%EC%8A%A4-%EC%82%AC%EC%9A%A9-%ED%9A%A8%EC%9C%A8%ED%99%94-%ED%95%98%EA%B8%B0&quot; aria-label=&quot;binpack 스케줄링으로 리소스 사용 효율화 하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Binpack 스케줄링으로 리소스 사용 효율화 하기&lt;/h2&gt;&lt;h3 id=&quot;resource-fragmentation-문제&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#resource-fragmentation-%EB%AC%B8%EC%A0%9C&quot; aria-label=&quot;resource fragmentation 문제 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Resource Fragmentation 문제&lt;/h3&gt;&lt;p&gt;GPU를 사용하는 파드를 배포할 때 Default 스케줄러를 그대로 사용하면 문제가 될 수 있다.&lt;/p&gt;&lt;p&gt;먼저 GPU 리소스를 쓰는 파드 하나를 다음처럼 배포해보자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# pod-gpu-1.yaml&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; v1
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Pod
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; pod&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;gpu&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;containers&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; cuda&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;vector&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;add
    &lt;span class=&quot;token key atrule&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; k8s.gcr.io/cuda&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;vector&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;add&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;v0.1
    &lt;span class=&quot;token key atrule&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;sleep&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;100000&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;resources&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;limits&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;nvidia.com/gpu&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;restartPolicy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Never
  &lt;span class=&quot;token key atrule&quot;&gt;tolerations&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;effect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; NoSchedule
    &lt;span class=&quot;token key atrule&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; nvidia.com/gpu
    &lt;span class=&quot;token key atrule&quot;&gt;operator&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Exists&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl apply -f pod-gpu-1.yaml -n gpu-operator
pod/pod-gpu-1 created

$ kubectl get pods -o wide -n gpu-operator &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;grep&lt;/span&gt; pod-gpu
pod-gpu-1         &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1     Running   &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          8s      &lt;span class=&quot;token number&quot;&gt;10.233&lt;/span&gt;.100.157   node7    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;none&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;           &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;none&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;별 문제없이 잘 뜬다.&lt;/p&gt;&lt;p&gt;같은 파드 스펙을 이름만 바꿔 하나 더 배포해보자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# pod-gpu-2.yaml&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; pod&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;gpu&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl apply -f pod-gpu-2.yaml -n gpu-operator
pod/pod-gpu-2 created

$ kubectl get pods -o wide -n gpu-operator &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;grep&lt;/span&gt; pod-gpu
pod-gpu-2         &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1     Running   &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          5s      &lt;span class=&quot;token number&quot;&gt;10.233&lt;/span&gt;.97.186    node5    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;none&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;           &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;none&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;마찬가지로 별 문제없다.
그럼 대체 무엇이 문제가 될 수 있는걸까?&lt;/p&gt;&lt;p&gt;여기서 문제가 될 수 있는 부분은 &lt;code class=&quot;language-text&quot;&gt;pod-gpu-1&lt;/code&gt; 는 &lt;code class=&quot;language-text&quot;&gt;node7&lt;/code&gt;에, &lt;code class=&quot;language-text&quot;&gt;pod-gpu-2&lt;/code&gt; 는 &lt;code class=&quot;language-text&quot;&gt;node5&lt;/code&gt; 에 스케줄링되었다는 것이다.
GPU를 쓰는 파드가 여러 GPU 노드에 분산되어 스케줄링되었다.
이는 &amp;quot;Resource Fragmentation&amp;quot; 문제를 일으키는데, 쉽게 말해 클러스터 전체적으로 GPU 리소스가 남음에도 불구하고, 모두 분산되어 있어 쓸 수 없는 문제다.&lt;/p&gt;&lt;p&gt;예를 들어, 2개의 GPU 노드가 각각 4개 코어씩 가지고 있다고 하자.
현재 2개 코어를 쓰는 파드와 1개 코어를 쓰는 파드가 각 노드에 모두 배포되어 있다.
이 때 2개 코어를 쓰는 파드가 제출되었을 때, 이 파드는 스케줄링될 노드가 없다.
이 상황을 다음 그림이 보여준다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:335px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:73.64864864864865%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACzklEQVQ4y5WR6XIaVxBG5/2fIP/iyDZIiE0yO5YQi2yEBDMwgJAFZp0BAwOzsVpwUozjRJRTqUpXfdW3b/U99XVfgVex2+2d3OlbuIIjvJEp3ugEX2zi5EP9Pjii3bOO+l+H8G/ArrLgLDQjmDT5w2Py2xuLdz6TQMLkNDSn01/8P2C7b/M2oOEJG5z4dN6c67wL6HjCOif+Ka3OT4c79vv9kY6Ah4tDTLQluYJGvqSTF+fcSXPyok6+bJIr6oznmx/98N8OX0P5+8lBLwc/sFrCwmZnmrwslrwcsmmyW2+cerdaIez3P20f2z+Mv3POYFgW2+UaW5TRcwWMTwXsSg2zUMIsPGBLVaximeVz81eH/GoZy7bZWhbrRovv/RHb1oDNlzarSp1145nvqsKq/MS6N0D4MinTnJV5mko01QZKX2EwGNDr9TAM44g9Xqo0FzLtZZ2WWaM36qIoQxRVdbTdbhHiIw8R1U9cOyXTilAuykiSRPG+iKIoP35z/+KssKYXCI3eExv6SU7d3FWylEsVJFFELInYto1w2Qrx++c0F+0Q+W6CqlRHlmUkUWI4HP4F3Dl/0zBKuOQwJ4UUcTVIqfGZarnm9MuVCovFAiE985KzfNyYHnLNJNVSHblcRSxKDNVXwB08GkVSpptby09q5uVezlMV61Qk2ZEDvBqecz32kpp6yE683CofyA7CXHcDdLTnf0beQ332QOKbi9TYR1rzkB37yaqXpJULMv0Q1spAuNF8ZE0fcfWSwHOUiHJB2vRxpbvpWI2jHTaMItfGGVk9SKgTIdiK8HEaJGN7ycwDWBsDIa37uV36CfcjnNU+EupGyVlBUoaHrvV0BHw07rkyXNzoPs4fo5xWY8TUCzKWh7Tmx1obCLGvbuLdU5J9N1eKy8mJ7hnhr29pTetHIzf1KrdaiLtZgnsjyoMZpTCPkZ/FuJskWWws/gSNiUWRNJxRbAAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;1.png&quot; title=&quot;1.png&quot; src=&quot;/blog/static/8c68d837f77836db5abc973eafa368c5/c0051/1.png&quot; srcSet=&quot;/blog/static/8c68d837f77836db5abc973eafa368c5/12f09/1.png 148w,/blog/static/8c68d837f77836db5abc973eafa368c5/e4a3f/1.png 295w,/blog/static/8c68d837f77836db5abc973eafa368c5/c0051/1.png 335w&quot; sizes=&quot;(max-width: 335px) 100vw, 335px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;출처: &lt;a href=&quot;https://www.alibabacloud.com/blog/the-burgeoning-kubernetes-scheduling-system-part-3-binpack-scheduling-that-supports-batch-jobs_597321&quot;&gt;The Burgeoning Kubernetes Scheduling System – Part 3: Binpack Scheduling That Supports Batch Jobs&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;&lt;p&gt;만약 두 번째 노드의 1개 코어를 쓰는 GPU 파드가 첫 번째 노드로 스케줄링 되었다면,
두 번째 노드는 2개 코어가 남기 때문에, 2개 코어를 쓰는 파드는 이 두 번째 노드로 스케줄링 될 수 있었을 것이다.
이 상황을 다음 그림이 보여준다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:318px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:38.513513513513516%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB7klEQVQoz12Q2W6bQBSG547340F4mN7lqlkawzADXsCsNsaQVlXSRI1Up6qaxk5sRzZeEkDpBUL81SRSK/Xi09n/c3TIcKlC4E1VWDenGCxUDB9blT9TYU1OFWtySljiSIfqBXnf+izT3hK6va51e9Ww/goC3f4H6U5ddO9cDDdtRGuK/rwP/sOvwnUH0Yoqo0wj3cuBdKxfkyN6JTNnB8MvaubkjWYVoHYBw8v/QvRJAPotgL/sIFpraN86+HA1qJx5D6O1qow3KulehNIxvSZH2pXM+juYflmfGEXz7qDEwWEJ1heiBbhbgKQFQ5ozRBmDP6NInhnOCr2KtwzeVFO8GSXtc1861r+QI3ouM+cR3NvU3M0a7m6ED+5m4N4bZLQzMNpyJE/6K/GeY7Q1qijj8Gea4t9rxP2lS/Z3RuwbJg8WPQwf7TpaWc1400WcidgSuVdIWpoYP5voTR20bz0Eqx7S0qjGTwbCBVXCpU7CJZWCB5X496o8fuY4e+F1mHWa9k8X1r2NpOBIS46k5CBJYSLemxC/bH0doP9gIy2MKt4bCOZUCReUBHMq+TONeHeaHO8MUa/dhdWcXEZgkwCjXRtJ/nbYq2CSG/j4wvHpN3vblJtVLC78X3CqyWJRkpt1WhiN6BdzYl6ICfsHUHHshG+9nAoAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;2.png&quot; title=&quot;2.png&quot; src=&quot;/blog/static/42dce3690f759f62ff1f612fcf8c1bf9/cd2d9/2.png&quot; srcSet=&quot;/blog/static/42dce3690f759f62ff1f612fcf8c1bf9/12f09/2.png 148w,/blog/static/42dce3690f759f62ff1f612fcf8c1bf9/e4a3f/2.png 295w,/blog/static/42dce3690f759f62ff1f612fcf8c1bf9/cd2d9/2.png 318w&quot; sizes=&quot;(max-width: 318px) 100vw, 318px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;출처: &lt;a href=&quot;https://www.alibabacloud.com/blog/the-burgeoning-kubernetes-scheduling-system-part-3-binpack-scheduling-that-supports-batch-jobs_597321&quot;&gt;The Burgeoning Kubernetes Scheduling System – Part 3: Binpack Scheduling That Supports Batch Jobs&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;&lt;p&gt;이렇게 이미 사용 중인 노드로 (리소스가 허용가능하다면) 파드를 스케줄링 하는 방법을 &amp;quot;Binpack 스케줄링&amp;quot; 이라고 한다.
이 스케줄링 방법을 쓰면, 파드가 몇몇 노드들에 모이기 때문에 시스템적인 측면에서 안정성은 떨어지지만,
리소스가 차곡차곡 쌓이며 노드를 최대한으로 사용하므로, 리소스를 좀 더 효율적으로 사용할 수 있다.&lt;/p&gt;&lt;p&gt;기본적으로 쿠버네티스 스케줄러는 Binpack 스케줄링을 사용하지 않는다.
대신 &lt;code class=&quot;language-text&quot;&gt;LeastRequestedPriority&lt;/code&gt; 방식으로 스케줄링을 한다.
이는 예약된 리소스가 가장 적은 사용되는 노드에 파드를 스케줄링하는 방식으로, 결과적으로 전체 클러스터의 리소스가 모든 노드에 고르게 분배된다.
쿠버네티스 스케줄링 정책은 기본적으로 리소스 효율성보다는 안정성에 좀 더 손을 들어준 것이다.
일반적인 파드라면 대부분 항상 동작해야하고, 안정성이 중요하므로 나도 이게 맞다고 생각한다.&lt;/p&gt;&lt;p&gt;그러나 GPU를 쓰는 파드는 이런 일반적인 파드가 아니다.
GPU를 쓰는 파드는 주로 머신러닝 모델 훈련을 실행하거나 데이터를 전처리하는 파이프라인성 파드들이다.
즉 항상 동작해야하는 것이 아니라 &amp;quot;일시적&amp;quot;으로 동작하고 내려가는 특성이 있다.&lt;/p&gt;&lt;p&gt;따라서 GPU를 쓰는 파드는 안정성을 중시하는 쿠버네티스 기본 스케줄링 방식인 &lt;code class=&quot;language-text&quot;&gt;LeastRequestedPriority&lt;/code&gt; 보다 리소스 효율성을 중시하는 Binpack 방식으로 스케줄링되는게 더 잘 어울린다.&lt;/p&gt;&lt;p&gt;그럼 Binpack 방식으로 파드를 스케줄링 하려면 어떻게 해야할까?&lt;/p&gt;&lt;h3 id=&quot;스케줄러의-동작-과정-이해하기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%8A%A4%EC%BC%80%EC%A4%84%EB%9F%AC%EC%9D%98-%EB%8F%99%EC%9E%91-%EA%B3%BC%EC%A0%95-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0&quot; aria-label=&quot;스케줄러의 동작 과정 이해하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;스케줄러의 동작 과정 이해하기&lt;/h3&gt;&lt;p&gt;먼저 쿠버네티스 스케줄러가 파드를 노드에 어떻게 스케줄링하는지 그 과정에 대해 조금 알아볼 필요가 있다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:44.5945945945946%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC0ElEQVQozxXKW0hTARjA8c9LSJCl5lMjFSF6KHzoIYIiwZfwTainCKIsKF8SCknLNLK80crIFNfUqXPmFfKym3Nnzu3snLPL2aab286m03TzMpdKXuaZX/iH39sf7tRcB6nqKyyvAuxhJbi4ZyDFGPzGMBQVFULetTy4lX8Z8gsEcLvgKpz0uOEmlLTdS+qYLO3p1pR25+SeTQeA1KclhQlQ3f0iASZONgTEV8mbkRtJQsRkHWLipdzsM+nnMwRZ2amC7JxEwcWscxcAIC3s7wXDr/un162P6rfY4uaHd/MEp1Iy0hARoFpSCjLoSpiyUmqNxebRzzmcphHprI1ROdk/FjfjnfHpnZRPZ2e9lMccNLh1ypBfVfc3ZPLP+zw6X8Azvb9hssYiJBdZ1NRBWeeT58Lxijda29yByryI7EoUXTIJchYNcrteDERdqDbbcIRwoS24gO51+85ueJqMrrEop/1oDmwiv21BjDnwcJOcgtL2B5n1fa+v9MuHt/rl4zg4OcaL3pXHlWOy+FzYGWcDdJz2sHG9Y45nvCwyPuMaNysnoqsMzvucRy6fO74TImMLs6O45B4fhwZpFbR97k4dUPdsf++vxR9DDcffeoTYOtyEEkULdspPNKNE2XwsUTSjaKw1MiEro+zqt+ieros7tR/Rra/jZeJK1CnEE+D3L4BKq8q0LpNbrUQtdtLCI3NIxw8wYv6nsYHvIpv4L6NVvMTQxLcbG1FMtobC1nL1BlWMEXtF7Jh7ya+SJTGMKvB41z4GBKWBkYmhTHPAwPeRIuwzitDIaXCEkqJ0pgVlehGKlU3Yb+zAQVqMvYauvaBNSG06anDJ0ogr5ve4YvmEh2tK/Ldu0kLHoAg+CKtSLH5Tr2PJbLAHmSk2yBCETU1M0nJCx6oJdpEm7EFGaw8yRpojO5c9irKDDSO16lNMeW3DRJhTafbXDfTGwmTZf2vT5GJua/fdAAAAAElFTkSuQmCC&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;3.png&quot; title=&quot;3.png&quot; src=&quot;/blog/static/119c110736d4e01b37984d6d21160f12/fcda8/3.png&quot; srcSet=&quot;/blog/static/119c110736d4e01b37984d6d21160f12/12f09/3.png 148w,/blog/static/119c110736d4e01b37984d6d21160f12/e4a3f/3.png 295w,/blog/static/119c110736d4e01b37984d6d21160f12/fcda8/3.png 590w,/blog/static/119c110736d4e01b37984d6d21160f12/efc66/3.png 885w,/blog/static/119c110736d4e01b37984d6d21160f12/c83ae/3.png 1180w,/blog/static/119c110736d4e01b37984d6d21160f12/ad00e/3.png 1366w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;출처: &lt;a href=&quot;https://kubernetes.io/docs/concepts/scheduling-eviction/scheduling-framework/&quot;&gt;Kubernetes Documentation - Scheduling Framework&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;&lt;p&gt;구체적인 스케줄링 과정은 조금 복잡하지만, 여기서 이해해야할 핵심 과정만 간추리면 다음과 같다.&lt;/p&gt;&lt;p&gt;&lt;strong&gt;1. 필터링 (Filtering)&lt;/strong&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;클러스터 내 전체 노드 항목에서 파드를 스케줄링하기 적합하지 않은 노드들을 거르는 과정이다.&lt;/li&gt;&lt;li&gt;예를 들어 노드가 &lt;code class=&quot;language-text&quot;&gt;SchedulingDisabled&lt;/code&gt; 상태이거나, 파드를 스케줄링하기에 리소스가 부족한 상태라면, 이 노드는 스케줄링 대상에서 제외된다.&lt;/li&gt;&lt;li&gt;이 과정에서 걸리지지 않은 노드들은 최종적으로 스케줄링될 노드의 후보가 된다.&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;2. 스코어링 (Scoring)&lt;/strong&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;후보 노드들 중에서 어떤 노드에 배치해야할 지, 각 노드들의 점수를 매김으로써 최종적으로 스케줄링될 노드를 결정하는 과정이다.&lt;/li&gt;&lt;li&gt;점수를 매기는 방법은 스케줄링 정책에 따라 달라진다. (이 방법이 곧 스케줄링 정책이다.)&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;LeastRequestedPriority&lt;/code&gt; 이 스케줄링 기본 정책으로 쓰이고 있는 것이고, 만약 우리가 Binpack 방법을 사용하고 싶다면, 스코어링 관련 설정 값을 수정해야 한다.&lt;/li&gt;&lt;li&gt;노드를 스코어링하는 예시는 &lt;a href=&quot;https://kubernetes.io/docs/concepts/scheduling-eviction/resource-bin-packing/#node-scoring-for-capacity-allocation&quot;&gt;공식 문서&lt;/a&gt;를 참고하자.&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;3. 바인딩 (Binding)&lt;/strong&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;최종적으로 결정된 노드에 실제로 파드를 연결하는 과정이다.&lt;/li&gt;&lt;li&gt;바인딩 이후 etcd에 바인딩 정보를 저장하게 되면, Kubelet이 이를 읽어 실제로 바인딩하게 된다.&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;스케줄러 관련 설정 중 스코어링 정책을 수정해야 함을 알았다.
이렇게 스케줄러 관련 설정을 수정하여 내 입맛대로 스케줄러를 커스터마이징하는 것을 &amp;quot;스케줄러 확장&amp;quot; 한다라고 한다.
이제 스코어링 정책에 대해 스케줄러를 확장하고, 이를 배포하는 방법에 대해 알아보자.&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;스케줄러 동작 과정에 대해 좀 더 자세히 알고 싶다면 &lt;a href=&quot;https://netpple.github.io/docs/deepdive-into-kubernetes/k8s-scheduler&quot;&gt;NETPPLE 블로그 - kube-scheduler 글&lt;/a&gt;을 읽어보길 추천한다.&lt;/p&gt;&lt;/blockquote&gt;&lt;h3 id=&quot;스케줄러의-스코어링-정책-설정하기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%8A%A4%EC%BC%80%EC%A4%84%EB%9F%AC%EC%9D%98-%EC%8A%A4%EC%BD%94%EC%96%B4%EB%A7%81-%EC%A0%95%EC%B1%85-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0&quot; aria-label=&quot;스케줄러의 스코어링 정책 설정하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;스케줄러의 스코어링 정책 설정하기&lt;/h3&gt;&lt;p&gt;스케줄러를 확장하는 방법 중 하나는 &lt;code class=&quot;language-text&quot;&gt;KubeSchedulerConfiguration&lt;/code&gt; 오브젝트에서 플러그인을 조정하는 것이다.&lt;/p&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;KubeSchedulerConfiguration&lt;/code&gt; 오브젝트는 스케줄러의 설정 값을 담는다.
이 오브젝트는 다음처럼 생겼다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; kubescheduler.config.k8s.io/v1
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; KubeSchedulerConfiguration
&lt;span class=&quot;token key atrule&quot;&gt;profiles&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;schedulerName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; non&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;multipoint&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;scheduler
    &lt;span class=&quot;token key atrule&quot;&gt;plugins&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;score&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;enabled&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; MyPlugin
      &lt;span class=&quot;token key atrule&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;enabled&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; MyPlugin&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;조금 더 설명을 붙이면,&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;profiles&lt;/code&gt; 항목 안에 여러 개의 프로필이 들어갈 수 있다.&lt;/li&gt;&lt;li&gt;프로필 안에 &lt;code class=&quot;language-text&quot;&gt;schedulerName&lt;/code&gt; 으로 스케줄러 이름을 지정해줄 수 있다. 이는 쿠버네티스에 여러 개의 스케줄러를 띄울 때, 스케줄러 간 구분 값이 된다.&lt;/li&gt;&lt;li&gt;프로필 안의 &lt;code class=&quot;language-text&quot;&gt;plugins&lt;/code&gt; 항목에 플러그인을 추가하거나 삭제할 수 있다. 플러그인은 쿠버네티스에서 제공해주는 것들을 추가해도 되고, 자기가 직접 만든 뒤 추가해도 된다.&lt;/li&gt;&lt;/ul&gt;&lt;blockquote&gt;&lt;p&gt;쿠버네티스에서 제공해주는 플러그인들은 &lt;a href=&quot;https://kubernetes.io/docs/reference/scheduling/config/#scheduling-plugins&quot;&gt;공식 문서&lt;/a&gt;에서 확인할 수 있다.&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;스코어링 정책으로 Binpack 방법을 사용하기 위해 &lt;code class=&quot;language-text&quot;&gt;KubeSchedulerConfiguration&lt;/code&gt; 를 다음처럼 작성한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; kubescheduler.config.k8s.io/v1beta1
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; KubeSchedulerConfiguration
&lt;span class=&quot;token key atrule&quot;&gt;profiles&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;schedulerName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; gpu&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;binpack&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;scheduler
  &lt;span class=&quot;token key atrule&quot;&gt;plugins&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;score&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;enabled&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; RequestedToCapacityRatio
  &lt;span class=&quot;token key atrule&quot;&gt;pluginConfig&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; RequestedToCapacityRatio
    &lt;span class=&quot;token key atrule&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 
      &lt;span class=&quot;token key atrule&quot;&gt;shape&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;utilization&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;score&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;utilization&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;score&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;resources&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; nvidia.com/gpu
        &lt;span class=&quot;token key atrule&quot;&gt;weight&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; cpu
        &lt;span class=&quot;token key atrule&quot;&gt;weight&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; memory
        &lt;span class=&quot;token key atrule&quot;&gt;weight&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;leaderElection&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;leaderElect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean important&quot;&gt;false&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;조금 더 설명을 붙이면,&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;RequestedToCapacityRatio&lt;/code&gt; 는 &lt;a href=&quot;https://kubernetes.io/docs/concepts/scheduling-eviction/resource-bin-packing/#enabling-bin-packing-using-requestedtocapacityratio&quot;&gt;쿠버네티스에서 제공해주는 플러그인&lt;/a&gt; 중 하나다. 이 플러그인을 활성화한다.&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;RequestedToCapacityRatio&lt;/code&gt; 를 통해 리소스의 사용량에 따라 스코어링 결과를 계산할 수 있다.&lt;/li&gt;&lt;li&gt;인자로 &lt;code class=&quot;language-text&quot;&gt;shape&lt;/code&gt; 과 &lt;code class=&quot;language-text&quot;&gt;resources&lt;/code&gt; 두 가지가 있다.&lt;ul&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;shape&lt;/code&gt; 은 리소스 사용량이 곧 점수 몇점에 해당되는지에 대한 매핑 정보를 담는다. 여기서는 사용량이 0이면 0점으로, 사용량이 100이면 10점이 되도록 설정했다. 즉 사용량이 많은 노드가 높은 점수를 받아 최종적으로 스케줄링될 가능성이 더 높아진다.&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;resources&lt;/code&gt; 는 이러한 스코어링 정책을 어떤 리소스를 기준으로 가중치를 매길지에 대한 정보를 담는다. 우리는 GPU 리소스에 대해서만 비교할 것이므로, &lt;code class=&quot;language-text&quot;&gt;nvidia.com/gpu&lt;/code&gt; 에만 가중치 &lt;code class=&quot;language-text&quot;&gt;100&lt;/code&gt; 을 설정한다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;leaderElection&lt;/code&gt; 는 스케줄러 HA 구성을 위한 리더 선출에 참여하느냐에 대한 설정인데, 여기서 자세한 설명은 생략한다.&lt;/li&gt;&lt;/ul&gt;&lt;blockquote&gt;&lt;p&gt;스케줄러 설정에 대한 더 자세한 내용이 궁금하다면 &lt;a href=&quot;https://kubernetes.io/docs/reference/scheduling/config&quot;&gt;공식 문서&lt;/a&gt;를 읽어보길 추천한다.&lt;/p&gt;&lt;/blockquote&gt;&lt;h3 id=&quot;커스텀-스케줄러-만들고-배포하기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%BB%A4%EC%8A%A4%ED%85%80-%EC%8A%A4%EC%BC%80%EC%A4%84%EB%9F%AC-%EB%A7%8C%EB%93%A4%EA%B3%A0-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0&quot; aria-label=&quot;커스텀 스케줄러 만들고 배포하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;커스텀 스케줄러 만들고 배포하기&lt;/h3&gt;&lt;p&gt;위의 &lt;code class=&quot;language-text&quot;&gt;KubeSchedulerConfiguration&lt;/code&gt; 로 설정된 스케줄러를 배포해보자.&lt;/p&gt;&lt;p&gt;쿠버네티스에서 이미 사용 중인 기본 스케줄러를 수정한 뒤 재배포하는 방법도 있겠지만, 여기서는 별도의 스케줄러로 배포한다.
즉 쿠버네티스에 스케줄러가 2개가 배포되는 셈이다.&lt;/p&gt;&lt;p&gt;이렇게 하는 이유는 다음과 같다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;기본 스케줄러는 이미 동작 중이기 때문에, 작업 과정에서 혹시나 모를 사이드 이펙트를 최소화하기 위해서다.&lt;/li&gt;&lt;li&gt;GPU 스케줄러 자체를 애초에 기본 스케줄러와 분리하여 그 역할과 책임을 명확히 다르게 가져간다.&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;쿠버네티스 스케줄러를 배포하는 방법은 일반 파드를 배포하는 것과 다르지 않다.
파드 이미지로 &lt;code class=&quot;language-text&quot;&gt;registry.k8s.io/kube-scheduler:v1.22.5&lt;/code&gt; 를 사용하고, &lt;code class=&quot;language-text&quot;&gt;KubeSchedulerConfiguration&lt;/code&gt; 스펙을 가진 설정 파일을 사용한다.&lt;/p&gt;&lt;p&gt;다음처럼 스케줄러 배포를 위한 파일들을 작성한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;mkdir&lt;/span&gt; gpu-binpack-scheduler
$ &lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; gpu-binpack-scheduler&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# gpu-binpack-scheduler/configmap.yaml&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; v1
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ConfigMap
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; gpu&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;binpack&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;scheduler&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;config
  &lt;span class=&quot;token key atrule&quot;&gt;namespace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; kube&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;system
&lt;span class=&quot;token key atrule&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;gpu-binpack-scheduler-config.yaml&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token scalar string&quot;&gt;
    apiVersion: kubescheduler.config.k8s.io/v1beta1
    kind: KubeSchedulerConfiguration
    profiles:
    - schedulerName: gpu-binpack-scheduler
      plugins:
        score:
          enabled:
          - name: RequestedToCapacityRatio
      pluginConfig:
      - name: RequestedToCapacityRatio
        args: 
          shape:
          - utilization: 0
            score: 0
          - utilization: 100
            score: 10
          resources:
          - name: nvidia.com/gpu
            weight: 100
          - name: cpu
            weight: 1
          - name: memory
            weight: 1
    leaderElection:
      leaderElect: false&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# gpu-binpack-scheduler/serviceaccount.yaml&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; v1
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ServiceAccount
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; gpu&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;binpack&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;scheduler
  &lt;span class=&quot;token key atrule&quot;&gt;namespace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; kube&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;system&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# gpu-binpack-scheduler/rbac.yaml&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ClusterRole
&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; rbac.authorization.k8s.io/v1
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; gpu&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;binpack&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;scheduler
  &lt;span class=&quot;token key atrule&quot;&gt;namespace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; kube&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;system
&lt;span class=&quot;token key atrule&quot;&gt;rules&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;apiGroups&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;resources&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; configmaps
  &lt;span class=&quot;token key atrule&quot;&gt;verbs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; get
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; list
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; watch
&lt;span class=&quot;token punctuation&quot;&gt;---&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; rbac.authorization.k8s.io/v1
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ClusterRoleBinding
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; gpu&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;binpack&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;scheduler
  &lt;span class=&quot;token key atrule&quot;&gt;namespace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; kube&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;system
&lt;span class=&quot;token key atrule&quot;&gt;subjects&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ServiceAccount
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; gpu&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;binpack&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;scheduler
  &lt;span class=&quot;token key atrule&quot;&gt;namespace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; kube&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;system
&lt;span class=&quot;token key atrule&quot;&gt;roleRef&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ClusterRole
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; gpu&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;binpack&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;scheduler
  &lt;span class=&quot;token key atrule&quot;&gt;apiGroup&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; rbac.authorization.k8s.io
&lt;span class=&quot;token punctuation&quot;&gt;---&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; rbac.authorization.k8s.io/v1
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ClusterRoleBinding
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; gpu&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;binpack&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;scheduler&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;as&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;kube&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;scheduler
  &lt;span class=&quot;token key atrule&quot;&gt;namespace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; kube&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;system
&lt;span class=&quot;token key atrule&quot;&gt;subjects&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ServiceAccount
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; gpu&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;binpack&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;scheduler
  &lt;span class=&quot;token key atrule&quot;&gt;namespace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; kube&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;system
&lt;span class=&quot;token key atrule&quot;&gt;roleRef&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ClusterRole
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; system&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;kube&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;scheduler
  &lt;span class=&quot;token key atrule&quot;&gt;apiGroup&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; rbac.authorization.k8s.io
&lt;span class=&quot;token punctuation&quot;&gt;---&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; rbac.authorization.k8s.io/v1
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ClusterRoleBinding
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; gpu&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;binpack&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;scheduler&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;as&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;volume&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;scheduler
  &lt;span class=&quot;token key atrule&quot;&gt;namespace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; kube&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;system
&lt;span class=&quot;token key atrule&quot;&gt;subjects&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ServiceAccount
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; gpu&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;binpack&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;scheduler
  &lt;span class=&quot;token key atrule&quot;&gt;namespace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; kube&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;system
&lt;span class=&quot;token key atrule&quot;&gt;roleRef&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ClusterRole
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; system&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;volume&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;scheduler
  &lt;span class=&quot;token key atrule&quot;&gt;apiGroup&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; rbac.authorization.k8s.io&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# gpu-binpack-scheduler/deployment.yaml&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; apps/v1
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Deployment
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;labels&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;component&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; scheduler
    &lt;span class=&quot;token key atrule&quot;&gt;tier&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; control&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;plane
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; gpu&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;binpack&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;scheduler
  &lt;span class=&quot;token key atrule&quot;&gt;namespace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; kube&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;system
&lt;span class=&quot;token key atrule&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;selector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;matchLabels&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;component&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; scheduler
      &lt;span class=&quot;token key atrule&quot;&gt;tier&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; control&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;plane
  &lt;span class=&quot;token key atrule&quot;&gt;replicas&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;template&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;labels&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;component&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; scheduler
        &lt;span class=&quot;token key atrule&quot;&gt;tier&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; control&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;plane
    &lt;span class=&quot;token key atrule&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;nodeSelector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;node-role.kubernetes.io/control-plane&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;tolerations&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;node-role.kubernetes.io/master&amp;quot;&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;operator&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;Exists&amp;quot;&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;effect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;NoSchedule&amp;quot;&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;serviceAccountName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; gpu&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;binpack&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;scheduler
      &lt;span class=&quot;token key atrule&quot;&gt;containers&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; kube&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;scheduler
        &lt;span class=&quot;token key atrule&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; /usr/local/bin/kube&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;scheduler
        &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;authentication&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;kubeconfig=/etc/kubernetes/scheduler.conf
        &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;authorization&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;kubeconfig=/etc/kubernetes/scheduler.conf
        &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;config=/etc/kubernetes/gpu&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;binpack&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;scheduler/gpu&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;binpack&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;scheduler&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;config.yaml
        &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;kubeconfig=/etc/kubernetes/scheduler.conf
        &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;bind&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;address=0.0.0.0
        &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;port=0
        &lt;span class=&quot;token key atrule&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; registry.k8s.io/kube&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;scheduler&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;v1.22.5
        &lt;span class=&quot;token key atrule&quot;&gt;livenessProbe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;failureThreshold&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;httpGet&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token key atrule&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; /healthz
            &lt;span class=&quot;token key atrule&quot;&gt;port&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10259&lt;/span&gt;
            &lt;span class=&quot;token key atrule&quot;&gt;scheme&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; HTTPS
          &lt;span class=&quot;token key atrule&quot;&gt;initialDelaySeconds&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;periodSeconds&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;timeoutSeconds&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;15&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;startupProbe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;failureThreshold&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;30&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;httpGet&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token key atrule&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; /healthz
            &lt;span class=&quot;token key atrule&quot;&gt;port&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10259&lt;/span&gt;
            &lt;span class=&quot;token key atrule&quot;&gt;scheme&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; HTTPS
          &lt;span class=&quot;token key atrule&quot;&gt;initialDelaySeconds&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;periodSeconds&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;timeoutSeconds&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;15&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;resources&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;requests&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token key atrule&quot;&gt;cpu&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100m
        &lt;span class=&quot;token key atrule&quot;&gt;volumeMounts&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; config&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;volume
            &lt;span class=&quot;token key atrule&quot;&gt;mountPath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; /etc/kubernetes/gpu&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;binpack&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;scheduler
            &lt;span class=&quot;token key atrule&quot;&gt;readOnly&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean important&quot;&gt;true&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; kubeconfig
            &lt;span class=&quot;token key atrule&quot;&gt;mountPath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; /etc/kubernetes/scheduler.conf
            &lt;span class=&quot;token key atrule&quot;&gt;readOnly&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean important&quot;&gt;true&lt;/span&gt;  
      &lt;span class=&quot;token key atrule&quot;&gt;priorityClassName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; system&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;node&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;critical
      &lt;span class=&quot;token key atrule&quot;&gt;restartPolicy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Always
      &lt;span class=&quot;token key atrule&quot;&gt;hostNetwork&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean important&quot;&gt;false&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;hostPID&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean important&quot;&gt;false&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;volumes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; config&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;volume
          &lt;span class=&quot;token key atrule&quot;&gt;configMap&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; gpu&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;binpack&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;scheduler&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;config
        &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; kubeconfig
          &lt;span class=&quot;token key atrule&quot;&gt;hostPath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token key atrule&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; /etc/kubernetes/scheduler.conf
            &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; FileOrCreate&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;a href=&quot;https://kubernetes.io/docs/tasks/extend-kubernetes/configure-multiple-schedulers/&quot;&gt;공식 문서&lt;/a&gt;에 있는 내용을 따라했다.
내용을 봐도 &lt;code class=&quot;language-text&quot;&gt;KubeSchedulerConfiguration&lt;/code&gt; 를 Configmap에 넣어 파드에 마운트한 것 말고는 따로 특별한 것은 없다.&lt;/p&gt;&lt;p&gt;이제 이를 다음처럼 배포하자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl apply -f gpu-binpack-scheduler -n kube-system&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&quot;binpack-스케줄링-확인하기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#binpack-%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81-%ED%99%95%EC%9D%B8%ED%95%98%EA%B8%B0&quot; aria-label=&quot;binpack 스케줄링 확인하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Binpack 스케줄링 확인하기&lt;/h3&gt;&lt;p&gt;이제 의도한대로 잘 스케줄링이 되는지 확인해보자.&lt;/p&gt;&lt;p&gt;위에서 작성한 &lt;code class=&quot;language-text&quot;&gt;pod-gpu-1.yaml&lt;/code&gt; 을 다음처럼 수정한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# pod-gpu-1.yaml&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; v1
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Pod
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; pod&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;gpu&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;containers&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; cuda&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;vector&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;add
    &lt;span class=&quot;token key atrule&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; k8s.gcr.io/cuda&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;vector&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;add&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;v0.1
    &lt;span class=&quot;token key atrule&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;sleep&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;100000&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;resources&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;limits&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;nvidia.com/gpu&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;restartPolicy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Never
  &lt;span class=&quot;token key atrule&quot;&gt;tolerations&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;effect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; NoSchedule
    &lt;span class=&quot;token key atrule&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; nvidia.com/gpu
    &lt;span class=&quot;token key atrule&quot;&gt;operator&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Exists
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  &lt;span class=&quot;token key atrule&quot;&gt;schedulerName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; gpu&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;binpack&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;scheduler&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;주목할만한 부분은 &lt;code class=&quot;language-text&quot;&gt;schedulerName&lt;/code&gt; 이 추가되었다는 것이다.
&lt;code class=&quot;language-text&quot;&gt;schedulerName&lt;/code&gt; 의 값으로는 위에서 &lt;code class=&quot;language-text&quot;&gt;KubeSchedulerConfiguration&lt;/code&gt; 에서 정의한 &lt;code class=&quot;language-text&quot;&gt;schedulerName&lt;/code&gt; 을 작성해주었다.&lt;/p&gt;&lt;p&gt;이제 다음처럼 배포한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl apply -f pod-gpu-1.yaml -n kube-system
pod/pod-gpu-1 created

$ kubectl get pods -o wide &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;grep&lt;/span&gt; pod-gpu
pod-gpu-1         &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1     Running   &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          8s      &lt;span class=&quot;token number&quot;&gt;10.233&lt;/span&gt;.100.157   node7    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;none&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;           &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;none&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;node7&lt;/code&gt; 노드에 스케줄링 되었다.&lt;/p&gt;&lt;p&gt;같은 파드 스펙을 이름만 바꿔 하나 더 배포해보자.
이 때 우리가 의도한대로면, 이 파드도 &lt;code class=&quot;language-text&quot;&gt;node7&lt;/code&gt; 노드에 스케줄링 되어야 한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl apply -f pod-gpu-2.yaml -n kube-system
pod/pod-gpu-2 created

$ kubectl get pods -o wide &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;grep&lt;/span&gt; pod-gpu
pod-gpu-2         &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1     Running   &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          5s      &lt;span class=&quot;token number&quot;&gt;10.233&lt;/span&gt;.100.157   node7    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;none&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;           &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;none&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;node7&lt;/code&gt; 노드에 배포되었다.
GPU 리소스를 사용하는 다른 파드들을 배포해도 &lt;code class=&quot;language-text&quot;&gt;node7&lt;/code&gt; 노드에 리소스가 남는한 &lt;code class=&quot;language-text&quot;&gt;node7&lt;/code&gt; 노드로 스케줄링될 것이다.&lt;/p&gt;&lt;p&gt;이제 GPU 리소스를 클러스터 차원에서 좀 더 효율적으로 사용할 수 있게 되었다.&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;Binpack 스케줄링 구현을 위한 또 다른 방법으로 오픈소스인 &lt;a href=&quot;https://github.com/AliyunContainerService/gpushare-scheduler-extender&quot;&gt;gpushare-scheduler-extender&lt;/a&gt;
를 활용하는 방법도 있다.
이 오픈소스는 기존 플러그인을 활용하지 않고, 별도의 Device Plugin과 Extend Webhook 서버를 통해 GPU 리소스를 스케줄링 한다. (이 역시 스케줄러 확장 방법 중 하나다.)&lt;/p&gt;&lt;p&gt;다만 여기서는 외부 의존성을 되도록 최소화 하기 위해 오픈소스를 사용하지는 않았다.
위 링크의 README에 동작 과정에 대해 잘 설명되어 있으니, 관심있는 분은 살펴보면 좋을거 같다.&lt;/p&gt;&lt;/blockquote&gt;&lt;h2 id=&quot;opa로-code-classlanguage-textschedulernamecode-검증하기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#opa%EB%A1%9C-code-classlanguage-textschedulernamecode-%EA%B2%80%EC%A6%9D%ED%95%98%EA%B8%B0&quot; aria-label=&quot;opa로 code classlanguage textschedulernamecode 검증하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;OPA로 &lt;code class=&quot;language-text&quot;&gt;SchedulerName&lt;/code&gt; 검증하기&lt;/h2&gt;&lt;h3 id=&quot;code-classlanguage-textschedulernamecode-를-작성해주지-않는다면&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#code-classlanguage-textschedulernamecode-%EB%A5%BC-%EC%9E%91%EC%84%B1%ED%95%B4%EC%A3%BC%EC%A7%80-%EC%95%8A%EB%8A%94%EB%8B%A4%EB%A9%B4&quot; aria-label=&quot;code classlanguage textschedulernamecode 를 작성해주지 않는다면 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code class=&quot;language-text&quot;&gt;SchedulerName&lt;/code&gt; 를 작성해주지 않는다면&lt;/h3&gt;&lt;p&gt;지금까지의 작업도 꽤 괜찮지만, 한가지 걸리는게 있다.
파드 스펙에 매번 &lt;code class=&quot;language-text&quot;&gt;schedulerName: gpu-binpack-scheduler&lt;/code&gt; 를 작성해줘야한다는 것이다.
만약 이를 작성해주지 않으면 파드는 기본 스케줄러에 의해 스케줄링 되어 Binpack 스케줄링이 깨지게 되고, 다시 Resource Fragementation 문제가 발생하게 된다.
따라서 파드 스펙에 &lt;code class=&quot;language-text&quot;&gt;schedulerName: gpu-binpack-scheduler&lt;/code&gt; 는 &amp;quot;반드시&amp;quot; 작성되어야 한다.&lt;/p&gt;&lt;p&gt;클러스터 사용자에게 &amp;quot;파드 스펙을 작성하실 때 반드시 &lt;code class=&quot;language-text&quot;&gt;schedulerName: gpu-binpack-scheduler&lt;/code&gt; 를 붙여주세요.&amp;quot; 정도의 가이드는 해주겠지만, 모든 사용자가 이를 지키리라는 보장이 없다.
의도치 않게 실수로 제출될 가능성도 크다.&lt;/p&gt;&lt;p&gt;따라서 파드 스펙에 &lt;code class=&quot;language-text&quot;&gt;schedulerName: gpu-binpack-scheduler&lt;/code&gt; 이 작성되지 않는 경우, 아예 API Server 단에서 거절해야한다.
그러면 어떻게해야 거절하도록 할 수 있을까?&lt;/p&gt;&lt;h3 id=&quot;dynamic-admission-controller와-opa&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#dynamic-admission-controller%EC%99%80-opa&quot; aria-label=&quot;dynamic admission controller와 opa permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Dynamic Admission Controller와 OPA&lt;/h3&gt;&lt;p&gt;API Server로 제출된 파드를 확인하여 조건에 부합하는지, 그리고 추가로 더 주입해줄 부분은 없는지 확인하는 일은 Dynamic Admission Controller을 통해 가능하다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:37.16216216216216%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABPElEQVQoz4WQbUvDMBSF+/9/iIiIiJ/ED6KoU6egbmWbumlb19bZdmv6kvRl7SPtcDhUvBDOzc1zDkm0mlWlqsAJIuI0Q6QZH0IhkoxY5sxChcpLRKJwg5gsL4jSvGWaPkwaXpIVJVoqJVPLpPdssXc2ZGR5XOmv7Bz3uB6Y9CcOu6d9ph8LbgYGW0e3OL6gOzDZP+vj+iGXusFBZ0QQSbSqbu5YM48kuuHhiZSpJ+i9vGP7AvNdcKFP8cIUNxA8jF0SlTNxFhx2DWKZtfzQ8klVjsY/tYgL3CAjTIqN+TwqOO/Pf/BaXa9+sdHvq6pW80SW+GGOypbtfllVrfoip6MHP7x/BrZhqmBohejGgrEdUZTL9dnjm2D7xODJFhv+X5/8ZbJmgtP7F25GTquBkGtmYs85uZtgzqKNwE9ruhWNnpYI1QAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;4.png&quot; title=&quot;4.png&quot; src=&quot;/blog/static/09310f62603777824f6fd1a4bca23711/fcda8/4.png&quot; srcSet=&quot;/blog/static/09310f62603777824f6fd1a4bca23711/12f09/4.png 148w,/blog/static/09310f62603777824f6fd1a4bca23711/e4a3f/4.png 295w,/blog/static/09310f62603777824f6fd1a4bca23711/fcda8/4.png 590w,/blog/static/09310f62603777824f6fd1a4bca23711/efc66/4.png 885w,/blog/static/09310f62603777824f6fd1a4bca23711/c83ae/4.png 1180w,/blog/static/09310f62603777824f6fd1a4bca23711/9cea8/4.png 1278w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;출처: &lt;a href=&quot;https://kubernetes.io/blog/2019/03/21/a-guide-to-kubernetes-admission-controllers/&quot;&gt;쿠버네티스 공식 문서&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;&lt;p&gt;위 다이어그램에서 Mutating Admission Webhook과 Validation Admission Webhook이 Dynamic Admission Controller이라고 보면 된다.&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;Dynamic Admission Controller에 대한 자세한 내용은 &lt;a href=&quot;https://coffeewhale.com/kubernetes/admission-control/2021/04/28/opa1/&quot;&gt;커피고래님 블로그 - 쿠버네티스 Admission Control #1&lt;/a&gt;를 참고하고,
여기서는 이런 역할을 하는게 Dynamic Admission Controller라는 것 정도만 알아두자.&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;Dynamic Admission Controller를 구현하려면 결국 코딩을 해야하는데, 이걸 쉽고 확장성있게 할 수 있도록 돕는 프레임워크가 바로 &lt;a href=&quot;https://www.openpolicyagent.org/&quot;&gt;OPA(Open Policy Agent)&lt;/a&gt;다.&lt;/p&gt;&lt;p&gt;OPA는 Rego 스크립트라는 언어로 허용/불가에 대한 규칙을 정할 수 있는데, 특정 플랫폼 (쿠버네티스, 클라우드 등)에 국한되지 않고 범용적으로 사용할 수 있다.
예를 들어, Rego 스크립트로 작성한 규칙을 쿠버네티스, 파이썬, 테라폼 등등에 통합하여 사용할 수 있다.&lt;/p&gt;&lt;p&gt;이렇듯 OPA는 &amp;quot;정책 작성을 위한 프레임워크&amp;quot; 정도로 이해하면 된다.&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;OPA에 대한 자세한 내용은 다음 두 글을 읽어보기를 추천한다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://coffeewhale.com/kubernetes/admission-control/2021/05/04/opa2/&quot;&gt;커피고래님 블로그 - 쿠버네티스 Admission Control #2 - Open Policy Agent&lt;/a&gt;와&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://coffeewhale.com/opa3&quot;&gt;쿠버네티스 Admission Control #3 - Open Policy Agent 적용&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;위 두 글을 읽고나면 앞으로 나올 Rego 스크립트를 조금 더 잘 이해할 수 있을 것이다.&lt;/p&gt;&lt;/blockquote&gt;&lt;h3 id=&quot;validation-admission-webhook을-위한-rego-스크립트&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#validation-admission-webhook%EC%9D%84-%EC%9C%84%ED%95%9C-rego-%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8&quot; aria-label=&quot;validation admission webhook을 위한 rego 스크립트 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Validation Admission Webhook을 위한 Rego 스크립트&lt;/h3&gt;&lt;p&gt;우리는 파드 스펙에 &lt;code class=&quot;language-text&quot;&gt;schedulerName: gpu-binpack-scheduler&lt;/code&gt; 이 작성되지 않는 경우, 이를 거절해야한다고 했다.
이러한 일은 Validation Admission Webhook에서 담당하면 될 것이고, 이 Webhook 내 규칙은 OPA의 Rego 스크립트를 통해 구현할 수 있을 것이다.&lt;/p&gt;&lt;p&gt;Rego 스크립트를 다음처럼 작성한다.
(여기서는 현시점 OPA의 가장 최근 버전인 &lt;code class=&quot;language-text&quot;&gt;v0.44.0&lt;/code&gt; 를 기준으로 작성한다.)&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ mkdir opa
$ cd opa&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;rego&quot;&gt;&lt;pre class=&quot;language-rego&quot;&gt;&lt;code class=&quot;language-rego&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# opa/main.rego&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;package&lt;/span&gt; system

&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; future&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;keywords&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;in

main &lt;span class=&quot;token operator&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&amp;quot;apiVersion&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;admission.k8s.io/v1&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&amp;quot;kind&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;AdmissionReview&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&amp;quot;response&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; uid &lt;span class=&quot;token operator&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;

uid &lt;span class=&quot;token operator&quot;&gt;:=&lt;/span&gt; input&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;request&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;uid

response &lt;span class=&quot;token operator&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&amp;quot;allowed&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&amp;quot;uid&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; uid&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&amp;quot;status&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&amp;quot;message&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; reason&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    reason &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;concat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;, &amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; deny&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    reason &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token property&quot;&gt;&amp;quot;allowed&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token property&quot;&gt;&amp;quot;uid&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; uid&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;has_key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; k&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; x&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;k&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;deny&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;msg&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  input&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;request&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;operation &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;CREATE&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  input&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;request&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;kind&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;kind &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;Pod&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  &lt;span class=&quot;token keyword&quot;&gt;some&lt;/span&gt; container in input&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;request&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;spec&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;containers&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  &lt;span class=&quot;token function&quot;&gt;has_key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;container&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;resources&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;limits&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;nvidia.com/gpu&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  &lt;span class=&quot;token keyword&quot;&gt;not&lt;/span&gt; input&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;request&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;spec&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;schedulerName&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  msg &lt;span class=&quot;token operator&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;spec.schedulerName value must be `gpu-binpack-scheduler` when you use nvidia.com/gpu&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;deny&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;msg&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  input&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;request&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;operation &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;CREATE&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  input&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;request&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;kind&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;kind &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;Pod&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  &lt;span class=&quot;token keyword&quot;&gt;some&lt;/span&gt; container in input&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;request&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;spec&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;containers&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  &lt;span class=&quot;token function&quot;&gt;has_key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;container&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;resources&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;limits&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;nvidia.com/gpu&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  input&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;request&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;spec&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;schedulerName &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;gpu-binpack-scheduler&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  msg &lt;span class=&quot;token operator&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;spec.schedulerName value must be `gpu-binpack-scheduler` when you use nvidia.com/gpu&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;규칙을 정의한 부분에 대해서만 좀 더 설명하면&lt;/p&gt;&lt;ul&gt;&lt;li&gt;파드 생성이 제출되었을 때,&lt;/li&gt;&lt;li&gt;파드 내 &lt;code class=&quot;language-text&quot;&gt;nvidia.com/gpu&lt;/code&gt; 리소스를 사용하는 컨테이너가 있고, &lt;ul&gt;&lt;li&gt;파드 스펙 내 &lt;code class=&quot;language-text&quot;&gt;schedulerName&lt;/code&gt; 이 정의되어 있지 않다면&lt;/li&gt;&lt;li&gt;또는 &lt;code class=&quot;language-text&quot;&gt;schedulerName&lt;/code&gt; 이 정의되어 있지만 그 값이 &lt;code class=&quot;language-text&quot;&gt;gpu-binpack-scheduler&lt;/code&gt; 이 아니라면&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;이 제출은 에러 메시지와 함께 거절한다.&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;쉽게 말해, GPU 리소스를 쓰는 컨테이너가 파드 내에 포함되어 있다면 &lt;code class=&quot;language-text&quot;&gt;schedulerName: gpu-binpack-scheduler&lt;/code&gt; 이 반드시 파드 스펙에 있어야
정상적으로 제출된다는 것이다.&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;파드 생성에 대한 Rego 스크립트 결과는 다음 &lt;a href=&quot;https://play.openpolicyagent.org/p/ACVmOnT1i4&quot;&gt;Rego Playgroud&lt;/a&gt;에서 확인할 수 있다.&lt;/p&gt;&lt;/blockquote&gt;&lt;h3 id=&quot;opa-배포하기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#opa-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0&quot; aria-label=&quot;opa 배포하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;OPA 배포하기&lt;/h3&gt;&lt;p&gt;위 Rego 스크립트를 포함하여 OPA를 배포해보자.&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;배포 과정에 대한 자세한 설명은 &lt;a href=&quot;https://www.openpolicyagent.org/docs/latest/kubernetes-tutorial/&quot;&gt;공식 문서&lt;/a&gt;를 참고하자.
여기서는 그저 공식 문서에 나온대로 따라간다.&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;OPA를 배포할 네임스페이스를 다음처럼 생성한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl create namespace opa&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;위에서 생성한 &lt;code class=&quot;language-text&quot;&gt;opa&lt;/code&gt; 디렉토리에서 다음처럼 TLS 인증서를 만들어둔다. &lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# Communication between Kubernetes and OPA must be secured using TLS. &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# To configure TLS, use openssl to create a certificate authority (CA) and certificate/key pair for OPA&lt;/span&gt;
$ openssl genrsa -out ca.key &lt;span class=&quot;token number&quot;&gt;2048&lt;/span&gt;
$ openssl req -x509 -new -nodes -sha256 -key ca.key -days &lt;span class=&quot;token number&quot;&gt;100000&lt;/span&gt; -out ca.crt -subj &lt;span class=&quot;token string&quot;&gt;&amp;quot;/CN=admission_ca&amp;quot;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;# Generate the TLS key and certificate for OPA:&lt;/span&gt;
$ &lt;span class=&quot;token function&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;server.conf &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;EOF
[ req ]
prompt = no
req_extensions = v3_ext
distinguished_name = dn

[ dn ]
CN = opa.opa.svc

[ v3_ext ]
basicConstraints = CA:FALSE
keyUsage = nonRepudiation, digitalSignature, keyEncipherment
extendedKeyUsage = clientAuth, serverAuth
subjectAltName = DNS:opa.opa.svc,DNS:opa.opa.svc.cluster,DNS:opa.opa.svc.cluster.local
EOF&lt;/span&gt;

$ openssl genrsa -out server.key &lt;span class=&quot;token number&quot;&gt;2048&lt;/span&gt;
$ openssl req -new -key server.key -sha256 -out server.csr -extensions v3_ext -config server.conf
$ openssl x509 -req -in server.csr -sha256 -CA ca.crt -CAkey ca.key -CAcreateserial -out server.crt -days &lt;span class=&quot;token number&quot;&gt;100000&lt;/span&gt; -extensions v3_ext -extfile server.conf&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;다음처럼 TLS 인증서를 클러스터에 배포한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl create secret tls opa-server --cert&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;server.crt --key&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;server.key --namespace opa&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;다음처럼 OPA Deployment와 연관된 리소스를 작성한 뒤 배포한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# opa/admission-controller.yaml&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;# Grant OPA/kube-mgmt read-only access to resources. This lets kube-mgmt&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# replicate resources into OPA so they can be used in policies.&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ClusterRoleBinding
&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; rbac.authorization.k8s.io/v1
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; opa&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;viewer
&lt;span class=&quot;token key atrule&quot;&gt;roleRef&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ClusterRole
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; view
  &lt;span class=&quot;token key atrule&quot;&gt;apiGroup&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; rbac.authorization.k8s.io
&lt;span class=&quot;token key atrule&quot;&gt;subjects&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Group
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; system&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;serviceaccounts&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;opa
  &lt;span class=&quot;token key atrule&quot;&gt;apiGroup&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; rbac.authorization.k8s.io
&lt;span class=&quot;token punctuation&quot;&gt;---&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# Define role for OPA/kube-mgmt to update configmaps with policy status.&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Role
&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; rbac.authorization.k8s.io/v1
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;namespace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; opa
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; configmap&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;modifier
&lt;span class=&quot;token key atrule&quot;&gt;rules&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;apiGroups&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;resources&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;configmaps&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;verbs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;update&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;patch&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;---&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# Grant OPA/kube-mgmt role defined above.&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; RoleBinding
&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; rbac.authorization.k8s.io/v1
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;namespace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; opa
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; opa&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;configmap&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;modifier
&lt;span class=&quot;token key atrule&quot;&gt;roleRef&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Role
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; configmap&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;modifier
  &lt;span class=&quot;token key atrule&quot;&gt;apiGroup&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; rbac.authorization.k8s.io
&lt;span class=&quot;token key atrule&quot;&gt;subjects&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Group
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; system&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;serviceaccounts&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;opa
  &lt;span class=&quot;token key atrule&quot;&gt;apiGroup&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; rbac.authorization.k8s.io
&lt;span class=&quot;token punctuation&quot;&gt;---&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Service
&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; v1
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; opa
  &lt;span class=&quot;token key atrule&quot;&gt;namespace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; opa
&lt;span class=&quot;token key atrule&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;selector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; opa
  &lt;span class=&quot;token key atrule&quot;&gt;ports&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; https
    &lt;span class=&quot;token key atrule&quot;&gt;protocol&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; TCP
    &lt;span class=&quot;token key atrule&quot;&gt;port&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;443&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;targetPort&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;8443&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;---&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; apps/v1
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Deployment
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;labels&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; opa
  &lt;span class=&quot;token key atrule&quot;&gt;namespace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; opa
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; opa
&lt;span class=&quot;token key atrule&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;replicas&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;selector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;matchLabels&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; opa
  &lt;span class=&quot;token key atrule&quot;&gt;template&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;labels&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; opa
      &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; opa
    &lt;span class=&quot;token key atrule&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;containers&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;# WARNING: OPA is NOT running with an authorization policy configured. This&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;# means that clients can read and write policies in OPA. If you are&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;# deploying OPA in an insecure environment, be sure to configure&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;# authentication and authorization on the daemon. See the Security page for&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;# details: https://www.openpolicyagent.org/docs/security.html.&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; opa
          &lt;span class=&quot;token key atrule&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; openpolicyagent/opa&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;0.44.0&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;rootless
          &lt;span class=&quot;token key atrule&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;run&amp;quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;--server&amp;quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;--tls-cert-file=/certs/tls.crt&amp;quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;--tls-private-key-file=/certs/tls.key&amp;quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;--addr=0.0.0.0:8443&amp;quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;--addr=http://127.0.0.1:8181&amp;quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;--log-format=json-pretty&amp;quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;--set=status.console=true&amp;quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;--set=decision_logs.console=true&amp;quot;&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;volumeMounts&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;readOnly&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean important&quot;&gt;true&lt;/span&gt;
              &lt;span class=&quot;token key atrule&quot;&gt;mountPath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; /certs
              &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; opa&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;server
          &lt;span class=&quot;token key atrule&quot;&gt;readinessProbe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token key atrule&quot;&gt;httpGet&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
              &lt;span class=&quot;token key atrule&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; /health&lt;span class=&quot;token punctuation&quot;&gt;?&lt;/span&gt;plugins&lt;span class=&quot;token important&quot;&gt;&amp;amp;bundle&lt;/span&gt;
              &lt;span class=&quot;token key atrule&quot;&gt;scheme&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; HTTPS
              &lt;span class=&quot;token key atrule&quot;&gt;port&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;8443&lt;/span&gt;
            &lt;span class=&quot;token key atrule&quot;&gt;initialDelaySeconds&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;
            &lt;span class=&quot;token key atrule&quot;&gt;periodSeconds&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;livenessProbe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token key atrule&quot;&gt;httpGet&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
              &lt;span class=&quot;token key atrule&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; /health
              &lt;span class=&quot;token key atrule&quot;&gt;scheme&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; HTTPS
              &lt;span class=&quot;token key atrule&quot;&gt;port&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;8443&lt;/span&gt;
            &lt;span class=&quot;token key atrule&quot;&gt;initialDelaySeconds&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;
            &lt;span class=&quot;token key atrule&quot;&gt;periodSeconds&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; kube&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;mgmt
          &lt;span class=&quot;token key atrule&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; openpolicyagent/kube&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;mgmt&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;2.0.1
          &lt;span class=&quot;token key atrule&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;--replicate-cluster=v1/namespaces&amp;quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;--replicate=networking.k8s.io/v1/ingresses&amp;quot;&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;volumes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; opa&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;server
          &lt;span class=&quot;token key atrule&quot;&gt;secret&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token key atrule&quot;&gt;secretName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; opa&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;server&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl apply -f admission-controller.yaml -n opa&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;다음처럼 OPA Webhook 서버를 AdmissionController의 ValidatingWebhook에 등록해야 한다.
이를 위해 &lt;code class=&quot;language-text&quot;&gt;ValidatingWebhookConfiguration&lt;/code&gt; 오브젝트도 다음처럼 작성한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# opa/webhook-configuration.yaml&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ValidatingWebhookConfiguration
&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; admissionregistration.k8s.io/v1
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; opa&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;validating&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;webhook
&lt;span class=&quot;token key atrule&quot;&gt;webhooks&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; validating&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;webhook.openpolicyagent.org
    &lt;span class=&quot;token key atrule&quot;&gt;namespaceSelector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;matchExpressions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; openpolicyagent.org/webhook
        &lt;span class=&quot;token key atrule&quot;&gt;operator&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; NotIn
        &lt;span class=&quot;token key atrule&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; ignore
    &lt;span class=&quot;token key atrule&quot;&gt;rules&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;operations&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;CREATE&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;UPDATE&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;apiGroups&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;apiVersions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;v1&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;resources&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;pods&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;clientConfig&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;caBundle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;...&amp;quot;&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;service&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;namespace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; opa
        &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; opa
    &lt;span class=&quot;token key atrule&quot;&gt;admissionReviewVersions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;v1&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;sideEffects&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; None&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;이 때 위에서 생략한 &lt;code class=&quot;language-text&quot;&gt;caBundle&lt;/code&gt; 값은 다음처럼 얻을 수 있다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token builtin class-name&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;cat&lt;/span&gt; ca.crt &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; base64 &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;tr&lt;/span&gt; -d &lt;span class=&quot;token string&quot;&gt;&amp;#x27;\n&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;kube-system&lt;/code&gt; 과 &lt;code class=&quot;language-text&quot;&gt;opa&lt;/code&gt; 네임스페이스에 한해서는 OPA의 Validation 기능을 꺼두도록 하자.
이를 위해서는 다음처럼 네임스페이스에 라벨을 추가해주면 된다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl label ns kube-system openpolicyagent.org/webhook&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;ignore
$ kubectl label ns opa openpolicyagent.org/webhook&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;ignore&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;이제 작성한 &lt;code class=&quot;language-text&quot;&gt;ValidatingWebhookConfiguration&lt;/code&gt; 를 다음처럼 배포하자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl apply -f webhook-configuration.yaml -n opa&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;이제 마지막이다.
위에서 작성한 &lt;code class=&quot;language-text&quot;&gt;main.rego&lt;/code&gt; 를 컨피그맵으로 배포한 뒤, OPA 서버가 이를 읽어갈 수 있게 라벨을 추가한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl create cm main -n opa --from-file&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;main.rego 
$ kubectl label  cm main -n opa openpolicyagent.org/policy&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;rego &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;&lt;p&gt;Rego 스크립트에 문제가 없다면, 다음처럼 컨피그맵 조회 시 &lt;code class=&quot;language-text&quot;&gt;annotations&lt;/code&gt; 내 &lt;code class=&quot;language-text&quot;&gt;openpolicyagent.org/policy-status&lt;/code&gt; 값이 &lt;code class=&quot;language-text&quot;&gt;&amp;#x27;{&amp;quot;status&amp;quot;:&amp;quot;ok&amp;quot;}&amp;#x27;&lt;/code&gt; 이 되어 있는 것을 볼 수 있다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl get cm main -o yaml

kind: ConfigMap
metadata:
  annotations:
    openpolicyagent.org/policy-status: &lt;span class=&quot;token string&quot;&gt;&amp;#x27;{&amp;quot;status&amp;quot;:&amp;quot;ok&amp;quot;}&amp;#x27;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;h3 id=&quot;작동-확인하기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%9E%91%EB%8F%99-%ED%99%95%EC%9D%B8%ED%95%98%EA%B8%B0&quot; aria-label=&quot;작동 확인하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;작동 확인하기&lt;/h3&gt;&lt;p&gt;OPA Webhook이 잘 작동하는지 확인해보자.&lt;/p&gt;&lt;p&gt;다음처럼 GPU 리소스를 사용하며, 스펙에 &lt;code class=&quot;language-text&quot;&gt;ScheculerName&lt;/code&gt; 을 작성하지 않은 파드를 제출한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# pod-gpu-3.yaml&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; v1
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Pod
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; pod&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;gpu&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;containers&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; cuda&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;vector&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;add
    &lt;span class=&quot;token key atrule&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; k8s.gcr.io/cuda&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;vector&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;add&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;v0.1
    &lt;span class=&quot;token key atrule&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;sleep&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;100000&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;resources&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;limits&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;nvidia.com/gpu&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;restartPolicy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Never
  &lt;span class=&quot;token key atrule&quot;&gt;tolerations&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;effect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; NoSchedule
    &lt;span class=&quot;token key atrule&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; nvidia.com/gpu
    &lt;span class=&quot;token key atrule&quot;&gt;operator&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Exists
&lt;span class=&quot;token comment&quot;&gt;#  schedulerName: gpu-binpack-scheduler&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl create ns &lt;span class=&quot;token builtin class-name&quot;&gt;test&lt;/span&gt;
$ kubectl apply -f pod-gpu-1.yaml -n &lt;span class=&quot;token builtin class-name&quot;&gt;test&lt;/span&gt;

Error from server: error when creating &lt;span class=&quot;token string&quot;&gt;&amp;quot;pod-gpu-1.yaml&amp;quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; admission webhook &lt;span class=&quot;token string&quot;&gt;&amp;quot;validating-webhook.openpolicyagent.org&amp;quot;&lt;/span&gt; denied the request: spec.schedulerName value must be &lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;gpu-binpack-scheduler&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;/span&gt; when you use nvidia.com/gpu&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;위처럼 에러 메시지와 함께 파드 제출이 거절되는 것을 볼 수 있다.
또, &lt;code class=&quot;language-text&quot;&gt;schedulerName&lt;/code&gt; 이 &lt;code class=&quot;language-text&quot;&gt;gpu-binpack-scheduler&lt;/code&gt; 이 아닌 경우에도 위와 같은 에러를 내는 것을 확인할 수 있다.&lt;/p&gt;&lt;p&gt;이제 사용자는 파드 스펙에 &lt;code class=&quot;language-text&quot;&gt;schedulerName: gpu-binpack-scheduler&lt;/code&gt; 를 반드시 붙여주어야 정상적인 파드 제출이 가능하게 되었다.&lt;/p&gt;&lt;h2 id=&quot;리소스-모니터링하기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%A6%AC%EC%86%8C%EC%8A%A4-%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81%ED%95%98%EA%B8%B0&quot; aria-label=&quot;리소스 모니터링하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;리소스 모니터링하기&lt;/h2&gt;&lt;h3 id=&quot;prometheus와-grafana-배포하기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#prometheus%EC%99%80-grafana-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0&quot; aria-label=&quot;prometheus와 grafana 배포하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Prometheus와 Grafana 배포하기&lt;/h3&gt;&lt;p&gt;GPU 사용량 등의 Metric을 모니터링하기 위해 Prometheus와 Grafana를 사용할 것이다.
(정확히 말하면 Prometheus Operator를 사용할 것이다.)&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;Prometheus와 Grafana는 여기서 다루기에 너무 큰 주제라, 여기서는 이 둘에 대해 별도로 설명하지는 않는다.
만약 처음 들어보시는 분이라면, 구글링해서 찾아보시길 추천한다. 검색하면 입문자들이 읽어볼만한 좋은 글들이 많이 나온다.&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;먼저 클러스터에 Prometheus와 Grafana를 배포해야한다.
만약 이미 클러스터에 배포된 상태라면 이 내용은 패스해도 좋다.&lt;/p&gt;&lt;p&gt;이 둘을 배포하는 가장 쉬운 방법 중 하나는 &lt;code class=&quot;language-text&quot;&gt;kube-prometheus-stack&lt;/code&gt; Helm Chart를 배포하는 것이다.&lt;/p&gt;&lt;p&gt;다음처럼 Helm Chart를 받아온다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ helm repo &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt; prometheus-community https://prometheus-community.github.io/helm-charts
$ helm repo update
$ helm pull prometheus-community/kube-prometheus-stack --untar
$ &lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; kube-prometheus-stack&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;내가 받은 Chart의 버전은 &lt;code class=&quot;language-text&quot;&gt;40.1.2&lt;/code&gt; 이다.
Chart 버전에 내용이 달라질 수 있음을 인지해두자.&lt;/p&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;values.yaml&lt;/code&gt; 에서 다음 파라미터들을 수정한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;prometheus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;prometheusSpec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;serviceMonitorSelectorNilUsesHelmValues&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean important&quot;&gt;false&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;podMonitorSelectorNilUsesHelmValues&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean important&quot;&gt;false&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;이 값을 &lt;code class=&quot;language-text&quot;&gt;false&lt;/code&gt; 로 두면, 다른 네임스페이스에 존재하는 &lt;code class=&quot;language-text&quot;&gt;ServiceMonitor&lt;/code&gt; 오브젝트들도 이 Prometheus 오브젝트에서 관리하게 된다.
(이 값이 &lt;code class=&quot;language-text&quot;&gt;true&lt;/code&gt; 면 별도의 라벨링을 추가해야 한다.)&lt;/p&gt;&lt;p&gt;이제 Chart를 다음처럼 배포한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ helm &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; kube-prometheus-stack kube-prometheus-stack -n kube-prometheus-stack --create-namespace&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;성공적으로 배포했다면, 다음과 같은 리소스들이 배포된다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ kubectl get all -n kube-prometheus-stack
             
NAME                                                           READY   STATUS    RESTARTS   AGE
pod/alertmanager-kube-prometheus-stack-alertmanager-0          2/2     Running   0          29s
pod/kube-prometheus-stack-grafana-559b476bcb-79k5b             3/3     Running   0          35s
pod/kube-prometheus-stack-kube-state-metrics-8ff55f6c9-wj5f7   1/1     Running   0          35s
pod/kube-prometheus-stack-operator-65c968d89f-j7lsg            1/1     Running   0          35s
pod/kube-prometheus-stack-prometheus-node-exporter-7zhs4       1/1     Running   0          35s
pod/kube-prometheus-stack-prometheus-node-exporter-89hmf       1/1     Running   0          34s
pod/kube-prometheus-stack-prometheus-node-exporter-bd89s       1/1     Running   0          35s
pod/kube-prometheus-stack-prometheus-node-exporter-hr6xc       1/1     Running   0          34s
pod/kube-prometheus-stack-prometheus-node-exporter-psmxb       1/1     Running   0          35s
pod/kube-prometheus-stack-prometheus-node-exporter-qcm46       1/1     Running   0          34s
pod/kube-prometheus-stack-prometheus-node-exporter-qscls       1/1     Running   0          34s
pod/prometheus-kube-prometheus-stack-prometheus-0              2/2     Running   0          28s

NAME                                                     TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)                      AGE
service/alertmanager-operated                            ClusterIP   None           &amp;lt;none&amp;gt;        9093/TCP,9094/TCP,9094/UDP   29s
service/kube-prometheus-stack-alertmanager               ClusterIP   10.233.27.81   &amp;lt;none&amp;gt;        9093/TCP                     35s
service/kube-prometheus-stack-grafana                    ClusterIP   10.233.2.62    &amp;lt;none&amp;gt;        80/TCP                       35s
service/kube-prometheus-stack-kube-state-metrics         ClusterIP   10.233.45.1    &amp;lt;none&amp;gt;        8080/TCP                     35s
service/kube-prometheus-stack-operator                   ClusterIP   10.233.5.111   &amp;lt;none&amp;gt;        443/TCP                      35s
service/kube-prometheus-stack-prometheus                 ClusterIP   10.233.9.65    &amp;lt;none&amp;gt;        9090/TCP                     35s
service/kube-prometheus-stack-prometheus-node-exporter   ClusterIP   10.233.49.24   &amp;lt;none&amp;gt;        9100/TCP                     35s
service/prometheus-operated                              ClusterIP   None           &amp;lt;none&amp;gt;        9090/TCP                     28s

NAME                                                            DESIRED   CURRENT   READY   UP-TO-DATE   AVAILABLE   NODE SELECTOR   AGE
daemonset.apps/kube-prometheus-stack-prometheus-node-exporter   7         7         7       7            7           &amp;lt;none&amp;gt;          35s

NAME                                                       READY   UP-TO-DATE   AVAILABLE   AGE
deployment.apps/kube-prometheus-stack-grafana              1/1     1            1           36s
deployment.apps/kube-prometheus-stack-kube-state-metrics   1/1     1            1           36s
deployment.apps/kube-prometheus-stack-operator             1/1     1            1           36s

NAME                                                                 DESIRED   CURRENT   READY   AGE
replicaset.apps/kube-prometheus-stack-grafana-559b476bcb             1         1         1       36s
replicaset.apps/kube-prometheus-stack-kube-state-metrics-8ff55f6c9   1         1         1       36s
replicaset.apps/kube-prometheus-stack-operator-65c968d89f            1         1         1       36s

NAME                                                               READY   AGE
statefulset.apps/alertmanager-kube-prometheus-stack-alertmanager   1/1     30s
statefulset.apps/prometheus-kube-prometheus-stack-prometheus       1/1     29s&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&quot;gpu-metric을-위한-servicemonitor-배포하기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#gpu-metric%EC%9D%84-%EC%9C%84%ED%95%9C-servicemonitor-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0&quot; aria-label=&quot;gpu metric을 위한 servicemonitor 배포하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;GPU Metric을 위한 ServiceMonitor 배포하기&lt;/h3&gt;&lt;p&gt;GPU Metric은 GPU Operator로 배포한 DCGM Exporter가 수집해준다.
이는 다음처럼 확인할 수 있다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl get svc -n gpu-operator

NAME                                         TYPE        CLUSTER-IP      EXTERNAL-IP   PORT&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;S&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;    AGE
&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.
nvidia-dcgm-exporter                         ClusterIP   &lt;span class=&quot;token number&quot;&gt;10.233&lt;/span&gt;.42.33    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;none&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;        &lt;span class=&quot;token number&quot;&gt;9400&lt;/span&gt;/TCP   32h&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Metric이 정말 찍히고 있는지 다음처럼 확인할 수 있다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl port-forward svc/nvidia-dcgm-exporter &lt;span class=&quot;token number&quot;&gt;9400&lt;/span&gt;:9400 -n gpu-operator&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:64.86486486486486%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACS0lEQVQ4y3WS0W6bMBSG8wAksQ2FYAoujZJCBCW1qaoq0CiZ2uu9ydaLjavtBbbcrevVpL3lVoF8puOGaFW3i18cS8nn//+PBw6x3kaCf8+z9Mt0Gu8opbvRaLQbj8c7Qsg/hb9hjO1s2zZizP7qufY394isBos0+alKBXVdwXK5hCRJYDabQRzHEEURnJycgBDiIDwfHx/DZDIBzjkEQQCcBxCFHAL/qBmUZflwc3MD2+32l5SyzfO8nc/nbRRFre/7LefcCOf+7HleSwhpKaXmSwj5TQiB8Zi8GyilHuu6hs1m0yoldZZlkKYpTKdTczu6RIVhaIQzOqOUAmMMpRljHc6UkvvB5eXl43q9htvb27aqKl0UBSwWCxP99PTUxOth/YwXOY4DzxBqgHgBIeQeIxuH2+22Xa1WWikFCJ3P5wc3CHjuih/Onuf1Ll8CpZSPVVVBXdftcrnU6A5hffn9MvroOCNw7+41EB3iUtbrdauU0nmem7j4536Tvu+/kOu6rzo8ALHDPnJZlqZDKaV5OgjFHvEJoWMUntHhf4G4ZYyMDi8uLtChTtNUCyF0EASac65939eTycQIZ8dxNCEEQfrVUpRSDwjcbDZP19fXnZSyK4qiS5Kki+PYSAjRRVF0UBiGneu6COn2T+ZpD3yPkX9gh3d3dxgbrq6uAHvEyPgWcTG9+m3jjF3+tRjYAz8Mzs7O3mRZ9lkp9bEoiibLsub8/LyZzWaNEKKxbbuhlB6+jDEjx3Ga0WjUWJbVDIfDj8Ph8JNlWfIP1YdDWm9w/yMAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;5.png&quot; title=&quot;5.png&quot; src=&quot;/blog/static/d147783d285534f1e3fcd82dc9e94814/fcda8/5.png&quot; srcSet=&quot;/blog/static/d147783d285534f1e3fcd82dc9e94814/12f09/5.png 148w,/blog/static/d147783d285534f1e3fcd82dc9e94814/e4a3f/5.png 295w,/blog/static/d147783d285534f1e3fcd82dc9e94814/fcda8/5.png 590w,/blog/static/d147783d285534f1e3fcd82dc9e94814/efc66/5.png 885w,/blog/static/d147783d285534f1e3fcd82dc9e94814/c83ae/5.png 1180w,/blog/static/d147783d285534f1e3fcd82dc9e94814/69d6b/5.png 1912w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;이제 이 Metric 정보를 Prometheus에서 수집하기 위해 다음처럼 &lt;code class=&quot;language-text&quot;&gt;ServiceMonitor&lt;/code&gt; 를 추가하자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# servicemonitor.yaml&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; monitoring.coreos.com/v1
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ServiceMonitor
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; dcgm&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;exporter
  &lt;span class=&quot;token key atrule&quot;&gt;labels&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;app.kubernetes.io/name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; dcgm&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;exporter
&lt;span class=&quot;token key atrule&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;selector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;matchLabels&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; nvidia&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;dcgm&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;exporter
  &lt;span class=&quot;token key atrule&quot;&gt;endpoints&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;port&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; gpu&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;metrics
    &lt;span class=&quot;token key atrule&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;/metrics&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;relabelings&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;action&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; replace
      &lt;span class=&quot;token key atrule&quot;&gt;sourceLabels&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; __meta_kubernetes_pod_node_name
      &lt;span class=&quot;token key atrule&quot;&gt;targetLabel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; node
    &lt;span class=&quot;token key atrule&quot;&gt;metricRelabelings&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;action&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; labeldrop
      &lt;span class=&quot;token key atrule&quot;&gt;regex&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;Hostname&amp;quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;중간에 Relabeling 하는 내용이 있는데, 기존 Metric에서 &lt;code class=&quot;language-text&quot;&gt;Hostname&lt;/code&gt; 라벨 값이 올바르지 않아 이를 수정하는 작업이라 보면 된다.
(아무래도 DCGM Exporter 쪽의 버그같다.)&lt;/p&gt;&lt;p&gt;다음처럼 배포한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl apply -f servicemonitor.yaml -n gpu-operator&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;그러면 다음처럼 Prometheus 대시보드에서 이 Metric이 정상적으로 수집되는 것을 볼 수 있다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl port-forward svc/kube-prometheus-stack-prometheus &lt;span class=&quot;token number&quot;&gt;9090&lt;/span&gt;:9090 -n kube-prometheus-stack&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:64.86486486486486%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACxklEQVQ4y3WRS48bRRSFe80i435UV1V3dVU/yna33fF4PGPPZGY8jxAiJFhEWSQZCTYI5bGIJrMIng3iB5BJJEQwEkLiB7BgzYK/BVFZdVDbjlAUsvh0S3Wlo3POdYjfulPo7Kfh1vD7suxc+b5/5XnuCte9cj9As/M978pb8SIk3o8k2DhwJuOd3w73d7G/N8Z4bx+D0RjV9SH6myP0ByP0N7ffo27mcjdCPVz97U+n2NoezZzOwd3X5WfPwKZf/x3poYllapQuDYulYUluSKQM4XJJwIQJWGx8GhkmlImVNpEsTKSKf0TaBk/yc4d09uZk6w7C7buGdsaWZjXizjZo9wbCwEXgXkPgtRD4LkIeI4wSxDIDEwo8ycBFanmSLZhIEfLkwlG6midFCSq1YbJto7wLodsQ1QSdz58ju32O7OMnUMdfQdc7ULlGt7+JJGuvRRvBdMGTFDSWF04oijlNK9CsZ5jILFcZuIrBy110z/9C9+mf0F/+gvzeK8hqB1GiIFKNxlEjyERqmUgXzZtG8sKhUs9Z1gPL+k1nNkpzRGmCuNxF+eQPdB/+jvYXP0PfewHVG0PIFKroLuM2ou85pCKdM6nBmshJbpkswIRE1N1B++wH6PsvoW6fQ918jKioweIEfN3hGsuEWjtMLhySD+ekOgKpjgyppnb1noKUByDlIUjnBsLJGZhsg3EGluRrZ9lblkfhzVEawbAYzWn/Jmjv1NDeiX2H6tiywaeWTR9ZllaWFQPLG0dJZtfd2f86XAtKPXqt61Po+vRN0T9Z6HpF0T9a0u4dLqLx/QXdPVvwYrOJtlg6epc3a8FnDskGv4bVFGHZcICwPFzOZeTeCcL6E9DJA7Drt95e9YOEUfLcabn+Ldcn37W8YNbygssV/uVGEF1uqK1ZK5/M/PJ45l77aOYSPnMD+n984wX025ZPRv8CN35SNHn7T4kAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;6.png&quot; title=&quot;6.png&quot; src=&quot;/blog/static/c930723e64e308347223afcfecc915a6/fcda8/6.png&quot; srcSet=&quot;/blog/static/c930723e64e308347223afcfecc915a6/12f09/6.png 148w,/blog/static/c930723e64e308347223afcfecc915a6/e4a3f/6.png 295w,/blog/static/c930723e64e308347223afcfecc915a6/fcda8/6.png 590w,/blog/static/c930723e64e308347223afcfecc915a6/efc66/6.png 885w,/blog/static/c930723e64e308347223afcfecc915a6/c83ae/6.png 1180w,/blog/static/c930723e64e308347223afcfecc915a6/69d6b/6.png 1912w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;DCGM Exproter가 찍어주는 Metric에 대한 정보는 &lt;a href=&quot;https://docs.nvidia.com/datacenter/dcgm/1.6/dcgm-api/group__dcgmFieldIdentifiers.html&quot;&gt;공식 문서&lt;/a&gt;에서 확인할 수 있다.&lt;/p&gt;&lt;/blockquote&gt;&lt;h3 id=&quot;grafana에-대시보드-추가히기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#grafana%EC%97%90-%EB%8C%80%EC%8B%9C%EB%B3%B4%EB%93%9C-%EC%B6%94%EA%B0%80%ED%9E%88%EA%B8%B0&quot; aria-label=&quot;grafana에 대시보드 추가히기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Grafana에 대시보드 추가히기&lt;/h3&gt;&lt;p&gt;Metric 수집까지 마쳤으니, 이제 Grafana에 수집한 Metric을 가지고 대시보드를 만들어보자.&lt;/p&gt;&lt;p&gt;먼저 다음처럼 웹 브라우저에서 Grafana 대시보드에 접속한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl port-forward svc/kube-prometheus-stack-grafana &lt;span class=&quot;token number&quot;&gt;8888&lt;/span&gt;:80 -n kube-prometheus-stack&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:64.86486486486486%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAADUUlEQVQ4y23L21MadxjG8d0Fl13ksCxHOSzLGYIILHJQEKKCWuMh2iJRYxsd6yFmklAT6aTTdnrT6Uxqr5py1Zn+l23mt/N7Ol2TaS968Zn34n2+jFu2PYzGAr+lssm3YTVy65Cdtzan7dYm2W/t/8PxH5LL8dHPXq/jV4/b1mQelZf+eNbexDfrfbxZ3cbX3Q2MljdxvbiN550dnLc+w/H8Hg4bA/TrA+zUBticHWBV20NXG6BTGmCu0EejsINipjdizrT9d6O5E/zQPv3zp6ULctu7Ir+sPCdvey/Jj8tfke8XX5E392/IdWdEnrVH5Lx1Q57Mvyb79VdkZ/aarJWGZLHw4q9G7grFxOELZiOzOd4vDHBcPiRnlc/pZfUYV7Uv8bR2jvPqBU6rl3hceYoDwyX62iUeli+wXjxHt3CG9r1T2sie6FrqCLno1pDpqL3xWnILW5ldspvbo/38AQbTRzgonKCb3cBMbA4P8vNYyjaRj82jnd3Fav4U93NP0Mp8gVrqiJYT+3pe/RTJ8MqQqYQWxk2lh476CVmKb9BeYhsryV2spx+hEmsjHi2h39SwVpuFqpSgxVfQSj1GLTGAFuujoO7QnLKpJ0NrUPwLQybrrY5nAi1owQ6phhZpPdxFQ1lBM/oA00oD+bSGbLJiSESnkYt0UFK2kQ+vIxNeQyLYpWpgUY/4Wgi4K0NGkabHcbmMlGeWZLx1mvPNIe9vYtq/gHSkBjVVw1RkBlPhGUwpBcSCdST8Haj+FhTfPELeOp1yV3WfXIbbeW/IeCdjY78tjaA9R8LOPI1IBSiuIqJSEUpIQ7J6iHTtCNnmKVL1IwQDJQRcJfjlInyuAjxSnsqOnC7Z03DY1CFjtwTGDiEISQgTl6hQ2apS92SceiYT1OOIU7dTuSNFqdulUtmZoC57gkq2OHXaYtQ+GaU2a0S3iiGIgn/I8GbnO4tZgsXsei+YZV2YcOsi7/3Ap4t8QBct/7Ia/Loo+HXR4tMF3qPzE/L7CbMLE2bHS4bj+N9Z1gLOIBhYVoCFd0AQJINocMEqygaLxQmTyXqHEz80PDiOf82wLLfMstx3LMvdsCw3YlmTwWSaGJnN/Mhs4u+uwWL45/dxd9cY7bcsy2l/AyrwX5uaPyxdAAAAAElFTkSuQmCC&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;7.png&quot; title=&quot;7.png&quot; src=&quot;/blog/static/c5fa039b8ad2f241029382fd3e22e0bc/fcda8/7.png&quot; srcSet=&quot;/blog/static/c5fa039b8ad2f241029382fd3e22e0bc/12f09/7.png 148w,/blog/static/c5fa039b8ad2f241029382fd3e22e0bc/e4a3f/7.png 295w,/blog/static/c5fa039b8ad2f241029382fd3e22e0bc/fcda8/7.png 590w,/blog/static/c5fa039b8ad2f241029382fd3e22e0bc/efc66/7.png 885w,/blog/static/c5fa039b8ad2f241029382fd3e22e0bc/c83ae/7.png 1180w,/blog/static/c5fa039b8ad2f241029382fd3e22e0bc/69d6b/7.png 1912w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;초기 계정 아이디는 &lt;code class=&quot;language-text&quot;&gt;admin&lt;/code&gt; 비밀번호는 &lt;code class=&quot;language-text&quot;&gt;prom-operator&lt;/code&gt; 이다.&lt;/p&gt;&lt;p&gt;Nvidia에서 기본적으로 DCGM Exporter에 대한 Grafana 다음과 같은 대시보드 만들어두었다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;https://grafana.com/grafana/dashboards/12239&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;대시보드에 이를 추가한다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:64.86486486486486%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABzklEQVQ4y5WRz27TQBCHfcYh+393dte7dmzTKGpRW24IcUBcOPIMvAD0QH2CF4DeKDkh8ZZQbeRBduKqIlGhh0+jlWa+Gf02U4K8beri+9npyZflsr3inI0Iwa84vx8hxAjn/KvR4ptW9EVWl+FnjBUeLVd4cvwU67pFAD9ihmqLw4BH6wI6H9G6iCEEdBa6rKyaa8oMUg6/yuYsxcVx0qZIQrkklU+UqUSZToybPegEM78J1Tgn8n3Wtqs1FwYVLNL5q3f98vwNWh/RFdW42cUn6EKD4AKCi3tYX/YGwoZxg5Spi8z6cs0EoNIu1XXbh1BhiA2CjSgVYFw+x9CcIlg/DB+iNzZsKNNIqLrINBRrLgC5tEko3283aRzqsIhSgdpsZfddeCs0k1AMWch+yHOSTmJjw63w7nWHhTasGVeoXZuq1cteGzcK7jKJ/k84XmhQ6iL58qgfPuRQVn/L/iEEFBISuNCDiw9iT1iExfUoVPbGFdXG+vJBDDPGhpud8ENWL6ofQsIYvtQOpdqitEdldmi/9576hhkhLe6EHzOl4fV8zj/nM3KZ56QbeJTPO0JEx5jqGJMd3bF9q45QMfZM/XlOLmeP6afZjDz7AxixLVIH0ltSAAAAAElFTkSuQmCC&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;8.png&quot; title=&quot;8.png&quot; src=&quot;/blog/static/4f50ec9535e7c218ce2a57c3328e5569/fcda8/8.png&quot; srcSet=&quot;/blog/static/4f50ec9535e7c218ce2a57c3328e5569/12f09/8.png 148w,/blog/static/4f50ec9535e7c218ce2a57c3328e5569/e4a3f/8.png 295w,/blog/static/4f50ec9535e7c218ce2a57c3328e5569/fcda8/8.png 590w,/blog/static/4f50ec9535e7c218ce2a57c3328e5569/efc66/8.png 885w,/blog/static/4f50ec9535e7c218ce2a57c3328e5569/c83ae/8.png 1180w,/blog/static/4f50ec9535e7c218ce2a57c3328e5569/69d6b/8.png 1912w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:64.86486486486486%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB90lEQVQ4y5WSy27TQBSGvcYh9sx47jMee5zEzYWmIHXFkhW7vgl0Qb2CF4DsKFkh8ZZQOfJBM0kqaEolFp+sc+bom/9onFCSXTXefLtYrz63bbNBGG0wxhtCcPw+BSEkgjH+whn5ymj+OvHO/ijLCmbtHFYvLsD7GXChIyIgzeMIA1JZULoEqUqw1oKSokuca25zxCFH/KctJ33ppr2QVV8w0xOq+hyxPZifgo6wX1nOYJwV75LJ5GyLiQDKTX+2WA/NdAH1ZAmlX4AyFWhbg3UNSO1i/Rf73sCl3SEcQtHrRGq3DQUTtp/MluEQhCpBhlW0A116qPwsCkL9kKMwRwyynF4nTJi9kJve1bNBWw9clkCZDr1wERwveQyp3cDFH0IuzX3C+eLlUNUtGOsjUjkoChofIaQ5CO55Wsh1v1ydD9N2BX4yh2Y6B1e30F5egW3OQUh9su4/hHaLMAOufL+6fDuY0gPlGpjYr6urJUjTnKR7Uogxh4LZ3jbrQdt6EKocwmAclnoQyg5Cudh/yInQ2Po2/DakkHdSmZ3U7r9Qptpxae8OwveJr6vvpBCAYkoNBVWR8Mph9QjTJ/VxrmAqhIGD8ENCmXgzHuNP6Si7SdOsCzxLx12WkQ4h2iFUdPmBfU27LCdx5jifptnN6Hn+cTTKXv0GA+IwB/nDA/EAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;9.png&quot; title=&quot;9.png&quot; src=&quot;/blog/static/5754f0f2c94fa5b18f2c995b3c1e594f/fcda8/9.png&quot; srcSet=&quot;/blog/static/5754f0f2c94fa5b18f2c995b3c1e594f/12f09/9.png 148w,/blog/static/5754f0f2c94fa5b18f2c995b3c1e594f/e4a3f/9.png 295w,/blog/static/5754f0f2c94fa5b18f2c995b3c1e594f/fcda8/9.png 590w,/blog/static/5754f0f2c94fa5b18f2c995b3c1e594f/efc66/9.png 885w,/blog/static/5754f0f2c94fa5b18f2c995b3c1e594f/c83ae/9.png 1180w,/blog/static/5754f0f2c94fa5b18f2c995b3c1e594f/69d6b/9.png 1912w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;Import&lt;/code&gt; 버튼을 누르면 다음처럼 대시보드가 추가된다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:64.86486486486486%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAADEUlEQVQ4y2XTz2/kNBQH8EgcQZ1Ofk0mcewkzi/bk8l0pr9m2u6W3UVsd7uAqJDKcuBYEOJHD2xOcEMcoDeWOSHxX8Iqkb8oqZCQOHz0np+tJ9uyDcccfRRH/u+LWv5SFPzONM278Xh8Z9vWwHHsO9v+P8uyBv160zR/nTjmb669e2IkLPwzTXNU1QJSVshygTjJEIYxCGEIAnof/yugYBEfUJaAkAhxHIEEfmMwlrwOaIog5H8RmrYhy9o+TqasDcK09XzWWo7fWk4wcCY90roeaU1z2kZZ3kZ5/rftBhib3rdGkhTbKOEoVN7mMtO5zFD0VAZRlZBV2c+hnBXIRQYhKwi1h4QLVOc1UiV1nJVdLApYtndr2C7ZKiXx4YvT9vJio59fbPD8Yo3LPj5d4+LpMfra5bMN3ntyiFm1h1LuQdQ13v/6MZhItRdHnchLcBL2Df1tfw9KiVZKoZUUfQ4pBRZ1jbqe49+aECVYnIJGORjPEc4zzOYzLZTsXJ8idEnfcLrlXEKog5ZxpcNYgMYSYSzBuALjsyHvkahEkgrkosY0ynFeSDTHZ7pZn3XnUuGtXevWGJmT7dH+Pr75/Lq9ub7SN9dXuLn+GPfxCl98eoUvX17hq88+wcsPnmFWLVHVhxCzOX46eYiSJHoept3Px6fIGLk1LMff8jTD6Xq/PTla6ZPjFR6eHPVjbA6XWB8usTlaDeOD5WLYIc8UhJrjSTFDRhKtKO8e9af02a3hToItoSm8adyaTqB7PuPa9Zn2w0RHqdKUS+0FiXa8UE8Dqj2fakITbQdMT3yqaVp0PhewJuTWcKfktSjnON3bf5Nw3qU87WYL1ZWy6EpRdYvlcVfV+12U5J1PosGURJ3ns84P7klZvynFHN40/M6glP6RJBnePT3A2XqFB5sVHj3oj7xCXqjhzRWiBh1+RTRgUYyYp4jiBIQypJkCzyRcj3xvuK73eDS2f3x7x3r1zshudnbdxidJY7tBMxrbzdhym7HpDCzbbUzLadzJtEnToglp1JhWv8Z5NTadH3ZG5vIfvxdXoO3ZPh4AAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;10.png&quot; title=&quot;10.png&quot; src=&quot;/blog/static/c8bac8543e1e104141aecfb421e6550a/fcda8/10.png&quot; srcSet=&quot;/blog/static/c8bac8543e1e104141aecfb421e6550a/12f09/10.png 148w,/blog/static/c8bac8543e1e104141aecfb421e6550a/e4a3f/10.png 295w,/blog/static/c8bac8543e1e104141aecfb421e6550a/fcda8/10.png 590w,/blog/static/c8bac8543e1e104141aecfb421e6550a/efc66/10.png 885w,/blog/static/c8bac8543e1e104141aecfb421e6550a/c83ae/10.png 1180w,/blog/static/c8bac8543e1e104141aecfb421e6550a/69d6b/10.png 1912w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;사실 위 대시보드로는 내게는 조금 부족하여, 다음처럼 직접 별도로 만들었다.
&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:64.86486486486486%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAADH0lEQVQ4y12Sy29bRRTG7z+AnJhWYYVYIaR2QXf8AawQWSCgUKpKLMIFCRZdgCUkWLBF4lnfRHnUteskbQSCOLbzclRUBCJVEpOkDxzHvnEip8Gxfa/vczwzd+ZDdiIrYqSfvu87cxZHZ0Z5NvTMqy88/9zkpZcvjl248NLEwMDARDgcnujv7+8RCoV69PX19bRD+KRn9Hw4PH0uFHpHScbGvkylZpHJZpHNZjGbSiE1N4fFpUUsLC5ifmEB6Uyme9fpyWQyXU1n0kin06d5HrmlJUwmEjHloKJ/ygMJ1/NJu004gC4eoT3fgQWCyzP5fxAAqB4+/VHJr69FXI/Achj3KaRpU7gU+O3vJgybYOOfJnIPCvDcI0BKAAFo24Pr2rDsHtz1XBQKBU3Z2d2LUNKAcB9xkEcS3gbgbYNYBdRNG5VjhmLVwkHNQt0WqNsBai2GWouCMg7GKHzS5oQGKJbKmnL4L4sc7c3h/syLPPvToPwh+Q2+Tozgi9gc3htu4N0RB1dGHLwdtXFZs3BZs/HmDRvvjzsgDAg4hef5XAiJUrmsKU+r+5H9oyZWto758rYr05tAh/ktieUtB8tbNnJdrBO/fVK799CG4xEwzsAY44EIUNZ1TSnreqQzNvVtDkmkax4C8CFZ63TfARhtw2jZXd8l8MGpA8d1YTtOB+75PnaKRU3Z08sRygI0LcGZhGxaElQAto/ecQhw3Ap6ORAAZRKEtEHa7dMdMuyWSpqi7zcjvvkYZn6QN9dfk2Z+UDbWX5f1jTfkwYOrUl8dkuXVD2VpVZW7Xf1I7v6lSn3tuhSBJxnj0nFc1nmUnWIpquwUDz4zag+xufIW3bx3TfyRuy5+z0XEyvJXYjp7Rwyn7ovvZvPi+zN8++uG0DKbwvWpkFIIHgS0M3mlUokq+bU/Pz+uG9CrLo4MoOECNQuo1gUarQC2F8CwfBgWgXmGTq1pmDBNE4Zpdv/j4ydPRpWR0fGLU1OTH0/dHh+aTo598MtMTP357k01GR9W707fUmfuTKqJeExNJM7Qywk1Ho+rt+LxodvJ5Cc3otFX/gMRAkehA3yvugAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;11.png&quot; title=&quot;11.png&quot; src=&quot;/blog/static/fea03874f4875754764aad7dae9d6092/fcda8/11.png&quot; srcSet=&quot;/blog/static/fea03874f4875754764aad7dae9d6092/12f09/11.png 148w,/blog/static/fea03874f4875754764aad7dae9d6092/e4a3f/11.png 295w,/blog/static/fea03874f4875754764aad7dae9d6092/fcda8/11.png 590w,/blog/static/fea03874f4875754764aad7dae9d6092/efc66/11.png 885w,/blog/static/fea03874f4875754764aad7dae9d6092/c83ae/11.png 1180w,/blog/static/fea03874f4875754764aad7dae9d6092/6ac4e/11.png 3824w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
궁금하신 분은 &lt;a href=&quot;https://github.com/heumsi/grafana-dashboards/tree/main/kube-gpu-resources-cluster&quot;&gt;이 Repository&lt;/a&gt;를 참고하길 바란다.&lt;/p&gt;&lt;/blockquote&gt;&lt;h2 id=&quot;나가며&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%82%98%EA%B0%80%EB%A9%B0&quot; aria-label=&quot;나가며 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;나가며&lt;/h2&gt;&lt;p&gt;위의 내용을 다시 회고하며, 지금까지 한 작업을 정리하면 다음과 같다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;GPU Operator로 쿠버네티스에서 GPU를 사용할 수 있는 환경을 세팅했다.&lt;/li&gt;&lt;li&gt;GPU를 사용하는 파드들을 좀 더 리소스 효율적으로 스케줄링 하기위해 Binpack 스케줄러를 별도로 배포했다.&lt;/li&gt;&lt;li&gt;GPU를 사용하는 파드들은 반드시 Binpack 스케줄러를 사용하게끔 OPA를 통해 제한했다.&lt;/li&gt;&lt;li&gt;Prometheus와 Grafana로 GPU 사용량을 볼 수 있도록 대시보드를 세팅했다.&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;이 이상으로 GPU 리소스를 어떻게 더 잘 사용할 수 있을지에 대해서는 상황에 따라 달라지지 않을까 싶다.
앞으로도 이와 비슷한 작업을 하거나 이 과정 중 무언가를 알게 되면 별도의 글에 더 적어봐야겠다.&lt;/p&gt;&lt;p&gt;적다보니 글이 꽤 길어졌다.
글을 두 개로 쪼개볼까 생각도 해봤는데, 그래도 묵직하게 하나의 글로 남겨두는게 낫겠단 생각에 이대로 글을 남겨둔다.&lt;/p&gt;&lt;h2 id=&quot;참고&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%B0%B8%EA%B3%A0&quot; aria-label=&quot;참고 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;참고&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://docs.nvidia.com/datacenter/cloud-native/gpu-operator/overview.html&quot;&gt;NVIDIA Documentation - GPU Operator&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.alibabacloud.com/blog/the-burgeoning-kubernetes-scheduling-system-part-3-binpack-scheduling-that-supports-batch-jobs_597321&quot;&gt;Alibaba Cloud - The Burgeoning Kubernetes Scheduling System – Part 3: Binpack Scheduling That Supports Batch Jobs&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://kubernetes.io/docs/concepts/scheduling-eviction/scheduling-framework&quot;&gt;Kubernetes Documentation - Scheduling Framework&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://kubernetes.io/docs/reference/scheduling/config/&quot;&gt;Kubernetes Documentation - Scheduler Configuration&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://netpple.github.io/docs/deepdive-into-kubernetes/k8s-scheduler&quot;&gt;Netpple - Deepdive into kubernetes 6편. kube-scheduler&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://engineering.clova.ai/posts/2022/08/nsml-scheduler-part-1&quot;&gt;CLOVA Engineering 블로그 - NSML 분산 학습 플랫폼의 스케줄링 요구 사항과 해결 방안&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.openpolicyagent.org/docs/latest/kubernetes-tutorial/&quot;&gt;OPA - Tutorial: Ingress Validation&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://coffeewhale.com/kubernetes/admission-control/2021/04/28/opa1/&quot;&gt;커피고래님 블로그 - 쿠버네티스 Admission Control #1&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://coffeewhale.com/kubernetes/admission-control/2021/05/04/opa2/&quot;&gt;커피고래님 블로그 - 쿠버네티스 Admission Control #2 - Open Policy Agent&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://coffeewhale.com/opa3&quot;&gt;커피고래님 블로그 - 쿠버네티스 Admission Control #3 - Open Policy Agent 적용&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Argo CD에서 App 배포도 GitOps스럽게 하기]]></title><description><![CDATA[들어가며 Argo CD는 내게 GitOps와 Single Source of Truth의 개념을 알려준 매우 멋진 도구다.
여기서 배운 GitOps를 나는 App 배포 뿐 아니라 팀의 문서나 모든 Desired…]]></description><link>https://heumsi.github.io/blog/posts/argocd-apps-deployment/</link><guid isPermaLink="false">https://heumsi.github.io/blog/posts/argocd-apps-deployment/</guid><pubDate>Sun, 24 Jul 2022 00:00:00 GMT</pubDate><content:encoded>&lt;h2 id=&quot;들어가며&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0&quot; aria-label=&quot;들어가며 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;들어가며&lt;/h2&gt;&lt;p&gt;Argo CD는 내게 GitOps와 Single Source of Truth의 개념을 알려준 매우 멋진 도구다.
여기서 배운 GitOps를 나는 App 배포 뿐 아니라 팀의 문서나 모든 Desired 한 상태 관리에 쓰면 어떨까라고 생각했으니,
Kubernetes의 선언적 배포 개념을 알게 된 이후, Argo CD는 일하는 방식에 대해 내게 정말 큰 임팩트를 준거같다.&lt;/p&gt;&lt;p&gt;이번 글에서는 Argo CD를 통해 GitOps로 App을 배포하는 다음 두가지 방법에 대해 적어본다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;App of Apps 패턴&lt;/li&gt;&lt;li&gt;ApplicationSet&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Argo CD에 대한 기본적인 설명은 이 글에서 다루지 않는다.
Argo CD에 대해 이미 알고있으며, 이를 좀 더 잘 사용하고 싶은 분들을 대상으로 글을 적어본다.&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;만약 Argo CD가 처음이고 관심이 있다면, &lt;a href=&quot;https://coffeewhale.com/kubernetes/gitops/argocd/2020/02/10/gitops-argocd/&quot;&gt;커피고래님의 블로그 글&lt;/a&gt;을 읽어보기를 추천한다.
Argo CD가 무엇이고 기본적으로 어떻게 사용하는지 아주 잘 나와있다. &lt;/p&gt;&lt;/blockquote&gt;&lt;h2 id=&quot;web-ui-배포의-문제&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#web-ui-%EB%B0%B0%ED%8F%AC%EC%9D%98-%EB%AC%B8%EC%A0%9C&quot; aria-label=&quot;web ui 배포의 문제 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Web UI 배포의 문제&lt;/h2&gt;&lt;p&gt;먼저 Argo CD에서 Web UI를 통해 App을 배포하는 과정을 리뷰해보자.&lt;/p&gt;&lt;p&gt;Argo CD를 배포하면 다음과 같은 Web UI를 이용할 수 있다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:63.51351351351351%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB4UlEQVQ4y52RTW8SQRjH52TUpGmiiWn8AKLfyojG9NoaPUj8ALVVuu7LsBQ1Jh6MGl9unu1JY41CW2BZdpd9Y0sBMWi2LLt/M7DbgOWgHH6ZJ5mZ3zz/Z8jCwqnM0oVzmYtL5zNnz5zOEEL+l7uEkHuEkFVCyCK5kb4KmVLkcxSiJIHjOEiSNIJSCkEQ4lqCwPMQhBiehxjvPdjksLa+gevpa1eIINJIsQ8H36r6oFhrBDXLC/wIgR8iABB0+n7gD8f1LELgyAein0fD9us37y6RtSwHr/c7UsxmpNoHqFkeKoZ7zL5u48ueiq9lDWXdmUWomE0UFb2XFeUUofnHcDr9YyGj7rRGq+a0UFJNFBUD3xUD7CLb+4tQcw+xr5k9QS6kCE9luD9+RTXLi5JDiZQdrLLXaw3sadaUaOLhsbBu9vhcIUU4kcbC6Q4rDRdl3WZRsL1TwqdiJY5oj8aSSE8IRXkLbnfc4aSQXWL1rmriw8fP2N7ZRTLjybGcEOYKT+B2+zMjJ7ENrw292f63yFtPn7FPCePI8zAtfP7iJZxuP1Dtg2Hdac1DwLova1Z39Muv3r6H7nVQMRxUG+5csLmWFH3ASfnLZPX2nZWHAl1Z3+TnZoMTbt3PPlpO31xe/APBKCyyXpDhEAAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;1.png&quot; title=&quot;1.png&quot; src=&quot;/blog/static/1bf37bb86e4f6ef019049db7ac9cb89d/fcda8/1.png&quot; srcSet=&quot;/blog/static/1bf37bb86e4f6ef019049db7ac9cb89d/12f09/1.png 148w,/blog/static/1bf37bb86e4f6ef019049db7ac9cb89d/e4a3f/1.png 295w,/blog/static/1bf37bb86e4f6ef019049db7ac9cb89d/fcda8/1.png 590w,/blog/static/1bf37bb86e4f6ef019049db7ac9cb89d/efc66/1.png 885w,/blog/static/1bf37bb86e4f6ef019049db7ac9cb89d/c83ae/1.png 1180w,/blog/static/1bf37bb86e4f6ef019049db7ac9cb89d/fa60d/1.png 1792w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;Argo CD를 처음 접하게 되면, 보통은 다음처럼 이 Web UI를 통해서 App을 배포하게 된다. &lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:63.51351351351351%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACB0lEQVQ4y5WRy27TQBSG5wGASLBCCAlYEHgTJMQCdYVASIB6yaWIOimXxmXFhkvaJM2idVzHSQuCwhoIbdL0YVCBKgVfYscz4/mRXUekINp0pG8xZ+Z8c84ZcurkMfnc2dPyhfNn5NiJ4zIh5KjkCCFPCSEZQkiMXLt6BdOZDLLSFHLyLLIzs3j2Mo+5YglzheKB5OcLIYViCS9e5XHj5q3LZHwiIZb01/T5/AJttLYYgKPibXdM8XVnt7O+sXGR3Bkdw+raB1FWVNFoboJSBq/XA+cMjDHwQ2CM+YZpYfv7D6NaX4mT5OR91N+uiYWlimi02qEwEPm+Pyw+ANh211A0PU7GkymsvHv/R8g4KKUQQgxLKDRMy1CrtTgZSyRDYVmpiM+tNr6ZApbdDV8PEv5X2cBZKDStSJhIp1GPhJ+abfzyAMYoonuHrn6FpmUblaoeJ6lwhkHLatiyRxnsrgPOeT8BIkoO5uu4PTA2cPa3cPLBVPApfjRD4XlUGKYlHNcVnHMxuII9ZUxw3x8M783QsoxK0HLm4aNAyMqKyr9sbnFfCO5zGpQQ2PYRxPoMxFlYoW3/VPV6nDzOydBW36C0qODjehM9j8J2XDjuv3Qj9sUcFz3Pw05nlypa9RK5PjIijSaS0u2796TpJzOSuqxJmqZJuq4PRVXXpVqtlq2oy4mJVDr2G55cOWCpCfLdAAAAAElFTkSuQmCC&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;2.png&quot; title=&quot;2.png&quot; src=&quot;/blog/static/9d42c025252882c1073724472fe9cae1/fcda8/2.png&quot; srcSet=&quot;/blog/static/9d42c025252882c1073724472fe9cae1/12f09/2.png 148w,/blog/static/9d42c025252882c1073724472fe9cae1/e4a3f/2.png 295w,/blog/static/9d42c025252882c1073724472fe9cae1/fcda8/2.png 590w,/blog/static/9d42c025252882c1073724472fe9cae1/efc66/2.png 885w,/blog/static/9d42c025252882c1073724472fe9cae1/c83ae/2.png 1180w,/blog/static/9d42c025252882c1073724472fe9cae1/fa60d/2.png 1792w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;쉽고 간편하다.&lt;/p&gt;&lt;p&gt;하지만 이렇게 App을 배포하는건 문제가 하나 있는데, 바로 App을 배포하는 과정이 GitOps 스럽지 않다는 것이다.
좀 더 구체적으로는 다음과 같은 문제가 있다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;App을 배포하는 과정이 Git에 남지않고 암묵적이다. &lt;/li&gt;&lt;li&gt;다른 팀원들은 내가 클러스터에 어떤 App을 배포하는지 커밋 내역으로 알 수 없다.&lt;/li&gt;&lt;li&gt;현재 클러스터의 App 배포 상태를 재현할 수 있는 소스나 코드가 없다.&lt;/li&gt;&lt;li&gt;만약 클러스터를 새로 만들어, 이전 클러스터의 모든 App을 다 옮겨가야한다고 하자. 일일이 Web UI에서 버튼을 누르며 App을 다시 배포해야할까?&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;여하튼 이런 문제의식으로 등장한 대안이 다음 두 방법이다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;App of Apps 패턴을 통한 배포&lt;/li&gt;&lt;li&gt;ApplicationSet 리소스를 통한 배포&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;두 방법 모두 Web UI를 사용하여 App을 배포하지 않는다. 모두 yaml 파일을 먼저 작성하고, Git 커밋을 남기며 선언적으로 배포한다.
Web UI는 단순히 앱 배포 상태에 대한 Viewer의 역할만 하게된다.&lt;/p&gt;&lt;p&gt;이제 이 두 방법을 하나씩 알아볼 것이다.&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;GitOps를 들여다보면, 소프트웨어 아키텍처에서 종종 등장하는 Command와 Query 분리하는 방법론(CQRS)이 떠오른다.
GitOps에서는 상태 변화를 주는 모든 Command는 Git 커밋으로 진행되어야 한다.
그리고 상태를 조회하는 모든 Query는 이 Git Repository를 Source로 이뤄져야 한다.&lt;/p&gt;&lt;p&gt;Command와 Query를 명확히 분리하면서 시스템은 좀 더 복잡해지긴 하지만, 유즈케이스는 좀 더 명확해지고,
컴포넌트가 좀 더 디커플링 되면서 전체적으로 더 유연하고 다양한 변화가 가능한 방식이라는 생각이 든다.&lt;/p&gt;&lt;/blockquote&gt;&lt;h2 id=&quot;application-custom-resource&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#application-custom-resource&quot; aria-label=&quot;application custom resource permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Application Custom Resource&lt;/h2&gt;&lt;p&gt;우리가 Argo CD로 App을 배포하면 Application이라고 하는 CR(Custom Resource)을 만들게 된다.&lt;/p&gt;&lt;p&gt;직접 확인해보자. Argo CD Web UI에서 다음처럼 nginx를 배포한다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:63.51351351351351%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACCklEQVQ4y5WRTU8TQRzGJyGePBDrTWOCF6vfxBgvhpPRmKgB+oaBLfjGghej0Ujf6EG2y3Zb0Ch6NiC0VL+LUSTU7Et3tzOz85hdWltD0DLJb2fzn5nfPPtfEomclEfOnZHPj5yVT0dOySeGhmRCyHGYI4QsEELShJBhcvXKZcym05iZnsL8whPMP32OZ5ksMvkCMrn8P1nM5kJy+QJevlrE9Rs3L5FYLC6W9Tf0RXaJbta/MgDHpf2jaYpve839re3tC+T22DjW1j+KoqKKjdoOKKVoex44Z2CMgR8B682+YVr4vvvTKFdXoyQxeQ/Vd+tiabkkNusNUHqw2ff9QfEBwLZbhqLpUTKRSGL1/YeekPEwpRBiUEKhYVqGWq5EyXg8EQqLSkls1BvYNQUsuxXeHhw4KlnfWig0rY4wnkqh2hXWGnAYwBhFZ99/RzehadlGqaxHSTLsYS+h4XC0HAec+90DwRPBZDocjuuBMf5n7ZBwcmo6+Cl+p4fC8agwTUu0XFdwzkX/oIwLypjgvt9fPuihZRml4JPT9x8EQlZUVP5550tg4D6nQYTwvZ+g1qWvzsKEtv1L1atR8nBOhrb2FoXXCj5t1eC1KWzHheMeptXhr5rjwmu3sbffpIpWvkiujY5KY/GEdOvOXWn20WNJXdEkTdMkXdcHoqzrUqVSmSmpK/FYMjX8G23rOYpu3K88AAAAAElFTkSuQmCC&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;3.png&quot; title=&quot;3.png&quot; src=&quot;/blog/static/0a2fcabf88c2bfa73741dbac833a153e/fcda8/3.png&quot; srcSet=&quot;/blog/static/0a2fcabf88c2bfa73741dbac833a153e/12f09/3.png 148w,/blog/static/0a2fcabf88c2bfa73741dbac833a153e/e4a3f/3.png 295w,/blog/static/0a2fcabf88c2bfa73741dbac833a153e/fcda8/3.png 590w,/blog/static/0a2fcabf88c2bfa73741dbac833a153e/efc66/3.png 885w,/blog/static/0a2fcabf88c2bfa73741dbac833a153e/c83ae/3.png 1180w,/blog/static/0a2fcabf88c2bfa73741dbac833a153e/fa60d/3.png 1792w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;그리고 Argo CD가 배포된 Namespace에서 Application 리소스를 조회해본다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl get applications

NAME    SYNC STATUS   HEALTH STATUS
nginx   Synced        Healthy&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;nginx&lt;/code&gt; 라는 이름의 Application 리소스가 생성되어 있다.&lt;/p&gt;&lt;p&gt;어떻게 생겼는지 한번 살펴보자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;$ kubectl get applications nginx &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;o yaml

&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; argoproj.io/v1alpha1
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Application
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;creationTimestamp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;2022-07-20T14:50:01Z&amp;quot;&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;finalizers&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; resources&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;finalizer.argocd.argoproj.io
  &lt;span class=&quot;token key atrule&quot;&gt;generation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;268&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; nginx
  &lt;span class=&quot;token key atrule&quot;&gt;namespace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; argocd
  &lt;span class=&quot;token key atrule&quot;&gt;resourceVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;419286&amp;quot;&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;uid&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; fd68a5d8&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;0b25&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;44e8&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;876a&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;78dbe17ee617
&lt;span class=&quot;token key atrule&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;destination&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;namespace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; nginx
    &lt;span class=&quot;token key atrule&quot;&gt;server&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; https&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;//kubernetes.default.svc
  &lt;span class=&quot;token key atrule&quot;&gt;project&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; default
  &lt;span class=&quot;token key atrule&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; nginx
    &lt;span class=&quot;token key atrule&quot;&gt;repoURL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; https&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;//github.com/heumsi/helm&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;charts
    &lt;span class=&quot;token key atrule&quot;&gt;targetRevision&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; HEAD
  &lt;span class=&quot;token key atrule&quot;&gt;syncPolicy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;automated&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;prune&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean important&quot;&gt;true&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;selfHeal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean important&quot;&gt;true&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;syncOptions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; Validate=false
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; CreateNamespace=true
&lt;span class=&quot;token key atrule&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;이 Application 리소스에서 주요한 부분은 &lt;code class=&quot;language-text&quot;&gt;spec&lt;/code&gt; 내 다음 세 부분이다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;source&lt;/code&gt; &lt;ul&gt;&lt;li&gt;배포할 소스를 지정한다.&lt;/li&gt;&lt;li&gt;Github Repository 주소와 경로 또는 Helm Repository 주소가 들어간다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;destination&lt;/code&gt;&lt;ul&gt;&lt;li&gt;배포할 환경을 지정한다.&lt;/li&gt;&lt;li&gt;이 Argo CD는 클러스터 내에 배포되어있으므로, &lt;code class=&quot;language-text&quot;&gt;https://kubernetes.default.svc&lt;/code&gt; 로 배포한다는 것은, Argo CD가 배포된 이 클러스터에 배포하겠다는 의미다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;syncPolicy&lt;/code&gt;&lt;ul&gt;&lt;li&gt;배포 이후 Sync에 사용할 옵션에 대해 지정한다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;이 값들은 우리가 Web UI에서 App을 생성할 때 입력해준 값들이다.&lt;/p&gt;&lt;p&gt;정리해보면, 우리가 Web UI에서 배포한 리소스는 이 Application 리소스다.
Web UI를 통해 Application 리소스 생성에 필요한 값들을 입력받고, 이를 기반으로 Application 리소스를 만들어 배포하게 된다.
그리고 이 Application 리소스는 Application Controller에 의해 Soruce Repo를 기반으로 Kubernetes 리소스들을 배포하게 된다.&lt;/p&gt;&lt;p&gt;이 Application 리소스만 잘 작성한 뒤 클러스터에 배포해도 Argo CD Web UI에서 App을 배포한 것과 것과 동일한 효과를 가지며,
Web UI에서도 볼 수 있다.&lt;/p&gt;&lt;h2 id=&quot;applications-in-argo-cd-helm-chart&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#applications-in-argo-cd-helm-chart&quot; aria-label=&quot;applications in argo cd helm chart permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Applications in Argo CD Helm Chart&lt;/h2&gt;&lt;p&gt;이제 App을 배포한다는 것은 곧 Application 리소스를 배포한다는 것임을 알았다.&lt;/p&gt;&lt;p&gt;그럼 어떻게 하면 이 Application을 GitOps 스타일로 배포 할 수 있을까?
어떻게 하면 현재 클러스터에 배포된 Application들을 Github Repository에 Single Soruce of Truth로 담을 수 있을까?&lt;/p&gt;&lt;p&gt;일단 첫 번째로 생각할 수 있는 방법은 Argo CD Helm Chart 내에 Application을 추가하는 것이다.
Chart 내 &lt;code class=&quot;language-text&quot;&gt;values.yaml&lt;/code&gt; 을 살펴보면 다음처럼 &lt;code class=&quot;language-text&quot;&gt;server.additionalApplications&lt;/code&gt; 항목이 있다.
바로 이 부분에 Argo CD를 배포하면서 같이 배포할 Application들을 추가하면 된다.
(주석으로 어떻게 추가하는지 안내가 되어있다.)&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# argo-cd/values.yaml&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;additionalApplications&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; nginx
  &lt;span class=&quot;token key atrule&quot;&gt;additionalLabels&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;additionalAnnotations&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;finalizers&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; resources&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;finalizer.argocd.argoproj.io
  &lt;span class=&quot;token key atrule&quot;&gt;project&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; default
  &lt;span class=&quot;token key atrule&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;repoURL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; https&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;//github.com/heumsi/helm&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;charts
    &lt;span class=&quot;token key atrule&quot;&gt;targetRevision&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; HEAD
    &lt;span class=&quot;token key atrule&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; nginx
  &lt;span class=&quot;token key atrule&quot;&gt;destination&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;server&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; https&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;//kubernetes.default.svc
    &lt;span class=&quot;token key atrule&quot;&gt;namespace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; nginx
  &lt;span class=&quot;token key atrule&quot;&gt;syncPolicy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;automated&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;prune&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean important&quot;&gt;true&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;selfHeal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean important&quot;&gt;true&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;syncOptions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; Validate=false
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; CreateNamespace=true&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;또한 &lt;code class=&quot;language-text&quot;&gt;source.repoURL&lt;/code&gt; 의 값인 &lt;code class=&quot;language-text&quot;&gt;https://github.com/heumsi/helm-charts&lt;/code&gt; 에 접근하기 위해 다음처럼 Credentials 정보도 추가해줘야 한다.
&lt;code class=&quot;language-text&quot;&gt;values.yaml&lt;/code&gt; 를 살펴보면 &lt;code class=&quot;language-text&quot;&gt;config.credentialTemplates&lt;/code&gt; 항목이 있다. 이 부분에 다음처럼 Credentials 정보를 추가하자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# argo-cd/values.yaml&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;credentialTemplates&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 
  &lt;span class=&quot;token key atrule&quot;&gt;https-creds&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; https&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;//github.com/heumsi
    &lt;span class=&quot;token key atrule&quot;&gt;password&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ghp_xxxx  &lt;span class=&quot;token comment&quot;&gt;# Github access token 값을 넣어주면 된다.&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; heumsi&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;이제 Chart를 다시 배포하면 Argo CD와 더불어 위에서 추가한 Application 리소스도 같이 생성된다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl get apps -n argocd   
            
NAME    SYNC STATUS   HEALTH STATUS
nginx   Synced        Healthy&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;이제 이 Argo CD Helm Chart는 클러스터 내 Application 배포 상태 정보까지 포함하게 되었다.
새로운 Kubernetes 클러스터를 만든 뒤 이전 클러스터 내 App들을 옮겨가야할 때, 그저 이 Argo CD Helm Chart만 배포하면 되는 것이다!&lt;/p&gt;&lt;h2 id=&quot;app-of-apps-패턴&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#app-of-apps-%ED%8C%A8%ED%84%B4&quot; aria-label=&quot;app of apps 패턴 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;App of Apps 패턴&lt;/h2&gt;&lt;p&gt;그런데 위처럼 배포할 경우 또 찜찜한게 몇가지 있는데 바로 다음의 것들이다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;클러스터 내에 Application을 추가할 때 마다 그럼 &lt;code class=&quot;language-text&quot;&gt;values.yaml&lt;/code&gt; 을 수정해야 하나? 배포하는 Application이 한두개가 아닐거고, 그럼 안그래도 비대한 &lt;code class=&quot;language-text&quot;&gt;values.yaml&lt;/code&gt; 이 더 엄청 비대해질텐데?&lt;/li&gt;&lt;li&gt;그리고 실제로 Argo CD 배포 자체는 &lt;code class=&quot;language-text&quot;&gt;helm&lt;/code&gt; 으로하고 있지 않나? 그럼 Application 을 리소스를 추가할 때마다 &lt;code class=&quot;language-text&quot;&gt;helm upgrade&lt;/code&gt; 명령어를 쳐야하나?
이 클러스터 내 App 배포 상태가 &lt;code class=&quot;language-text&quot;&gt;values.yaml&lt;/code&gt; 에 남는 건 맞기는 한데, 하지만 배포 방식에서 여전히 커맨드 라인 명령어를 치고있잖아?&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;특히 전자의 찜찜함을 풀 수 있는 방법이 바로 App of Apps 패턴을 이용하여 배포하는 것이다.&lt;/p&gt;&lt;p&gt;App of Apps는 이름 그대로 Application 안에 Application들을 담는 방법이다.
Application은 사실 그냥 yaml 파일로 직접 작성한 후 배포해도 전혀 문제가 없다고 했다.
그러면 배포하고자 하는 Helm Chart의 templates 안에 Application 리소스들을 가지고 있다면 어떻게 될까?
일반적인 Helm Chart 배포와 마찬가지로 Chart를 배포하면 templates 내 Application들이 모두 같은 Chart로 엮여 배포된다.&lt;/p&gt;&lt;p&gt;한번 실습해보자.
먼저 별도의 &lt;code class=&quot;language-text&quot;&gt;argocd-apps&lt;/code&gt; 라는 별도의 Github Repository를 만든다.
이 Repository에 Kubernetes 클러스터에 배포할 Helm Chart(Application 들을 담은)를 다음과 같이 담을 예정이다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;.
├── Chart.yaml
├── templates
│   ├── argocd.yaml
│   ├── nginx.yaml
└── values.yaml&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;Chart.yaml&lt;/code&gt; 를 다음처럼 작성한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# Chart.yaml&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; v2
&lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; applications
&lt;span class=&quot;token key atrule&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; root app for app of apps pattern.
&lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; application
&lt;span class=&quot;token key atrule&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0.1.0
&lt;span class=&quot;token key atrule&quot;&gt;appVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;1.16.0&amp;quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;version&lt;/code&gt; 이나 &lt;code class=&quot;language-text&quot;&gt;appVersion&lt;/code&gt; 은 여기서는 의미없다. 굳이 의미를 부여한다면, 클러스터의 App 배포 상태에 대한 버전 정도라 볼 수 있을 듯 하다.
(다만 이럴 경우, 이 Chart 내 수정이 일어날 때마다 매번 버전도 같이 수정해줘야 의미가 있다. 이런건 자동화 하는게 좋겠으나, 일단 이 글에서는 별 의미를 두지 않고 넘어간다.)&lt;/p&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;templates&lt;/code&gt; 폴더를 만들고, 이 안에 이제 Application 리소스를 추가하자.&lt;/p&gt;&lt;p&gt;먼저 &lt;code class=&quot;language-text&quot;&gt;templates/nginx.yaml&lt;/code&gt; 를 만들어 다음처럼 작성한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# templates/nginx.yaml&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; argoproj.io/v1alpha1
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Application
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; nginx
  &lt;span class=&quot;token key atrule&quot;&gt;namespace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; argocd
  &lt;span class=&quot;token key atrule&quot;&gt;finalizers&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; resources&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;finalizer.argocd.argoproj.io
&lt;span class=&quot;token key atrule&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;# The project the application belongs to.&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;project&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; default
  
  &lt;span class=&quot;token comment&quot;&gt;# Source of the application manifests&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;repoURL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; .Values.spec.source.repoURL &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;targetRevision&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; HEAD
    &lt;span class=&quot;token key atrule&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; nginx

  &lt;span class=&quot;token comment&quot;&gt;# Destination cluster and namespace to deploy the application&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;destination&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;server&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; .Values.spec.destination.server &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;namespace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; nginx
  
  &lt;span class=&quot;token comment&quot;&gt;# Sync policy&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;syncPolicy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; .Values.spec.syncPolicy &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt; toYaml &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt; nindent 4 &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;우리가 이전에 작성한 Application 별반 다르지 않다.
다만 Helm의 Template 문법을 이용하여 재사용할 값들은 따로 빼두었다.&lt;/p&gt;&lt;p&gt;이제 재사용할 값들을 &lt;code class=&quot;language-text&quot;&gt;values.yaml&lt;/code&gt; 를 만들어 작성하자.
이 Chart내에 있는 모든 Application들은 특별한 예외가 있지 않은 이상, 이 &lt;code class=&quot;language-text&quot;&gt;values.yaml&lt;/code&gt; 값들을 가져다 사용하자고 약속하자.
(이는 일종의 운영 정책인 셈이다.)&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# values.yaml&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;destination&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;server&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; https&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;//kubernetes.default.svc
  &lt;span class=&quot;token key atrule&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;repoURL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; https&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;//github.com/heumsi/helm&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;charts
  &lt;span class=&quot;token key atrule&quot;&gt;syncPolicy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;automated&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;prune&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean important&quot;&gt;true&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;selfHeal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean important&quot;&gt;true&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;syncOptions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; Validate=false
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; CreateNamespace=true&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;이제 위에서 작성한 Helm Chart를 Argo CD Helm Chart의 &lt;code class=&quot;language-text&quot;&gt;values.yaml&lt;/code&gt; 내 &lt;code class=&quot;language-text&quot;&gt;additionalApplications&lt;/code&gt; 에 다음처럼 추가하자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# argo-cd/values.yaml&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;additionalApplications&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 
&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; applications
  &lt;span class=&quot;token key atrule&quot;&gt;additionalLabels&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;additionalAnnotations&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;finalizers&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; resources&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;finalizer.argocd.argoproj.io
  &lt;span class=&quot;token key atrule&quot;&gt;project&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; default
  &lt;span class=&quot;token key atrule&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;repoURL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; https&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;//github.com/heumsi/argocd&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;apps
    &lt;span class=&quot;token key atrule&quot;&gt;targetRevision&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; HEAD
    &lt;span class=&quot;token key atrule&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; .
  &lt;span class=&quot;token key atrule&quot;&gt;destination&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;server&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; https&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;//kubernetes.default.svc
  &lt;span class=&quot;token key atrule&quot;&gt;syncPolicy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;automated&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;prune&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean important&quot;&gt;true&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;selfHeal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean important&quot;&gt;true&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;syncOptions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; Validate=false
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; CreateNamespace=true&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;이름은 &lt;code class=&quot;language-text&quot;&gt;applications&lt;/code&gt; 라 하였다.
이 Application은 Chart 내 다른 Application들을 품고있기 때문에, Root Application이라 부를 수 있을거 같다. &lt;/p&gt;&lt;p&gt;이제 Argo CD Helm Chart를 다시 배포하자.
그러면 다음처럼 Root Application인 &lt;code class=&quot;language-text&quot;&gt;applications&lt;/code&gt; 도, 그리고 그 안에 속한 &lt;code class=&quot;language-text&quot;&gt;nginx&lt;/code&gt; 도 잘 배포된 것을 확인할 수 있다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl get apps

NAME           SYNC STATUS   HEALTH STATUS
applications   Synced        Healthy
nginx          Synced        Healthy&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:63.51351351351351%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACR0lEQVQ4y5WRXWvTUBjHz5WoDAYKMvwATr+V4KboZRVULN6LDrc2adrVdhsiXog6Ef0CG15tqOvQbl2XNmtemualyUmarUnOX5KueuFueuAHz3nOeX485zlkaupcdubKpezVmcvZixfOZwkhk/KEEPKUEHKfEDJN5m/dRLlUQrlUREEQkMvlIQhCSrFYBM/zp7EAnuPA86dwHIqCkJ4vcTyevVzA7fm5GyTPFVhd0oY/9lrDWkMK9yUtPGEIgxghA0KTBmEQIQTOJgZOXICZwdD8uP7pGlnMc4hZzEzHZQ1Vg27aMPoOHOrDpT6aWheybsDsu7AcmuYlzcAvUUa9raDeUuI9ScPPfdFZKizPkurKKk6ikLm+zxqahuD4GLbrwg8CxFGEjm3D8T30KYU/GCCKIliuh4NOF6LSw6HSi1uqgbrYcbjlyiwpv6ogYozZ1GN1RYVhWug7FNTzkawj24Lc1WHbzijHGGzqo9HpJjI0ZT0WVQO/D49GwuJyORkE8wYDVhMlbG7t4Nv3XWxs7cDou2iqOja2a9jcqmFzu4aO1oNmOWmHZwqTDl3PY9TzWVsz0e5aKVLXGhXJvTQe05R1HHT0sex/4eraGpJ3uP6AJZcSyenFUZGi/92Pc2PZmR2+fvM2GVVMU6HOmvLE/BOWKrPk3fsPiBhC1xtEompEh0pvUsKWZia/bPNJh5+/fMUwitF3KRpHKvalyUnGtNtoDXNC+Tp5+OhxprqymqlUq5mFHJd5sTQ5Czn+wfPF/L25O3en/wBUWDbMHwUnSgAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;4.png&quot; title=&quot;4.png&quot; src=&quot;/blog/static/46c9627904f53509de182a5ebb69eeba/fcda8/4.png&quot; srcSet=&quot;/blog/static/46c9627904f53509de182a5ebb69eeba/12f09/4.png 148w,/blog/static/46c9627904f53509de182a5ebb69eeba/e4a3f/4.png 295w,/blog/static/46c9627904f53509de182a5ebb69eeba/fcda8/4.png 590w,/blog/static/46c9627904f53509de182a5ebb69eeba/efc66/4.png 885w,/blog/static/46c9627904f53509de182a5ebb69eeba/c83ae/4.png 1180w,/blog/static/46c9627904f53509de182a5ebb69eeba/fa60d/4.png 1792w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;applications&lt;/code&gt; 을 클릭하면 다음처럼 &lt;code class=&quot;language-text&quot;&gt;nginx&lt;/code&gt; 가 &lt;code class=&quot;language-text&quot;&gt;applications&lt;/code&gt; 의 자식 리소스로 포함되어 있는 것도 볼 수 있다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:63.51351351351351%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACFElEQVQ4y52Ry2sTURTG70ZEKRREBHVv9M8SIqLLVEQwuHRh0mTy6ORl0qrVjRZEN+pf4UJabdKZkMlkMq/OTOaVzHTmkzs1kWC7iIsf99x7P77zcQ5ZW7uQvXHtSvbm9avZy5cuZgkhq/KUEPKMELJBCFkn99J3UavV0aixqDcaKBQZMEwpoVAoIpfPJxSLRVQqlSVYlkWBKSHHlPB8M490On2H1JvNuDdSA8VygpFqhP2REh6KSngwEMN9XgglzQh/CVJoTYMQwFnMAMQRoH/7+uUWKbMsIiCWdD22HQeW7UA6NqFMLKgTC4ZpYahoMGwHnj+F43pwPA+u5yd4/jSaBQEM07Te7L5NkXZnB0GEWDftWJB1CLIGTpTREyhj8CMVfWmOhoGsJ9B3jiIqES9pOOAFa6vZTpFWuwMa2Xa9mBMV9EQFVLDPi/je7UOfOFBNG7ykYqDoMGwXY93EkajMOTXkBKvaaKdIo/UyMTRtJ6ZdqYga0+5USO/doYzeUF6YdIXTmjvVLxJWacL29nYyQ9fz/xr+Oef1efyTkBp2dl5hGs5iy3Zj7hzDRX3237Lh6913mEZxZDsuTRgficqqLM/w/Yc9+K4bup5/0h9rJ9xIXZWwP9bxkx8ayZY/fvqM44kNWTfQFSQcDlaHLuxHtx+Ua63bZOPxkwzDNjMvmEomX6r+F5vlrUc5pvIwff/B+m89hDUydsRQgQAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;5.png&quot; title=&quot;5.png&quot; src=&quot;/blog/static/f7ebd51584f9d5d65c257bff4d9f7a72/fcda8/5.png&quot; srcSet=&quot;/blog/static/f7ebd51584f9d5d65c257bff4d9f7a72/12f09/5.png 148w,/blog/static/f7ebd51584f9d5d65c257bff4d9f7a72/e4a3f/5.png 295w,/blog/static/f7ebd51584f9d5d65c257bff4d9f7a72/fcda8/5.png 590w,/blog/static/f7ebd51584f9d5d65c257bff4d9f7a72/efc66/5.png 885w,/blog/static/f7ebd51584f9d5d65c257bff4d9f7a72/c83ae/5.png 1180w,/blog/static/f7ebd51584f9d5d65c257bff4d9f7a72/fa60d/5.png 1792w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;만약 클러스터 내에 App을 또 배포하고싶으면 어떻게 하면 될까?
이제는 그저 &lt;code class=&quot;language-text&quot;&gt;argocd-apps/templates&lt;/code&gt; 내에 Application를 추가하면 된다.&lt;/p&gt;&lt;p&gt;예를 들어 Wordpress를 추가로 배포하고싶다고 해보자.
그러면 &lt;code class=&quot;language-text&quot;&gt;argocd-apps&lt;/code&gt; Github Repository에 Application를 추가하면 된다.
(이 과정은 branch에 바로 push하는 형태일 수도 있고, PR &amp;amp; Merge 방식일 수도 있다. 후자의 경우, 다른 팀원들에게 배포에 대해 리뷰받을 수 있는 구조가 된다.)&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# templates/wordpress.yaml&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; argoproj.io/v1alpha1
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Application
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; wordpress
  &lt;span class=&quot;token key atrule&quot;&gt;namespace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; argocd
  &lt;span class=&quot;token key atrule&quot;&gt;finalizers&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; resources&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;finalizer.argocd.argoproj.io
&lt;span class=&quot;token key atrule&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;# The project the application belongs to.&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;project&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; default
  
  &lt;span class=&quot;token comment&quot;&gt;# Source of the application manifests&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;repoURL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; .Values.spec.source.repoURL &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;targetRevision&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; HEAD
    &lt;span class=&quot;token key atrule&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; wordpress

  &lt;span class=&quot;token comment&quot;&gt;# Destination cluster and namespace to deploy the application&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;destination&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;server&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; .Values.spec.destination.server &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;namespace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; wordpress
  
  &lt;span class=&quot;token comment&quot;&gt;# Sync policy&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;syncPolicy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; .Values.spec.syncPolicy &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt; toYaml &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt; nindent 4 &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Argo CD에서는 곧 새로 추가된 Application를 인지하여 Sync하게 되고, 다음처럼 Application를 조회하면 추가된 &lt;code class=&quot;language-text&quot;&gt;wordpress&lt;/code&gt; 을 확인할 수 있다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl get apps

NAME           SYNC STATUS   HEALTH STATUS
applications   Synced        Healthy
nginx          Synced        Healthy
wordpress      Synced        Progressing&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:63.51351351351351%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACIElEQVQ4y52RS4vTUBiGz0ZEGRgQEdS9oz9LqMhsOyKCxaUL22nTy6Q32xl1dKOC6Eb9F4JU6SXJTJpLc2mT5tYmk7yStGo7uKmLB75zeM/Dy3fI1taFzI1rVzI3r1/NXL50MUMI2ZTHhJAnhJA9Qsg2uZe6i2q1hnqVRq1eR75AgaKKCfl8AdlcDtlsDoVCAeVyeQ2appGnishSRTzdzyGVSt0htUYj6ouqr5i2L6qTgBOVoCsoQedUCDocH8iaEfR4ORi78wDAv5gDiEJA//rl8y1SommEQCTpemTZNkzLhjQ2oExNyMYEhjmFpGhQDBOuN4PturBdD84S15uFc9/HxDDMV8evd0irfQQ/RKQbVsSPdPAjDcxwBEZQwYkqerycwIoKWEkDJ2s4kXWwogomRlDC+P4Hy5sHjdYOabbaiCtbjhsxgoK+sHjYYQV863HQpzY0w8KJrEHSx/DmPsZTO5ENBCVmIWR4s1Jv7ZB683kiNCw7YpehONwfjtDl5UTELs+srEIem+Ckv7nBSsNK3LB1eJjs0HG9FeEivNLizxyLV89rDWNh++gFZoEfmZYTMaJ6Prwm/j2fy60LXx6/wSyMQst24obRQFA2ZX2Hb9+9h+c4geN6Z5ysnTGiuikBJ+v4yQ4nyS9/+PgJ46mFkT5Bj5fQPd2ceK/fe5xfqjZvk72Hj9IU3Ug/o8rpXLHyX+yXDh5kqfJu6v7u9i+z5TVwzMSktAAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;6.png&quot; title=&quot;6.png&quot; src=&quot;/blog/static/f2ff75306f09dadcd29be9e48c12fcb1/fcda8/6.png&quot; srcSet=&quot;/blog/static/f2ff75306f09dadcd29be9e48c12fcb1/12f09/6.png 148w,/blog/static/f2ff75306f09dadcd29be9e48c12fcb1/e4a3f/6.png 295w,/blog/static/f2ff75306f09dadcd29be9e48c12fcb1/fcda8/6.png 590w,/blog/static/f2ff75306f09dadcd29be9e48c12fcb1/efc66/6.png 885w,/blog/static/f2ff75306f09dadcd29be9e48c12fcb1/c83ae/6.png 1180w,/blog/static/f2ff75306f09dadcd29be9e48c12fcb1/fa60d/6.png 1792w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;이미 배포되어 있는 Argo CD에 대해서도 Application을 추가하여 연동할 수 있다.
배포하는 방법은 위와 똑같고, 배포하면 다음처럼 application 으로 리소스가 잡힌다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl get apps            

NAME           SYNC STATUS   HEALTH STATUS
applications   Synced        Healthy
argocd         Synced        Healthy
nginx          Synced        Healthy
wordpress      Synced        Healthy&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;이렇게 Argo CD 역시 Application으로 연동해두면, Argo CD Helm chart 내 변경 사항이 있을 때 마다 helm 커맨드 라인 명령어를 치지 않아도 된다.
이는 위에서 언급한 두 번째 찜찜함을 해결해준다.&lt;/p&gt;&lt;p&gt;다만 이럴 경우 나중에 Argo CD 자체를 삭제할 때 순서가 꼬일 수 있음에 유의하자.
&lt;code class=&quot;language-text&quot;&gt;kubectl delete apps argocd&lt;/code&gt; 로 Application을 삭제하면, 클러스터 내 배포된 Argo CD가 모두 내려가게 된다.
이 결과로, 다른 application의 삭제를 처리해줄 Application Controller도 사라지기 때문에 남은 Applicaiton 들은 finalizer를 수정하며 일일이 직접 삭제해줘야 한다.&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;이런 식으로 Application 추가가 곧 새로운 App에 대한 배포가 되고, 이런 과정은 모두 GitOps 형태로 동작한다.&lt;/p&gt;&lt;p&gt;이를 좀 더 잘 활용하면 멀티 클러스터 환경에서 클러스터 단위로 Application 들을 묶을 수도 있다.
루트 Appliation을 클러스터 단위로 두는 것이다.&lt;/p&gt;&lt;p&gt;예를 들어 클러스터 A, B, C, D가 있다고하자. 그러면 &lt;code class=&quot;language-text&quot;&gt;argocd-apps&lt;/code&gt; Repository를 다음처럼 구성할 수 있다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;.
├──cluster_a
│   ├──Chart.yaml
│   └──templates
│       └── nginx.yaml
├──cluster_b
│   ├──Chart.yaml
│   └──templates
│       └── nginx.yaml
├──cluster_c
│   ├──Chart.yaml
│   └──templates
│       └── nginx.yaml
└──cluster_d
    ├──Chart.yaml
    └──templates
        └── nginx.yaml&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;만약 멀티 클러스터 환경에서 Argo CD를 클러스터 외부에서 배포했다면, Argo CD Helm Chart 내 &lt;code class=&quot;language-text&quot;&gt;values.yaml&lt;/code&gt; 에 &lt;code class=&quot;language-text&quot;&gt;additionalAppplications&lt;/code&gt; 항목에
클러스터 개수 만큼 Root Application을 추가해주면 된다.
이 Root Application들의 Source Repository의 Path는 위 &lt;code class=&quot;language-text&quot;&gt;argocd-apps&lt;/code&gt; Repository에서의 cluster 경로가 되겠다.&lt;/p&gt;&lt;p&gt;반면 클러스터 별로 각각 Argo CD가 배포되어 있다면, &lt;code class=&quot;language-text&quot;&gt;values.yaml&lt;/code&gt; 을 &lt;code class=&quot;language-text&quot;&gt;values.cluster_a.yaml&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;values.cluster_b.yaml&lt;/code&gt; 이런 식으로
클러스터 별로 &lt;code class=&quot;language-text&quot;&gt;values.yaml&lt;/code&gt; 을 만든 뒤 각 파일에서 &lt;code class=&quot;language-text&quot;&gt;additionalAppplications&lt;/code&gt; 에 Root Application을 하나만 두면 된다.&lt;/p&gt;&lt;p&gt;꼭 클러스터가 아니더라도, Root Applcation의 기준을 무엇으로 두느냐에 따라 다양하게 Application들을 묶을 수 있다.&lt;/p&gt;&lt;h2 id=&quot;applicationset&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#applicationset&quot; aria-label=&quot;applicationset permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;ApplicationSet&lt;/h2&gt;&lt;p&gt;App of Apps는 사용 패턴이다.
이 말인 즉슨, Argo CD 사용자들이 Application 이라고 하는 리소스를 가지고,
배포를 좀 더 쉽게할 수 있는 방법을 찾다보니 사용자들에 의해 나오게 된 방법론이라는 것이다.&lt;/p&gt;&lt;p&gt;반면 ApplicationSet은 Argo CD 리소스다.
App of Apps 패턴을 보고 Argo CD 개발팀이 영감을 받아 추가적으로 개발한 결과물이다.
Argo CD v2.3 버전 이전에는 별도의 Plugin으로 존재하다가, v2.3부터 Argo CD Helm Chart에 합류되었다.&lt;/p&gt;&lt;p&gt;App of Apps 패턴을 이해했다면, ApplicationSet에 대한 이해도 별로 어렵지 않다.
다음은 ApplicationSet의 사용 예시다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# applicationset.yaml&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; argoproj.io/v1alpha1
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ApplicationSet
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; applicationset
  &lt;span class=&quot;token key atrule&quot;&gt;namespace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; argocd
&lt;span class=&quot;token key atrule&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;generators&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;git&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;repoURL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; https&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;//github.com/heumsi/helm&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;charts
        &lt;span class=&quot;token key atrule&quot;&gt;revision&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; main
        &lt;span class=&quot;token key atrule&quot;&gt;directories&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;*&amp;quot;&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;template&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;{{path.basename}}&amp;#x27;&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;project&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; default
      &lt;span class=&quot;token key atrule&quot;&gt;syncPolicy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;automated&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;prune&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean important&quot;&gt;true&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;selfHeal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean important&quot;&gt;true&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;syncOptions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; Validate=false
        &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; CreateNamespace=true
      &lt;span class=&quot;token key atrule&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;repoURL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; https&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;//github.com/heumsi/helm&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;charts
        &lt;span class=&quot;token key atrule&quot;&gt;targetRevision&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; main
        &lt;span class=&quot;token key atrule&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;{{path}}&amp;#x27;&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;destination&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;server&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; https&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;//kubernetes.default.svc
        &lt;span class=&quot;token key atrule&quot;&gt;namespace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;{{path}}&amp;#x27;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;간략히 설명하자면, &lt;code class=&quot;language-text&quot;&gt;https://github.com/heumsi/helm-charts&lt;/code&gt; Repository의 &lt;code class=&quot;language-text&quot;&gt;main&lt;/code&gt; 브랜치에 있는 모든 파일들에 대해 Application 리소스를 생성한다는 의미다.&lt;/p&gt;&lt;p&gt;ApplicationSet의 spec은 다음처럼 크게 2가지로 나뉜다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;generators&lt;/code&gt;&lt;ul&gt;&lt;li&gt;Application 리소스를 어떤 방법으로 생성할지에 대해 결정한다.&lt;/li&gt;&lt;li&gt;여기에는 다음과 같은 다양한 방법들이 있다.&lt;ul&gt;&lt;li&gt;List generator&lt;/li&gt;&lt;li&gt;Cluster generator&lt;/li&gt;&lt;li&gt;Git generator&lt;/li&gt;&lt;li&gt;등등 더 자세한건 &lt;a href=&quot;https://argocd-applicationset.readthedocs.io/en/stable/Generators/&quot;&gt;공식 문서&lt;/a&gt;를 확인하자.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;templates&lt;/code&gt;&lt;ul&gt;&lt;li&gt;생성할 Application 리소스에 들어갈 내용이다.&lt;/li&gt;&lt;li&gt;실제로 내용을 보면 Application의 스펙과 동일하다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;쉽게 말해 ApplicationSet은 &lt;code class=&quot;language-text&quot;&gt;generators&lt;/code&gt; 와 &lt;code class=&quot;language-text&quot;&gt;templates&lt;/code&gt; 을 가지고 Application을 찍어내는 Application Factory라고 보면 된다.
App of Apps 패턴에서 Root Application을 대신하는 역할을 하는 셈이다.
따라서 별도의 &lt;code class=&quot;language-text&quot;&gt;argocd-apps&lt;/code&gt; 와 같은 Repository에 Application을 추가하지 않고, 이 ApplicationSet 안에 추가할 Application spec이 담기도록 하면 된다.&lt;/p&gt;&lt;p&gt;이제 ApplicationSet을 배포해보자. 기존 클러스터를 먼저 깨끗하게 만든 뒤 위 yaml 파일을 배포한다.
(나는 Argo CD Helm Chart를 내렸다가 다시 배포했다. 이 때 &lt;code class=&quot;language-text&quot;&gt;additionalApplications&lt;/code&gt; 은 비어있게 하였다.)&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl apply -f applicationset.yaml&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;그러면 다음과 같이 생성된 Applicationset이 조회되고,&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl get applicationset

NAME             AGE
applicationset   3s&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;다음처럼 ApplicationSet에 의해 생성된 Application들이 조회된다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl get apps      

NAME        SYNC STATUS   HEALTH STATUS
nginx       Synced        Healthy
wordpress   OutOfSync     Progressing&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:63.51351351351351%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACYUlEQVQ4y5WQzWsTYRDG35OoKAUFKf4BRv8roRbRYxSkGLxrLTYfm00ak7aIeBC/ED0LVgVpbTEGW9N8dLub7Ca7m333O9nd95Fs2nrxksOPmXlm5mEYcv7cqdTspQupy7MXU2fPnE4RQqblPiHkASHkDiFkhszPXUepWESpWECe55HJZMHzfEyhUADHcUc5Dy6XA8f9o8DzcT+d4/DwyRLm529cI9lcnu0K8mhnrz2q1oWgfigHPkPghQgYEGiWF+fA/wmBIQWY5o60N2/fXSHL2RwiFjGNWqzelaEbFAPTgmm7MQ1ZgdRToVMLhmXDclzUOyoOOgrUAYVh2pHlemhLMn2U5hKksrqGYRgw03FZXZbh+z5sz0MQBgADxIEO03Hg+B5GwfiosWaDWg784RCu70djTTcoXczyCVJ6WkbIGBtYNtvrdNFXNegDA6ZtHy3rkJTeRLNsgEWQDBeS0o9nDWpGYRSNI32YzidIYaWEIAJzXI9VWwI2Nn/i63YtjqphotHt4fNWFRubVWxsVSEqKgSV4suPGr5t1/Dp+07UFGV0+hpdzOQnF5q2zSzbYQeyhgNFjxEUHfuigqbUj/NjGlIv5mSup0ctWUOtIVCuVEmQtfV1ACz+YbPTj02Ol8Z1o9M7qY+1WD+q90UlanVV/G6JNFcsJ8iz5y/Gr4qs2LDHGtLUTAybhxPDl69eI2QITNsNW101bHb60xK0ZQ27LXHArZQT5P2HjxiFEQzTQv2wiz/C9Izf9KveHmX40lVyb2EhWVldS5YrleRSJpd8nJ6epQx3d3E5e3vu5q2ZvzNAONuq+R29AAAAAElFTkSuQmCC&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;7.png&quot; title=&quot;7.png&quot; src=&quot;/blog/static/cda829e2210d42a0cd8f273b635d4e38/fcda8/7.png&quot; srcSet=&quot;/blog/static/cda829e2210d42a0cd8f273b635d4e38/12f09/7.png 148w,/blog/static/cda829e2210d42a0cd8f273b635d4e38/e4a3f/7.png 295w,/blog/static/cda829e2210d42a0cd8f273b635d4e38/fcda8/7.png 590w,/blog/static/cda829e2210d42a0cd8f273b635d4e38/efc66/7.png 885w,/blog/static/cda829e2210d42a0cd8f273b635d4e38/c83ae/7.png 1180w,/blog/static/cda829e2210d42a0cd8f273b635d4e38/fa60d/7.png 1792w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;ApplicationSet을 이용하면 별도로 Root Application을 두지 않게된다.
Root Application 대신 ApplicaitonSet이 이 Application들을 계속해서 제어하기 때문이다.&lt;/p&gt;&lt;p&gt;이제 Argo CD Helm Chart에 이 ApplicationSet을 추가해야 하는데,
&lt;code class=&quot;language-text&quot;&gt;values.yaml&lt;/code&gt; 안에 &lt;code class=&quot;language-text&quot;&gt;additionalApplications&lt;/code&gt; 처럼 &lt;code class=&quot;language-text&quot;&gt;additionalApplicationSets&lt;/code&gt; 이라는 항목은 보이지 않는다.
따라서 Argo CD Helm Chart 내 &lt;code class=&quot;language-text&quot;&gt;templates/&lt;/code&gt; 에 별도로 파일을 만들어 추가해야한다.&lt;/p&gt;&lt;h2 id=&quot;어떤걸-써야할까&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%96%B4%EB%96%A4%EA%B1%B8-%EC%8D%A8%EC%95%BC%ED%95%A0%EA%B9%8C&quot; aria-label=&quot;어떤걸 써야할까 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;어떤걸 써야할까?&lt;/h2&gt;&lt;p&gt;App of Apps 패턴과 ApplicationSet이 어떤 건지 알아보았다.
그럼 둘 중 어떤걸 써야할까?&lt;/p&gt;&lt;p&gt;개인적인 생각으로는, 아직 Kubernetes를 도입한 초기 단계면 App of Apps 패턴부터 시작해보고,
이후에 Kubernetes 운영이 좀 성숙해지면 그 때 ApplicationSet으로 바꾸는게 좋지 않을까 싶다.
이렇게 생각한 이유는 다음과 같다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;ApplicaitonSet 스펙은 App of Apps 패턴보다 추상화되어있다. 초기 클러스터 운영을 이제 막 시작한 때에는, 사실 앞으로 클러스터가 어떻게 더 확장되고,
운영될지 잘 모른다. 특히 운영 패턴이 어느정도 정착하기 전에는 배포 방법이 자주 바뀔 수가 있는데, 이 때 ApplicationSet이라는 추상화된 리소스를 쓰는 것보다,
좀 더 Raw한 App of Apps 패턴을 쓰는게 세부적으로 조정하기에 더 좋을 수 있다고 생각한다.&lt;/li&gt;&lt;li&gt;App of Apps 패턴이 ApplicationSet보다 조금 더 명시적이라고 생각한다. 따라서, 처음에는 ApplicationSet을 쓰는게 더 헷갈리고 복잡할 수도 있다.
ApplicationSet의 Generator는 종류부터 다양하다. 그렇기 때문에, 초기에 어떤 Generator를 골라야할 지 잘 모를 수 있다.
반면 App of Apps 패턴은 직접 Applicaiton을 작성해줘야 하기 때문에 작성에 손이 좀 더 갈 수 있어도, 명시적이고 고민해야할 선택지가 더 적다고 본다.&lt;/li&gt;&lt;li&gt;App of Apps 패턴을 사용하며 Application들을 일일이 작성해줘야 하기 힘들 때, ApplicationSet이 관리자 관점에서 더 편할 수 있다.
꽤 많은 Application들이 클러스터에 자주 올라가고 내려오고, App of Apps 패턴보다 더 정교하게 규칙을 세우고 클러스터를 운영하고자 할 때 ApplicationSet이 활용하기 좋다고 생각한다.&lt;/li&gt;&lt;/ul&gt;&lt;h2 id=&quot;나가며&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%82%98%EA%B0%80%EB%A9%B0&quot; aria-label=&quot;나가며 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;나가며&lt;/h2&gt;&lt;p&gt;Argo CD에서 핵심이 되는 Application 리소스와 이를 좀 더 GitOps 스럽게 배포하는 전략인 App of Apps 패턴, 그리고 ApplicationSet 리소스에 대해서 알아보았다.
Argo CD는 이미 Kubernetes 클러스터의 De Facto CD 툴로 자리잡았는데, 앞으로는 어떻게 발전해나갈지 개인적으로 참 궁금한 도구이기도 하다.
많은 사람들이 좀 더 Argo CD와 GitOps 스타일에 익숙해지는데 이 글이 기여했으면 좋겠다.&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;이 글에서 사용한 Github Repository는 다음에서 확인할 수 있다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://github.com/heumsi/helm-charts&quot;&gt;heumsi/helm-charts&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://github.com/heumsi/argocd-apps&quot;&gt;heumsi/argocd-apps&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/blockquote&gt;&lt;h2 id=&quot;참고한-글&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%B0%B8%EA%B3%A0%ED%95%9C-%EA%B8%80&quot; aria-label=&quot;참고한 글 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;참고한 글&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://argo-cd.readthedocs.io/en/stable/&quot;&gt;https://argo-cd.readthedocs.io/en/stable/&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://itnext.io/level-up-your-argo-cd-game-with-applicationset-ccd874977c4c&quot;&gt;https://itnext.io/level-up-your-argo-cd-game-with-applicationset-ccd874977c4c&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://blog.argoproj.io/getting-started-with-applicationsets-9c961611bcf0&quot;&gt;https://blog.argoproj.io/getting-started-with-applicationsets-9c961611bcf0&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Kopf로 Kubernetes CRD Operator 구현해보기]]></title><description><![CDATA[들어가며 Kubernetes 위에서 뭔가를 배포하다보면, Deployment, Helm을 알게되고, 그러다 어느순간 CRD와 Operator…]]></description><link>https://heumsi.github.io/blog/posts/crd-and-kopf-tutorial/</link><guid isPermaLink="false">https://heumsi.github.io/blog/posts/crd-and-kopf-tutorial/</guid><pubDate>Fri, 15 Jul 2022 00:00:00 GMT</pubDate><content:encoded>&lt;h2 id=&quot;들어가며&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0&quot; aria-label=&quot;들어가며 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;들어가며&lt;/h2&gt;&lt;p&gt;Kubernetes 위에서 뭔가를 배포하다보면, Deployment, Helm을 알게되고, 그러다 어느순간 CRD와 Operator라는 개념을 마주하게 된다.
처음엔 그저 이게 뭐지하고 사용 하다가, 어느 순간 꽤 많은 애플리케이션들이 자체적인 CRD와 Operator를 쓴다는 것을 느끼게 된다.&lt;/p&gt;&lt;p&gt;Kubernetes CRD와 Operator는 어떻게 구현하는건지 평소에 궁금했었는데, 최근에 Kopf 라는 툴을 알게되어 이에 대해 소개해보고자 한다.
CRD 구현부터 Kopf를 통해 파이썬으로 Operator를 구현하는 것까지 이 글에서 다루어보겠다.&lt;/p&gt;&lt;h2 id=&quot;crd&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#crd&quot; aria-label=&quot;crd permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;CRD&lt;/h2&gt;&lt;h3 id=&quot;crd-란&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#crd-%EB%9E%80&quot; aria-label=&quot;crd 란 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;CRD 란?&lt;/h3&gt;&lt;p&gt;CRD는 Custom Resource Definition의 약자로, 이름 그대로 사용자가 정의하는 Kubernetes 리소스다.
우리는 CRD를 먼저 정의하고 배포한 후 CR(Custom Resource)를 배포할 수 있다.&lt;/p&gt;&lt;p&gt;Kubernetes에는 Pod, Deployment, Service 등 기본적인 리소스 유형들이 존재한다.
그런데 이렇게 기본적인 리소스 유형말고 개발자가 직접 리소스 유형을 정의해서 사용할 수 있는데, 이렇게 직접 정의된 리소스들을 CRD라고 부르는 것이다.&lt;/p&gt;&lt;p&gt;사실 CRD는 아예 새로운 것을 만들어내는 것은 아니고, Kubernetes의 기본 리소스 유형을 조합하여 사용에 맞게 추상화한 리소스라고 보면 된다.&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;Kubernetes의 리소스 유형 확장 방법으로 CRD가 유일한 것은 아니다. API Aggregation 이라는 방법도 있는데,
이에 대해서는 &lt;a href=&quot;https://blog.naver.com/alice_k106/221579974362&quot;&gt;Alice님 블로그 글&lt;/a&gt;에 잘 소개가 되어 있어 공유해본다.&lt;/p&gt;&lt;/blockquote&gt;&lt;h3 id=&quot;crd-작성하기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#crd-%EC%9E%91%EC%84%B1%ED%95%98%EA%B8%B0&quot; aria-label=&quot;crd 작성하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;CRD 작성하기&lt;/h3&gt;&lt;p&gt;먼저, CRD 작성 전에 현재 마주한 문제 상황은 다음과 같다.&lt;/p&gt;&lt;p&gt;보통 Kubernetes에서 앱을 배포하기 위해서는 Deployment와 Service를 배포해야 한다.
그런데 매번 Deployment와 Service의 yaml 파일을 일일이 다 작성하는게 귀찮다.
개발자는 배포에 다음 설정 값들만 작성해도 충분하다고 해보자.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Deployment에 어떤 컨테이너 이미지를 쓸지 (image)&lt;/li&gt;&lt;li&gt;Deployment에 Pod 수는 몇 개로 할지 (replicas)&lt;/li&gt;&lt;li&gt;Service에 포트는 몇번으로 할지 (port)&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;위 문제 상황을 해결하기 위해 &lt;code class=&quot;language-text&quot;&gt;Application&lt;/code&gt; 이라는 CR을 만드려고 한다.
&lt;code class=&quot;language-text&quot;&gt;Application&lt;/code&gt; 리소스를 작성할 때 위 3개의 설정 값만 주고, &lt;code class=&quot;language-text&quot;&gt;Application&lt;/code&gt; 을 배포하면 Deployment와 Service가 자동으로 만들어지게끔 할 것이다.&lt;/p&gt;&lt;p&gt;이제 &lt;code class=&quot;language-text&quot;&gt;Application&lt;/code&gt; 의 CRD를 작성을 시작해보자.
&lt;code class=&quot;language-text&quot;&gt;crd.yaml&lt;/code&gt; 을 만들어 다음처럼 작성한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# crd.yaml&lt;/span&gt;

&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; apiextensions.k8s.io/v1&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; CustomResourceDefinition&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  &lt;span class=&quot;token comment&quot;&gt;# name must match the spec fields below, and be in the form: &amp;lt;plural&amp;gt;.&amp;lt;group&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; applications.heumsi.github.io&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;&lt;li&gt;CRD를 작성할 때는 위와 같은 &lt;code class=&quot;language-text&quot;&gt;apiVersion&lt;/code&gt; 과 &lt;code class=&quot;language-text&quot;&gt;kind&lt;/code&gt; 를 사용한다.&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;metadata.name&lt;/code&gt; 값은 CRD의 Full Name이다.&lt;ul&gt;&lt;li&gt;이 값은 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;plural&amp;gt;.&amp;lt;group&amp;gt;&lt;/code&gt; 형태로 작성되어야 하는데, 아래에서 설명하겠다.&lt;/li&gt;&lt;li&gt;리소스의 Full Name은 API Group(위의 경우 &lt;code class=&quot;language-text&quot;&gt;heumsi.github.io&lt;/code&gt;)을 포함하는데, API Group은 리소스 구분을 위한 일종의 네임스페이스라 보면 된다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;계속해서 더 작성해보자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# crd.yaml&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; apiextensions.k8s.io/v1
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; CustomResourceDefinition
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;# name must match the spec fields below, and be in the form: &amp;lt;plural&amp;gt;.&amp;lt;group&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; applications.heumsi.github.io
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  &lt;span class=&quot;token comment&quot;&gt;# group name to use for REST API: /apis/&amp;lt;group&amp;gt;/&amp;lt;version&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  &lt;span class=&quot;token key atrule&quot;&gt;group&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; heumsi.github.io&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  &lt;span class=&quot;token comment&quot;&gt;# either Namespaced or Cluster&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  &lt;span class=&quot;token key atrule&quot;&gt;scope&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Namespaced&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  &lt;span class=&quot;token key atrule&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token comment&quot;&gt;# plural name to be used in the URL: /apis/&amp;lt;group&amp;gt;/&amp;lt;version&amp;gt;/&amp;lt;plural&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token key atrule&quot;&gt;plural&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; applications&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token comment&quot;&gt;# singular name to be used as an alias on the CLI and for display&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token key atrule&quot;&gt;singular&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; application&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token comment&quot;&gt;# kind is normally the CamelCased singular type. Your resource manifests use this.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Application&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token comment&quot;&gt;# shortNames allow shorter string to match your resource on the CLI&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token key atrule&quot;&gt;shortNames&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; app&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;spec.group&lt;/code&gt; 의 값은 API Group이다. API Group은 보통 자신의 도메인을 사용한다.&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;spec.scope&lt;/code&gt; 의 값은 이 커스텀 리소스가 배포되었을 때의 유효 범위이다.&lt;ul&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Namespaced&lt;/code&gt; 로 주면 커스텀 리소스는 네임스페이스 범위로 배포된다.&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Cluster&lt;/code&gt; 로 주면 커스텀 리소스는 클러스터 범위로 배포된다.&lt;/li&gt;&lt;li&gt;CRD 자체는 Cluster 범위다. 여기서 말하는 &lt;code class=&quot;language-text&quot;&gt;scoped&lt;/code&gt; 값은 CR(여기선 &lt;code class=&quot;language-text&quot;&gt;Applicaton&lt;/code&gt;)의 범위를 말하는 것이다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;spec.names&lt;/code&gt; 에는 이 리소스를 부르는 여러 이름을 담는다.&lt;ul&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;plural&lt;/code&gt; 의 값은 이 리소스의 복수 형태의 이름이다.&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;singular&lt;/code&gt; 의 값은 이 리소스의 단수 형태의 이름이다.&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;kind&lt;/code&gt; 의 값은 이 리소스를 생성할 때 작성하는 단수 형태의 이름이다.&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;shortNames&lt;/code&gt; 의 값은 이 리소스를 부르는 단축 형태의 이름으로, 일종의 Alias다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;이제 실제로 &lt;code class=&quot;language-text&quot;&gt;Application&lt;/code&gt; 은 어떤 스펙을 담고있어야 하는지 작성해보자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# crd.yaml&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; apiextensions.k8s.io/v1
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; CustomResourceDefinition
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;# name must match the spec fields below, and be in the form: &amp;lt;plural&amp;gt;.&amp;lt;group&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; applications.heumsi.github.io
&lt;span class=&quot;token key atrule&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;# group name to use for REST API: /apis/&amp;lt;group&amp;gt;/&amp;lt;version&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;group&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; heumsi.github.io
  &lt;span class=&quot;token comment&quot;&gt;# either Namespaced or Cluster&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;scope&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Namespaced
  &lt;span class=&quot;token key atrule&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;# plural name to be used in the URL: /apis/&amp;lt;group&amp;gt;/&amp;lt;version&amp;gt;/&amp;lt;plural&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;plural&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; applications
    &lt;span class=&quot;token comment&quot;&gt;# singular name to be used as an alias on the CLI and for display&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;singular&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; application
    &lt;span class=&quot;token comment&quot;&gt;# kind is normally the CamelCased singular type. Your resource manifests use this.&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Application
    &lt;span class=&quot;token comment&quot;&gt;# shortNames allow shorter string to match your resource on the CLI&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;shortNames&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; app
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  &lt;span class=&quot;token comment&quot;&gt;# list of versions supported by this CustomResourceDefinition&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  &lt;span class=&quot;token key atrule&quot;&gt;versions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; v1&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token comment&quot;&gt;# Each version can be enabled/disabled by Served flag.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token key atrule&quot;&gt;served&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean important&quot;&gt;true&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token comment&quot;&gt;# One and only one version must be marked as the storage version.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token key atrule&quot;&gt;storage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean important&quot;&gt;true&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token key atrule&quot;&gt;schema&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;        &lt;span class=&quot;token key atrule&quot;&gt;openAPIV3Schema&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;          &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; object&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;          &lt;span class=&quot;token key atrule&quot;&gt;properties&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;            &lt;span class=&quot;token key atrule&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;              &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; object&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;              &lt;span class=&quot;token key atrule&quot;&gt;x-kubernetes-preserve-unknown-fields&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean important&quot;&gt;true&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;              &lt;span class=&quot;token key atrule&quot;&gt;properties&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;                &lt;span class=&quot;token key atrule&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;                  &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; string&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;                &lt;span class=&quot;token key atrule&quot;&gt;replicas&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;                  &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; integer&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;                &lt;span class=&quot;token key atrule&quot;&gt;port&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;                  &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; integer&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;              &lt;span class=&quot;token key atrule&quot;&gt;required&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;                &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; image&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;                &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; replicas&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;                &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; port&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;            &lt;span class=&quot;token key atrule&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;              &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; object&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;              &lt;span class=&quot;token key atrule&quot;&gt;x-kubernetes-preserve-unknown-fields&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean important&quot;&gt;true&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;          &lt;span class=&quot;token key atrule&quot;&gt;required&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;            &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; spec&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;spec.versions&lt;/code&gt; 내에 버전 단위로 스펙을 작성한다.&lt;ul&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;served&lt;/code&gt; 와 &lt;code class=&quot;language-text&quot;&gt;storage&lt;/code&gt;는 실제 운영에 제공할 버전에 대한 표시이며, 제공할 버전은 &lt;code class=&quot;language-text&quot;&gt;true&lt;/code&gt; 로 둔다.&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;schema&lt;/code&gt; 항목에 실제 스펙을 작성하며, 스펙 포맷은 &lt;code class=&quot;language-text&quot;&gt;openAPIV3Schema&lt;/code&gt; 를 사용한다.&lt;ul&gt;&lt;li&gt;우리가 json 스키마를 정의할 때 흔히 쓰는 그 &lt;a href=&quot;https://swagger.io/specification/&quot;&gt;OpenAPI 스키마&lt;/a&gt;가 맞다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;x-kubernetes-preserve-unknown-fields&lt;/code&gt; 를 &lt;code class=&quot;language-text&quot;&gt;true&lt;/code&gt; 로 주면 추후에 동적으로 해당 field 값을 수정할 수 있다. 왠만하면 &lt;code class=&quot;language-text&quot;&gt;true&lt;/code&gt; 로 주자.&lt;/li&gt;&lt;/ul&gt;&lt;blockquote&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;x-kubernetes-preserve-unknown-fields&lt;/code&gt; 에 대해서 좀 더 알아보고 싶다면, &lt;a href=&quot;https://kubernetes.io/docs/tasks/extend-kubernetes/custom-resources/custom-resource-definitions/#controlling-pruning&quot;&gt;공식 문서&lt;/a&gt;를 확인해봐도 좋다.&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;여기서는 위에서 필요하다고 이야기한 설정 값에 맞게 &lt;code class=&quot;language-text&quot;&gt;image&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;replicas&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;port&lt;/code&gt; 이 3개의 속성 값을 &lt;code class=&quot;language-text&quot;&gt;spec&lt;/code&gt; 안에 설정하였다.&lt;/p&gt;&lt;h3 id=&quot;crd-배포하기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#crd-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0&quot; aria-label=&quot;crd 배포하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;CRD 배포하기&lt;/h3&gt;&lt;p&gt;이제 위에서 작성한 CRD를 다음처럼 배포하자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl apply -f crd.yaml

customresourcedefinition.apiextensions.k8s.io/applications.heumsi.github.io created&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;이제 다음처럼 조회도 되고&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl get crd
 
NAME                            CREATED AT
applications.heumsi.github.io   &lt;span class=&quot;token number&quot;&gt;2022&lt;/span&gt;-07-13T12:16:19Z&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;다음처럼 확인할 수도 있다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl describe crd applications.heumsi.github.io

Name:         applications.heumsi.github.io
Namespace:    
Labels:       &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;none&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
Annotations:  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;none&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
API Version:  apiextensions.k8s.io/v1
Kind:         CustomResourceDefinition
Metadata:
  &lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.
Spec:
  &lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.
Status:
  &lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.
Events:
  &lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;이렇게 CRD 자체는 클러스터 전역에서 배포된다.&lt;/p&gt;&lt;h3 id=&quot;cr-작성하기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#cr-%EC%9E%91%EC%84%B1%ED%95%98%EA%B8%B0&quot; aria-label=&quot;cr 작성하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;CR 작성하기&lt;/h3&gt;&lt;p&gt;이제 위에서 CRD로 정의한 CR을 작성해보자.
&lt;code class=&quot;language-text&quot;&gt;application.yaml&lt;/code&gt; 을 만들고 다음처럼 작성한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# application.yaml&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; heumsi.github.io/v1
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Application
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; nginx
&lt;span class=&quot;token key atrule&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; nginx&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;latest
  &lt;span class=&quot;token key atrule&quot;&gt;replicas&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;port&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;80&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;위 &lt;code class=&quot;language-text&quot;&gt;crd.yaml&lt;/code&gt; 에서 작성한 &lt;code class=&quot;language-text&quot;&gt;spec&lt;/code&gt; 에 맞춰 &lt;code class=&quot;language-text&quot;&gt;application.yaml&lt;/code&gt; 을 작성하였다.
이제 우리는 이 &lt;code class=&quot;language-text&quot;&gt;application.yaml&lt;/code&gt; 을 배포하면 다음의 일들이 일어나길 기대한다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Deployment&lt;/code&gt; 가 배포된다.&lt;ul&gt;&lt;li&gt;Container는 하나이며 &lt;code class=&quot;language-text&quot;&gt;image&lt;/code&gt; 는 &lt;code class=&quot;language-text&quot;&gt;nginx:latest&lt;/code&gt; 이다.&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;replicas&lt;/code&gt; 는 &lt;code class=&quot;language-text&quot;&gt;1&lt;/code&gt; 이다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Service&lt;/code&gt; 가 배포된다.&lt;ul&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Deployment&lt;/code&gt; 로 만들어진 &lt;code class=&quot;language-text&quot;&gt;Pod&lt;/code&gt; 들에 연결된다.&lt;/li&gt;&lt;li&gt;포트는 &lt;code class=&quot;language-text&quot;&gt;80:80&lt;/code&gt; 으로 설정된다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h3 id=&quot;cr-배포하기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#cr-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0&quot; aria-label=&quot;cr 배포하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;CR 배포하기&lt;/h3&gt;&lt;p&gt;위에서 작성한 &lt;code class=&quot;language-text&quot;&gt;application.yaml&lt;/code&gt; 을 배포하자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl apply -f application.yaml

application.heumsi.github.io/nginx created&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;마찬가지로 다음처럼 조회할 수 있다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl get applications   

NAME    AGE
nginx   35s&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;다음처럼 &lt;code class=&quot;language-text&quot;&gt;crd.yaml&lt;/code&gt; 에서 설정한 &lt;code class=&quot;language-text&quot;&gt;shortNames&lt;/code&gt; 이나 &lt;code class=&quot;language-text&quot;&gt;group&lt;/code&gt; 으로도 조회 가능하다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl get app
 
NAME    AGE
nginx   2m38s

$ kubectl get applications.heumsi.github.io
 
NAME    AGE
nginx   2m29s&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;CR을 배포했으나 아직 Deployment나 Service는 만들어지지 않았다.
CR을 모니터링하며 어떤 추가적인 작업을 실행하려면 Operator를 만들어야 한다.&lt;/p&gt;&lt;h2 id=&quot;operator&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#operator&quot; aria-label=&quot;operator permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Operator&lt;/h2&gt;&lt;h3 id=&quot;operator-란&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#operator-%EB%9E%80&quot; aria-label=&quot;operator 란 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Operator 란?&lt;/h3&gt;&lt;p&gt;Operator는 위에서 설명한대로, 특정 리소스를 계속 모니터링하며 무언가의 작업을 수행하는 역할을 담당한다.&lt;/p&gt;&lt;p&gt;예를 들어 어떤 CR이 생성되면 추가적인 특정 파드를 띄운다던가, CR에 변경이 일어나면 이러한 내용을 어딘가에 저장하게 할 수 있다.
이렇게 리소스를 모니터링하며 발생하는 이벤트에 따라 사용자가 추가적인 로직을 부여하고 싶을 때 Operator를 사용한다. &lt;/p&gt;&lt;h3 id=&quot;kopf-란&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#kopf-%EB%9E%80&quot; aria-label=&quot;kopf 란 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Kopf 란?&lt;/h3&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/nolar/kopf&quot;&gt;Kopf&lt;/a&gt;는 Kubernetes OPerator Framework의 약자로,
Python으로 Operator를 만들 수 있게 도와주는 프레임워크다.&lt;/p&gt;&lt;p&gt;말 그대로 프레임워크다 보니, 많은 것들이 추상화 되어있고 우리는 주어진 프레임 안에서 적당히 잘 코딩을 하면 된다.
비슷한 도구로 &lt;a href=&quot;https://github.com/operator-framework/operator-sdk&quot;&gt;CoreOS Operator SDK&lt;/a&gt;나
&lt;a href=&quot;https://operatorframework.io/&quot;&gt;CoreOS Operator Framework&lt;/a&gt;들도 있지만, Kopf 개발자들은 Kopf가 이들보다 사용하기 훨씬 쉬운 프레임워크라고 말한다.&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;kopf 대안에 대해 좀 더 자세히 적어둔 글이 있는데, 궁금하면 &lt;a href=&quot;https://kopf.readthedocs.io/en/stable/alternatives/&quot;&gt;공식 문서&lt;/a&gt;를 확인하자.&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;그럼 이제 kopf로 Operator를 작성해보자.&lt;/p&gt;&lt;h3 id=&quot;kopf-설치하기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#kopf-%EC%84%A4%EC%B9%98%ED%95%98%EA%B8%B0&quot; aria-label=&quot;kopf 설치하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Kopf 설치하기&lt;/h3&gt;&lt;p&gt;먼저 다음처럼 &lt;code class=&quot;language-text&quot;&gt;kopf&lt;/code&gt; 를 설치한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ pip &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; kopf

kopf --version
kopf, version &lt;span class=&quot;token number&quot;&gt;1.35&lt;/span&gt;.5&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://pip.pypa.io/en/stable/&quot;&gt;pip&lt;/a&gt;는 Python package manager로, Python을 설치하면 같이 설치된다.
아직 pip가 설치되지 않았다면, Python 설치를 먼저 진행하자.
Python은 &lt;a href=&quot;https://github.com/pyenv/pyenv&quot;&gt;pyenv&lt;/a&gt;로 쉽게 설치할 수 있다.&lt;/p&gt;&lt;/blockquote&gt;&lt;h3 id=&quot;yaml-파일-작성하기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#yaml-%ED%8C%8C%EC%9D%BC-%EC%9E%91%EC%84%B1%ED%95%98%EA%B8%B0&quot; aria-label=&quot;yaml 파일 작성하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;yaml 파일 작성하기&lt;/h3&gt;&lt;p&gt;먼저 Deployment와 Service로 사용할 yaml 파일을 다음처럼 작성하자.
&lt;code class=&quot;language-text&quot;&gt;service.yaml&lt;/code&gt; 을 만든 뒤 다음처럼 작성한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# service.yaml&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; v1
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Service
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;{name}&amp;quot;&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;selector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;{name}&amp;quot;&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;ports&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; http
      &lt;span class=&quot;token key atrule&quot;&gt;protocol&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; TCP
      &lt;span class=&quot;token key atrule&quot;&gt;port&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;port&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;targetPort&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;port&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;deployment.yaml&lt;/code&gt; 을 만든 뒤 다음처럼 작성한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# deployment.yaml&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; apps/v1
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Deployment
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;{name}&amp;quot;&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;labels&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;{name}&amp;quot;&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;replicas&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;replicas&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;selector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;matchLabels&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;{name}&amp;quot;&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;template&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;labels&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;{name}&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;containers&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;{name}&amp;quot;&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;{image}&amp;quot;&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;ports&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;containerPort&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;port&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;yaml&lt;/code&gt; 파일 내 &lt;code class=&quot;language-text&quot;&gt;{}&lt;/code&gt; 로 표현된 변수들은 Python 코드에서 주입해줄 예정이다.&lt;/p&gt;&lt;h3 id=&quot;cr-생성-이벤트-핸들러-작성하기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#cr-%EC%83%9D%EC%84%B1-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%ED%95%B8%EB%93%A4%EB%9F%AC-%EC%9E%91%EC%84%B1%ED%95%98%EA%B8%B0&quot; aria-label=&quot;cr 생성 이벤트 핸들러 작성하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;CR 생성 이벤트 핸들러 작성하기&lt;/h3&gt;&lt;p&gt;이제 진짜로 Operator를 작성해보자.
&lt;code class=&quot;language-text&quot;&gt;main.py&lt;/code&gt; 를 만든 뒤 다음처럼 작성한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# main.py&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; kopf


&lt;span class=&quot;token decorator annotation punctuation&quot;&gt;@kopf&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;on&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;heumsi.github.io&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;v1&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;applications&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; logger&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;**&lt;/span&gt;kwargs&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    logger&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;info&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-interpolation&quot;&gt;&lt;span class=&quot;token string&quot;&gt;f&amp;quot;Application &amp;#x27;&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27; is created.&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;applications.v1.heumsi.github.io&lt;/code&gt; 리소스가 생성될 때 이를 감지하여 &lt;code class=&quot;language-text&quot;&gt;create&lt;/code&gt; 함수가 실행되는 코드다.
즉 &lt;code class=&quot;language-text&quot;&gt;create&lt;/code&gt; 라고 하는 이벤트의 핸들러를 kopf 에서는 위처럼 작성하게 된다.&lt;/p&gt;&lt;p&gt;위 코드를 다음처럼 실행한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kopf run main.py --verbose

&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2022&lt;/span&gt;-07-13 &lt;span class=&quot;token number&quot;&gt;22&lt;/span&gt;:18:08,392&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; kopf._core.reactor.r &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;DEBUG   &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; Starting Kopf &lt;span class=&quot;token number&quot;&gt;1.35&lt;/span&gt;.5.
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2022&lt;/span&gt;-07-13 &lt;span class=&quot;token number&quot;&gt;22&lt;/span&gt;:18:08,392&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; kopf._core.engines.a &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;INFO    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; Initial authentication has been initiated.
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2022&lt;/span&gt;-07-13 &lt;span class=&quot;token number&quot;&gt;22&lt;/span&gt;:18:08,392&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; kopf.activities.auth &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;DEBUG   &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; Activity &lt;span class=&quot;token string&quot;&gt;&amp;#x27;login_via_client&amp;#x27;&lt;/span&gt; is invoked.
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2022&lt;/span&gt;-07-13 &lt;span class=&quot;token number&quot;&gt;22&lt;/span&gt;:18:08,417&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; kopf.activities.auth &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;DEBUG   &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; Client is configured via kubeconfig file.
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2022&lt;/span&gt;-07-13 &lt;span class=&quot;token number&quot;&gt;22&lt;/span&gt;:18:08,418&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; kopf.activities.auth &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;INFO    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; Activity &lt;span class=&quot;token string&quot;&gt;&amp;#x27;login_via_client&amp;#x27;&lt;/span&gt; succeeded.
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2022&lt;/span&gt;-07-13 &lt;span class=&quot;token number&quot;&gt;22&lt;/span&gt;:18:08,418&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; kopf._core.engines.a &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;INFO    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; Initial authentication has finished.
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2022&lt;/span&gt;-07-13 &lt;span class=&quot;token number&quot;&gt;22&lt;/span&gt;:18:08,464&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; kopf._cogs.clients.w &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;DEBUG   &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; Starting the watch-stream &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; customresourcedefinitions.v1.apiextensions.k8s.io cluster-wide.
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2022&lt;/span&gt;-07-13 &lt;span class=&quot;token number&quot;&gt;22&lt;/span&gt;:18:08,465&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; kopf._cogs.clients.w &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;DEBUG   &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; Starting the watch-stream &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; applications.v1.heumsi.github.io cluster-wide.
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2022&lt;/span&gt;-07-13 &lt;span class=&quot;token number&quot;&gt;22&lt;/span&gt;:18:08,573&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; kopf.objects         &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;DEBUG   &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;default/nginx&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; Creation is &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; progress: &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;apiVersion&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;heumsi.github.io/v1&amp;#x27;&lt;/span&gt;, &lt;span class=&quot;token string&quot;&gt;&amp;#x27;kind&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;Application&amp;#x27;&lt;/span&gt;, &lt;span class=&quot;token string&quot;&gt;&amp;#x27;metadata&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;annotations&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;kubectl.kubernetes.io/last-applied-configuration&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;{&amp;quot;apiVersion&amp;quot;:&amp;quot;heumsi.github.io/v1&amp;quot;,&amp;quot;kind&amp;quot;:&amp;quot;Application&amp;quot;,&amp;quot;metadata&amp;quot;:{&amp;quot;annotations&amp;quot;:{},&amp;quot;name&amp;quot;:&amp;quot;nginx&amp;quot;,&amp;quot;namespace&amp;quot;:&amp;quot;default&amp;quot;},&amp;quot;spec&amp;quot;:{&amp;quot;image&amp;quot;:&amp;quot;nginx:latest&amp;quot;,&amp;quot;port&amp;quot;:80,&amp;quot;replicas&amp;quot;:1}}\n&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;, &lt;span class=&quot;token string&quot;&gt;&amp;#x27;creationTimestamp&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;2022-07-13T13:18:02Z&amp;#x27;&lt;/span&gt;, &lt;span class=&quot;token string&quot;&gt;&amp;#x27;generation&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;token string&quot;&gt;&amp;#x27;managedFields&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;apiVersion&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;heumsi.github.io/v1&amp;#x27;&lt;/span&gt;, &lt;span class=&quot;token string&quot;&gt;&amp;#x27;fieldsType&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;FieldsV1&amp;#x27;&lt;/span&gt;, &lt;span class=&quot;token string&quot;&gt;&amp;#x27;fieldsV1&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;f:metadata&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;f:annotations&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;.&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;, &lt;span class=&quot;token string&quot;&gt;&amp;#x27;f:kubectl.kubernetes.io/last-applied-configuration&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;, &lt;span class=&quot;token string&quot;&gt;&amp;#x27;f:spec&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;.&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;, &lt;span class=&quot;token string&quot;&gt;&amp;#x27;f:image&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;, &lt;span class=&quot;token string&quot;&gt;&amp;#x27;f:port&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;, &lt;span class=&quot;token string&quot;&gt;&amp;#x27;f:replicas&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;, &lt;span class=&quot;token string&quot;&gt;&amp;#x27;manager&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;kubectl-client-side-apply&amp;#x27;&lt;/span&gt;, &lt;span class=&quot;token string&quot;&gt;&amp;#x27;operation&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;Update&amp;#x27;&lt;/span&gt;, &lt;span class=&quot;token string&quot;&gt;&amp;#x27;time&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;2022-07-13T13:18:02Z&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;, &lt;span class=&quot;token string&quot;&gt;&amp;#x27;name&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;nginx&amp;#x27;&lt;/span&gt;, &lt;span class=&quot;token string&quot;&gt;&amp;#x27;namespace&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;default&amp;#x27;&lt;/span&gt;, &lt;span class=&quot;token string&quot;&gt;&amp;#x27;resourceVersion&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;79214&amp;#x27;&lt;/span&gt;, &lt;span class=&quot;token string&quot;&gt;&amp;#x27;uid&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;f6f0f256-aaa8-4a42-83f2-3df27755ab06&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;, &lt;span class=&quot;token string&quot;&gt;&amp;#x27;spec&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;image&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;nginx:latest&amp;#x27;&lt;/span&gt;, &lt;span class=&quot;token string&quot;&gt;&amp;#x27;port&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;80&lt;/span&gt;, &lt;span class=&quot;token string&quot;&gt;&amp;#x27;replicas&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2022&lt;/span&gt;-07-13 &lt;span class=&quot;token number&quot;&gt;22&lt;/span&gt;:18:08,574&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; kopf.objects         &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;DEBUG   &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;default/nginx&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; Handler &lt;span class=&quot;token string&quot;&gt;&amp;#x27;create&amp;#x27;&lt;/span&gt; is invoked.
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2022&lt;/span&gt;-07-13 &lt;span class=&quot;token number&quot;&gt;22&lt;/span&gt;:18:08,574&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; kopf.objects         &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;INFO    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;default/nginx&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; Application &lt;span class=&quot;token string&quot;&gt;&amp;#x27;nginx&amp;#x27;&lt;/span&gt; is created.
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2022&lt;/span&gt;-07-13 &lt;span class=&quot;token number&quot;&gt;22&lt;/span&gt;:18:08,576&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; kopf.objects         &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;INFO    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;default/nginx&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; Handler &lt;span class=&quot;token string&quot;&gt;&amp;#x27;create&amp;#x27;&lt;/span&gt; succeeded.
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2022&lt;/span&gt;-07-13 &lt;span class=&quot;token number&quot;&gt;22&lt;/span&gt;:18:08,576&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; kopf.objects         &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;INFO    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;default/nginx&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; Creation is processed: &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; succeeded&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; failed.
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2022&lt;/span&gt;-07-13 &lt;span class=&quot;token number&quot;&gt;22&lt;/span&gt;:18:08,577&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; kopf.objects         &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;DEBUG   &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;default/nginx&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; Patching with: &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;metadata&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;annotations&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;kopf.zalando.org/last-handled-configuration&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;{&amp;quot;spec&amp;quot;:{&amp;quot;image&amp;quot;:&amp;quot;nginx:latest&amp;quot;,&amp;quot;port&amp;quot;:80,&amp;quot;replicas&amp;quot;:1}}\n&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2022&lt;/span&gt;-07-13 &lt;span class=&quot;token number&quot;&gt;22&lt;/span&gt;:18:08,690&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; kopf.objects         &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;DEBUG   &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;default/nginx&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; Something has changed, but we are not interested &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;the essence is the same&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;.
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2022&lt;/span&gt;-07-13 &lt;span class=&quot;token number&quot;&gt;22&lt;/span&gt;:18:08,690&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; kopf.objects         &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;DEBUG   &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;default/nginx&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; Handling cycle is finished, waiting &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; new changes.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;로그를 보면 핸들러에서 &lt;code class=&quot;language-text&quot;&gt;applications.heumsi.github.io&lt;/code&gt; 리소스가 생성된 것을 감지하고 있다.&lt;/p&gt;&lt;p&gt;또한 생성된 CR의 Events에도 위 Operator가 작업한 이벤트가 기록된다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;$ kubectl describe app nginx

&lt;span class=&quot;token key atrule&quot;&gt;Name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;         nginx
&lt;span class=&quot;token key atrule&quot;&gt;Namespace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;    default
&lt;span class=&quot;token key atrule&quot;&gt;Labels&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;       &amp;lt;none&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;Annotations&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;token key atrule&quot;&gt;kopf.zalando.org/last-handled-configuration&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&amp;quot;spec&amp;quot;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&amp;quot;image&amp;quot;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;nginx:latest&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&amp;quot;port&amp;quot;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&amp;quot;replicas&amp;quot;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;API Version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;  heumsi.github.io/v1
&lt;span class=&quot;token key atrule&quot;&gt;Kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;         Application
&lt;span class=&quot;token key atrule&quot;&gt;Metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;Creation Timestamp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;token datetime number&quot;&gt;2022-07-10T06:45:11Z&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;Generation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;          &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;Managed Fields&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;API Version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;  heumsi.github.io/v1
    &lt;span class=&quot;token key atrule&quot;&gt;Fields Type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;  FieldsV1
    &lt;span class=&quot;token key atrule&quot;&gt;fieldsV1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;f:metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;f:annotations&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;f:kubectl.kubernetes.io/last-applied-configuration&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;f:spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;f:image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;f:port&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;f:replicas&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;Manager&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;      kubectl&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;client&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;side&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;apply
    &lt;span class=&quot;token key atrule&quot;&gt;Operation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;    Update
    &lt;span class=&quot;token key atrule&quot;&gt;Time&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;         &lt;span class=&quot;token datetime number&quot;&gt;2022-07-10T06:45:11Z&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;API Version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;  heumsi.github.io/v1
    &lt;span class=&quot;token key atrule&quot;&gt;Fields Type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;  FieldsV1
    &lt;span class=&quot;token key atrule&quot;&gt;fieldsV1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;f:metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;f:annotations&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;f:kopf.zalando.org/last-handled-configuration&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;Manager&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;         kopf
    &lt;span class=&quot;token key atrule&quot;&gt;Operation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;       Update
    &lt;span class=&quot;token key atrule&quot;&gt;Time&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;            &lt;span class=&quot;token datetime number&quot;&gt;2022-07-10T06:45:59Z&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;Resource Version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;3413&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;UID&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;               289ff6b3&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;29a1&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;4896&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;b8f3&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;82c20c4a904e
&lt;span class=&quot;token key atrule&quot;&gt;Spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;Image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;     nginx&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;latest
  &lt;span class=&quot;token key atrule&quot;&gt;Port&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;      &lt;span class=&quot;token number&quot;&gt;80&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;Replicas&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;Events&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  Type    Reason   Age   From  Message&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  &lt;span class=&quot;token punctuation&quot;&gt;---&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;    &lt;span class=&quot;token punctuation&quot;&gt;---&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;---&lt;/span&gt;   &lt;span class=&quot;token punctuation&quot;&gt;---&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;  &lt;span class=&quot;token punctuation&quot;&gt;---&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;  &lt;span class=&quot;token punctuation&quot;&gt;---&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;---&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  &lt;span class=&quot;token key atrule&quot;&gt;Normal  Logging  8s    kopf  Creation is processed&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1 succeeded; 0 failed.&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  Normal  Logging  8s    kopf  Handler &amp;#x27;create_fn&amp;#x27; succeeded.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;그러면 이제 &lt;code class=&quot;language-text&quot;&gt;main.py&lt;/code&gt; 내 &lt;code class=&quot;language-text&quot;&gt;create&lt;/code&gt; 함수 내에 Deployment와 Service를 배포하는 코드를 작성해보자.&lt;/p&gt;&lt;p&gt;코드에서 Kubernetes API를 Python SDK 형태로 쓰기 위해 다음 패키지를 설치한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ pip &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; kubernetes
$ pip list &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;grep&lt;/span&gt; kubernetes

kubernetes         &lt;span class=&quot;token number&quot;&gt;24.2&lt;/span&gt;.0&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;main.py&lt;/code&gt; 를 다음처럼 수정한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; os

&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; kopf

&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; kubernetes
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; yaml


&lt;span class=&quot;token decorator annotation punctuation&quot;&gt;@kopf&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;on&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;heumsi.github.io&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;v1&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;applications&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; spec&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; namespace&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; logger&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;**&lt;/span&gt;kwargs&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    logger&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;info&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-interpolation&quot;&gt;&lt;span class=&quot;token string&quot;&gt;f&amp;quot;Application &amp;#x27;&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27; is created.&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    kapps_v1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; kubernetes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;client&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;AppsV1Api&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    kcore_v1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; kubernetes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;client&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;CoreV1Api&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;# Create Deployment&lt;/span&gt;
    path &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; os&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;join&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;os&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dirname&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__file__&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;deployment.yaml&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    tmpl &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;rt&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;read&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    text &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; tmpl&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;**&lt;/span&gt;spec&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; yaml&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;safe_load&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;text&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    kopf&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;adopt&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;# Add as child&lt;/span&gt;
    deployment &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; kapps_v1&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;create_namespaced_deployment&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        namespace&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;namespace&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        body&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;data
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    logger&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;info&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-interpolation&quot;&gt;&lt;span class=&quot;token string&quot;&gt;f&amp;quot;Deployment &amp;#x27;&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27; is created.&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    logger&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;debug&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;deployment&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;# Create Service&lt;/span&gt;
    path &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; os&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;join&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;os&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dirname&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__file__&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;service.yaml&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    tmpl &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;rt&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;read&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    text &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; tmpl&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;**&lt;/span&gt;spec&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; yaml&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;safe_load&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;text&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    kopf&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;adopt&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;# Add as child&lt;/span&gt;
    service &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; kcore_v1&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;create_namespaced_service&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        namespace&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;namespace&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        body&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;data
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    logger&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;info&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-interpolation&quot;&gt;&lt;span class=&quot;token string&quot;&gt;f&amp;quot;Service &amp;#x27;&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27; is created.&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    logger&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;debug&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;service&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&amp;quot;deployment&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; deployment&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;metadata&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&amp;quot;service&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; service&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;metadata&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;별 다른 내용은 없고, &lt;code class=&quot;language-text&quot;&gt;kubernetes&lt;/code&gt; 패키지로 Deployment와 Service를 생성하는 코드다.
&lt;code class=&quot;language-text&quot;&gt;tmpl.format(name=name, **spec)&lt;/code&gt; 코드를 통해 이전에 작성한 &lt;code class=&quot;language-text&quot;&gt;deployment.yaml&lt;/code&gt; 와 &lt;code class=&quot;language-text&quot;&gt;service.yaml&lt;/code&gt; 에
&lt;code class=&quot;language-text&quot;&gt;name&lt;/code&gt; 및 &lt;code class=&quot;language-text&quot;&gt;spec&lt;/code&gt; 의 데이터를 주입하여 실제로 배포할 yaml 파일을 렌더링한다.
이후 &lt;code class=&quot;language-text&quot;&gt;kubernetes.client&lt;/code&gt; 를 통해 이 yaml 파일을 배포한다.&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;kubernetes.client&lt;/code&gt; 는 리소스의 &lt;code class=&quot;language-text&quot;&gt;apiVersion&lt;/code&gt; 에 따라 나뉜다.
예를 들어 &lt;code class=&quot;language-text&quot;&gt;apiVersion&lt;/code&gt; 이 &lt;code class=&quot;language-text&quot;&gt;v1&lt;/code&gt; 인 리소스는 &lt;code class=&quot;language-text&quot;&gt;kubernetes.client.CoreV1Api&lt;/code&gt; 를 사용하면 되고,
&lt;code class=&quot;language-text&quot;&gt;apiVersion&lt;/code&gt; 이 &lt;code class=&quot;language-text&quot;&gt;apps/v1&lt;/code&gt; 인 리소스는 &lt;code class=&quot;language-text&quot;&gt;kubernetes.client.AppsV1Api&lt;/code&gt; 를 사용하면 된다.&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;그리고 &lt;code class=&quot;language-text&quot;&gt;kopf.adopt(data)&lt;/code&gt; 코드를 넣어주게 되면, 배포되는 yaml 파일은 이 CR의 자식 리소스가 된다.
즉, 이 CR이 지워질 때 자식 리소스(여기서는 Deployment와 Service)가 같이 지워지게 된다.&lt;/p&gt;&lt;p&gt;마지막에는 &lt;code class=&quot;language-text&quot;&gt;Dict&lt;/code&gt; 를 반환하는데, Key, Value들은 CR의 &lt;code class=&quot;language-text&quot;&gt;status&lt;/code&gt; 항목에 핸들러 함수 이름과 함께 저장된다.
이는 아래에서 CR 배포 후 확인해보자.&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;이벤트 핸들러의 파라미터로 &lt;code class=&quot;language-text&quot;&gt;kwargs&lt;/code&gt; 를 받게 되는데, 이 안에 이벤트에 대한 각종 정보들이 담겨있다.
&lt;code class=&quot;language-text&quot;&gt;kwargs&lt;/code&gt; 에 어떤 정보가 있는지 직접 디버깅하며 스크린샷을 찍어보았다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:67.56756756756756%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACSUlEQVQ4y22S2XLbMAxF9VWxJVsbxVWkZclxncRJmmXy1un0HzpNmn716ZBe2nT6cAYgSEAArjIx3iB3d4jpgdxsmesNM73hQm8ozIZCjVyIwKxbMe+GIwf/FJuJFY3/hB62ZNoGlmZEGYlxGmk61BFtBMYIlGqQqqEVZUKIirYtEV2FiOfu4PehJxN+YKYCi+kb5vkd9fkVdf+d8PIL+/QT8/iGeXpPVj++0j+/EV7e6Z9f0716eEU/vlHtfyB3X8nurtfsJkNudtTbL4zTC+34QjM80QzP5PaWubmlcHfk9o652ZObPUWM6326m+k9M32LXN2QXe8GtqOhaiomW3NjNVpLpJb40DOMA6shoLRCdIKyLlmWS4rlgkX5F8uCWgiysmmJFHXL1kuuXEBZj3IH3GqN8UPydR9QLlAJmd4vanGmqFqEtmR5WVNUDXndMnnFVSxkHdL2SOtolaGRCqFMSljULeecsj77kUZqsugsqoZ53eLCisl5OtvjwpCoO5WIjyOxaCs1rdJ0xiXifV42yT8XjB0G3xNsT2cdfhhTQdMHjD9wGls7n4rHbpeNSLao6rS67NRu3Mmub7l0HmFcKjRMl6lwGKdk/Xo6x6RxibiSTlsqoeiM/9ihC4HR9mgfCOvpvMeYqGK8D9RCpq7KtkviRBs5xf7ssGqpwoZdVPaobhwtJqXRjuPF9/NllcQ42b/50OEUNPd+hT/+MnHskxBJgKONnXfGJhvVP4kTP34uGP+jUlmUkEnFqFy8O43yP6p/znGS37ph/u69ubvCAAAAAElFTkSuQmCC&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;1.png&quot; title=&quot;1.png&quot; src=&quot;/blog/static/a3ceabfcb0b980bfaec18bc85d7a2505/fcda8/1.png&quot; srcSet=&quot;/blog/static/a3ceabfcb0b980bfaec18bc85d7a2505/12f09/1.png 148w,/blog/static/a3ceabfcb0b980bfaec18bc85d7a2505/e4a3f/1.png 295w,/blog/static/a3ceabfcb0b980bfaec18bc85d7a2505/fcda8/1.png 590w,/blog/static/a3ceabfcb0b980bfaec18bc85d7a2505/d4c13/1.png 825w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;다시 코드로 표현하면 다음과 같다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;{
  &amp;#x27;annotations&amp;#x27;: {&amp;#x27;kubectl.kubernetes.io/last-applied-configuration&amp;#x27;: &amp;#x27;{&amp;quot;apiVersion&amp;quot;:&amp;quot;heumsi.github.io/v1&amp;quot;,&amp;quot;kind&amp;quot;:&amp;quot;Application&amp;quot;,&amp;quot;metadata&amp;quot;:{&amp;quot;annotations&amp;quot;:{},&amp;quot;name&amp;quot;:&amp;quot;nginx&amp;quot;,&amp;quot;namespace&amp;quot;:&amp;quot;default&amp;quot;},&amp;quot;spec&amp;quot;:{&amp;quot;image&amp;quot;:&amp;quot;nginx:latest&amp;quot;,&amp;quot;port&amp;quot;:80,&amp;quot;replicas&amp;quot;:1}}\n&amp;#x27;},
  &amp;#x27;diff&amp;#x27;: ((&amp;#x27;add&amp;#x27;, (), None, {&amp;#x27;spec&amp;#x27;: {&amp;#x27;image&amp;#x27;: &amp;#x27;nginx:latest&amp;#x27;, &amp;#x27;port&amp;#x27;: 80, &amp;#x27;replicas&amp;#x27;: 1}}),),
  &amp;#x27;labels&amp;#x27;: {},
  &amp;#x27;logger&amp;#x27;: &amp;lt;ObjectLogger kopf.objects (INFO)&amp;gt;,
  &amp;#x27;memo&amp;#x27;: {},
  &amp;#x27;meta&amp;#x27;: {&amp;#x27;annotations&amp;#x27;: {&amp;#x27;kubectl.kubernetes.io/last-applied-configuration&amp;#x27;: &amp;#x27;{&amp;quot;apiVersion&amp;quot;:&amp;quot;heumsi.github.io/v1&amp;quot;,&amp;quot;kind&amp;quot;:&amp;quot;Application&amp;quot;,&amp;quot;metadata&amp;quot;:{&amp;quot;annotations&amp;quot;:{},&amp;quot;name&amp;quot;:&amp;quot;nginx&amp;quot;,&amp;quot;namespace&amp;quot;:&amp;quot;default&amp;quot;},&amp;quot;spec&amp;quot;:{&amp;quot;image&amp;quot;:&amp;quot;nginx:latest&amp;quot;,&amp;quot;port&amp;quot;:80,&amp;quot;replicas&amp;quot;:1}}\n&amp;#x27;}, &amp;#x27;creationTimestamp&amp;#x27;: &amp;#x27;2022-07-10T08:10:10Z&amp;#x27;, &amp;#x27;generation&amp;#x27;: 1, &amp;#x27;managedFields&amp;#x27;: [{&amp;#x27;apiVersion&amp;#x27;: &amp;#x27;heumsi.github.io/v1&amp;#x27;, &amp;#x27;fieldsType&amp;#x27;: &amp;#x27;FieldsV1&amp;#x27;, &amp;#x27;fieldsV1&amp;#x27;: {&amp;#x27;f:metadata&amp;#x27;: {&amp;#x27;f:annotations&amp;#x27;: {&amp;#x27;.&amp;#x27;: {}, &amp;#x27;f:kubectl.kubernetes.io/last-applied-configuration&amp;#x27;: {}}}, &amp;#x27;f:spec&amp;#x27;: {&amp;#x27;.&amp;#x27;: {}, &amp;#x27;f:image&amp;#x27;: {}, &amp;#x27;f:port&amp;#x27;: {}, &amp;#x27;f:replicas&amp;#x27;: {}}}, &amp;#x27;manager&amp;#x27;: &amp;#x27;kubectl-client-side-apply&amp;#x27;, &amp;#x27;operation&amp;#x27;: &amp;#x27;Update&amp;#x27;, &amp;#x27;time&amp;#x27;: &amp;#x27;2022-07-10T08:10:10Z&amp;#x27;}], &amp;#x27;name&amp;#x27;: &amp;#x27;nginx&amp;#x27;, &amp;#x27;namespace&amp;#x27;: &amp;#x27;default&amp;#x27;, &amp;#x27;resourceVersion&amp;#x27;: &amp;#x27;9488&amp;#x27;, &amp;#x27;uid&amp;#x27;: &amp;#x27;f66918a2-31d7-4dff-8a77-5c7434ee7d26&amp;#x27;},
  &amp;#x27;name&amp;#x27;: &amp;#x27;nginx&amp;#x27;,
  &amp;#x27;namespace&amp;#x27;: &amp;#x27;default&amp;#x27;,
  &amp;#x27;new&amp;#x27;: {&amp;#x27;spec&amp;#x27;: {&amp;#x27;image&amp;#x27;: &amp;#x27;nginx:latest&amp;#x27;, &amp;#x27;port&amp;#x27;: 80, &amp;#x27;replicas&amp;#x27;: 1}},
  &amp;#x27;old&amp;#x27;: None,
  &amp;#x27;param&amp;#x27;: None,
  &amp;#x27;patch&amp;#x27;: {},
  &amp;#x27;reason&amp;#x27;: &amp;lt;Reason.CREATE: &amp;#x27;create&amp;#x27;&amp;gt;,
  &amp;#x27;resource&amp;#x27;: applications.v1.heumsi.github.io,
  &amp;#x27;retry&amp;#x27;: 0,
  &amp;#x27;runtime&amp;#x27;: datetime.timedelta(microseconds=447),
  &amp;#x27;spec&amp;#x27;: {&amp;#x27;image&amp;#x27;: &amp;#x27;nginx:latest&amp;#x27;, &amp;#x27;port&amp;#x27;: 80, &amp;#x27;replicas&amp;#x27;: 1},
  &amp;#x27;started&amp;#x27;: datetime.datetime(2022, 7, 10, 8, 10, 11, 102275),
  &amp;#x27;status&amp;#x27;: {},
  &amp;#x27;uid&amp;#x27;: &amp;#x27;f66918a2-31d7-4dff-8a77-5c7434ee7d26&amp;#x27;
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;핸들러에서 이 &lt;code class=&quot;language-text&quot;&gt;kwargs&lt;/code&gt; 내 key들을 파라미터로 두고 사용할 수 있다.
우리가 위에서 사용한 &lt;code class=&quot;language-text&quot;&gt;name&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;logger&lt;/code&gt; 등이 바로 이 안에 포함된 key라고 보면 된다.&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;이제 Operator도 다시 실행하고, CR도 지웠다가 다시 생성해보자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kopf run main.py --verbose&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl delete -f application.yaml
        
application.heumsi.github.io &lt;span class=&quot;token string&quot;&gt;&amp;quot;nginx&amp;quot;&lt;/span&gt; deleted

$ kubectl apply -f application.yaml

application.heumsi.github.io/nginx created&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;이제 정상적으로 CR(Application)와 Deployment, Service가 잘 배포되었는지 확인해보자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl get app

NAME    AGE
nginx   20s

$ kubectl get deployment

NAME    READY   UP-TO-DATE   AVAILABLE   AGE
nginx   &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1     &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;            &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;           24s

$ kubectl get &lt;span class=&quot;token function&quot;&gt;service&lt;/span&gt;                   

NAME         TYPE        CLUSTER-IP      EXTERNAL-IP   PORT&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;S&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;   AGE
kubernetes   ClusterIP   &lt;span class=&quot;token number&quot;&gt;10.96&lt;/span&gt;.0.1       &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;none&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;        &lt;span class=&quot;token number&quot;&gt;443&lt;/span&gt;/TCP   3d8h
nginx        ClusterIP   &lt;span class=&quot;token number&quot;&gt;10.96&lt;/span&gt;.249.187   &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;none&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;        &lt;span class=&quot;token number&quot;&gt;80&lt;/span&gt;/TCP    27s&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;잘 배포된 것을 확인했다.&lt;/p&gt;&lt;p&gt;배포된 Deployment를 확인해보면 다음처럼 &lt;code class=&quot;language-text&quot;&gt;ownerReferences&lt;/code&gt; 에 CR이 설정된 것을 확인할 수 있다.
이는 Deployment의 상위 리소스가 CR이라는 표현으로, &lt;code class=&quot;language-text&quot;&gt;kopf.adopt(data)&lt;/code&gt; 코드에 의해 생성된 것이다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl get deploy nginx -o yaml

apiVersion: apps/v1
kind: Deployment
metadata:
  &lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  ownerReferences:&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  - apiVersion: heumsi.github.io/v1&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    blockOwnerDeletion: &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    controller: &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    kind: Application&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    name: nginx&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    uid: 963a4fd2-effe-4c5e-bdcf-c089a3ea9480&lt;/span&gt;  &lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.
spec:
  &lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;한편 핸들러에서 반환한 &lt;code class=&quot;language-text&quot;&gt;Dict&lt;/code&gt; 데이터도 CR의 &lt;code class=&quot;language-text&quot;&gt;status&lt;/code&gt; 에 잘 저장되었는지 확인해보자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl get app nginx -o yaml

apiVersion: heumsi.github.io/v1
kind: Application
metadata:
  annotations:
    kopf.zalando.org/last-handled-configuration: &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;spec&amp;quot;&lt;/span&gt;:&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;image&amp;quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;nginx:latest&amp;quot;&lt;/span&gt;,&lt;span class=&quot;token string&quot;&gt;&amp;quot;port&amp;quot;&lt;/span&gt;:8080,&lt;span class=&quot;token string&quot;&gt;&amp;quot;replicas&amp;quot;&lt;/span&gt;:2&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    kubectl.kubernetes.io/last-applied-configuration: &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;apiVersion&amp;quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;heumsi.github.io/v1&amp;quot;&lt;/span&gt;,&lt;span class=&quot;token string&quot;&gt;&amp;quot;kind&amp;quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;Application&amp;quot;&lt;/span&gt;,&lt;span class=&quot;token string&quot;&gt;&amp;quot;metadata&amp;quot;&lt;/span&gt;:&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;annotations&amp;quot;&lt;/span&gt;:&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;token string&quot;&gt;&amp;quot;name&amp;quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;nginx&amp;quot;&lt;/span&gt;,&lt;span class=&quot;token string&quot;&gt;&amp;quot;namespace&amp;quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;default&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;token string&quot;&gt;&amp;quot;spec&amp;quot;&lt;/span&gt;:&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;image&amp;quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;nginx:latest&amp;quot;&lt;/span&gt;,&lt;span class=&quot;token string&quot;&gt;&amp;quot;port&amp;quot;&lt;/span&gt;:80,&lt;span class=&quot;token string&quot;&gt;&amp;quot;replicas&amp;quot;&lt;/span&gt;:1&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  creationTimestamp: &lt;span class=&quot;token string&quot;&gt;&amp;quot;2022-07-13T14:55:53Z&amp;quot;&lt;/span&gt;
  generation: &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;
  name: nginx
  namespace: default
  resourceVersion: &lt;span class=&quot;token string&quot;&gt;&amp;quot;82893&amp;quot;&lt;/span&gt;
  uid: 1b31a0d8-81e6-4671-a8b4-f54ace7f101c
spec:
  image: nginx:latest
  port: &lt;span class=&quot;token number&quot;&gt;8080&lt;/span&gt;
  replicas: &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;status:&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  create:&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    deployment: nginx&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    service: nginx&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;status.create&lt;/code&gt; 내에 데이터가 잘 저장된 것을 확인했다.&lt;/p&gt;&lt;h3 id=&quot;cr-수정-이벤트-핸들러-작성하기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#cr-%EC%88%98%EC%A0%95-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%ED%95%B8%EB%93%A4%EB%9F%AC-%EC%9E%91%EC%84%B1%ED%95%98%EA%B8%B0&quot; aria-label=&quot;cr 수정 이벤트 핸들러 작성하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;CR 수정 이벤트 핸들러 작성하기&lt;/h3&gt;&lt;p&gt;위에서는 CR이 생성되었을 때 동작하는 핸들러를 작성했다.
이번에는 CR이 수정될 때 동작하는 핸들러를 작성해보자.&lt;/p&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;main.py&lt;/code&gt; 를 다음처럼 수정한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; os

&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; kopf

&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; kubernetes
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; yaml


&lt;span class=&quot;token decorator annotation punctuation&quot;&gt;@kopf&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;on&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;heumsi.github.io&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;v1&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;applications&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; spec&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; namespace&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; logger&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;**&lt;/span&gt;kwargs&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    logger&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;info&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-interpolation&quot;&gt;&lt;span class=&quot;token string&quot;&gt;f&amp;quot;Application &amp;#x27;&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27; is created.&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    kapps_v1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; kubernetes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;client&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;AppsV1Api&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    kcore_v1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; kubernetes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;client&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;CoreV1Api&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;# Create Deployment&lt;/span&gt;
    path &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; os&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;join&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;os&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dirname&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__file__&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;deployment.yaml&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    tmpl &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;rt&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;read&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    text &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; tmpl&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;**&lt;/span&gt;spec&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; yaml&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;safe_load&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;text&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    kopf&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;adopt&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;# Add as child&lt;/span&gt;
    deployment &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; kapps_v1&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;create_namespaced_deployment&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        namespace&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;namespace&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        body&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;data
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    logger&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;info&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-interpolation&quot;&gt;&lt;span class=&quot;token string&quot;&gt;f&amp;quot;Deployment &amp;#x27;&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27; is created.&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    logger&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;debug&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;deployment&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;# Create Service&lt;/span&gt;
    path &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; os&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;join&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;os&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dirname&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__file__&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;service.yaml&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    tmpl &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;rt&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;read&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    text &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; tmpl&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;**&lt;/span&gt;spec&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; yaml&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;safe_load&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;text&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    kopf&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;adopt&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;# Add as child&lt;/span&gt;
    service &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; kcore_v1&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;create_namespaced_service&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        namespace&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;namespace&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        body&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;data
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    logger&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;info&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-interpolation&quot;&gt;&lt;span class=&quot;token string&quot;&gt;f&amp;quot;Service &amp;#x27;&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27; is created.&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    logger&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;debug&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;service&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&amp;quot;deployment&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; deployment&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;metadata&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&amp;quot;service&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; service&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;metadata&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;


&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token decorator annotation punctuation&quot;&gt;@kopf&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;on&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;update&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;heumsi.github.io&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;v1&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;applications&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; status&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; spec&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; namespace&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; logger&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;**&lt;/span&gt;kwargs&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    kapps_v1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; kubernetes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;client&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;AppsV1Api&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    kcore_v1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; kubernetes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;client&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;CoreV1Api&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token comment&quot;&gt;# Update Deployment&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    path &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; os&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;join&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;os&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dirname&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__file__&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;deployment.yaml&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    tmpl &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;rt&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;read&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    text &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; tmpl&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;**&lt;/span&gt;spec&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; yaml&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;safe_load&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;text&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    deployment &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; kapps_v1&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;replace_namespaced_deployment&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;        name&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;status&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;create&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;deployment&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;        namespace&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;namespace&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;        body&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;data&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    logger&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;info&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-interpolation&quot;&gt;&lt;span class=&quot;token string&quot;&gt;f&amp;quot;Deployment &amp;#x27;&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27; is replaced.&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    logger&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;debug&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;deployment&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token comment&quot;&gt;# Update Service&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    path &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; os&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;join&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;os&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dirname&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__file__&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;service.yaml&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    tmpl &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;rt&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;read&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    text &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; tmpl&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;**&lt;/span&gt;spec&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; yaml&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;safe_load&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;text&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    service &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; kcore_v1&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;replace_namespaced_service&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;        name&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;status&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;create&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;service&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;        namespace&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;namespace&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;        body&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;data&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    logger&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;info&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-interpolation&quot;&gt;&lt;span class=&quot;token string&quot;&gt;f&amp;quot;Service &amp;#x27;&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27; is replaced.&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    logger&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;debug&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;service&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;        &lt;span class=&quot;token string&quot;&gt;&amp;quot;deployment&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; deployment&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;metadata&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;        &lt;span class=&quot;token string&quot;&gt;&amp;quot;service&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; service&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;metadata&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;새로 추가한 &lt;code class=&quot;language-text&quot;&gt;update&lt;/code&gt; 함수는 &lt;code class=&quot;language-text&quot;&gt;create&lt;/code&gt; 함수와 별로 다르지 않다.
중간에 &lt;code class=&quot;language-text&quot;&gt;create_namespaced_deployment&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;create_namespaced_service&lt;/code&gt; 대신 &lt;code class=&quot;language-text&quot;&gt;replace_namespaced_deployment&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;replace_namespaced_service&lt;/code&gt; 로 변경되었을 뿐이다.
또 &lt;code class=&quot;language-text&quot;&gt;kopf.adopt(data)&lt;/code&gt; 와 같은 코드는 빠졌다.&lt;/p&gt;&lt;p&gt;CR을 수정했을 때 잘 반영되는지 확인해보자.&lt;/p&gt;&lt;p&gt;이제 다시 Operator를 실행한다. &lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kopf run main.py --verbose&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;CR의 스펙 중, &lt;code class=&quot;language-text&quot;&gt;port&lt;/code&gt; 값은 &lt;code class=&quot;language-text&quot;&gt;8080&lt;/code&gt; 으로, &lt;code class=&quot;language-text&quot;&gt;replicas&lt;/code&gt; 는 &lt;code class=&quot;language-text&quot;&gt;2&lt;/code&gt;로 수정한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl edit app nginx

apiVersion: heumsi.github.io/v1
kind: Application
metadata:
  annotations:
    kopf.zalando.org/last-handled-configuration: &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;spec&amp;quot;&lt;/span&gt;:&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;image&amp;quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;nginx:latest&amp;quot;&lt;/span&gt;,&lt;span class=&quot;token string&quot;&gt;&amp;quot;port&amp;quot;&lt;/span&gt;:8080,&lt;span class=&quot;token string&quot;&gt;&amp;quot;replicas&amp;quot;&lt;/span&gt;:2&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    kubectl.kubernetes.io/last-applied-configuration: &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;apiVersion&amp;quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;heumsi.github.io/v1&amp;quot;&lt;/span&gt;,&lt;span class=&quot;token string&quot;&gt;&amp;quot;kind&amp;quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;Application&amp;quot;&lt;/span&gt;,&lt;span class=&quot;token string&quot;&gt;&amp;quot;metadata&amp;quot;&lt;/span&gt;:&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;annotations&amp;quot;&lt;/span&gt;:&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;token string&quot;&gt;&amp;quot;name&amp;quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;nginx&amp;quot;&lt;/span&gt;,&lt;span class=&quot;token string&quot;&gt;&amp;quot;namespace&amp;quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;default&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;token string&quot;&gt;&amp;quot;spec&amp;quot;&lt;/span&gt;:&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;image&amp;quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;nginx:latest&amp;quot;&lt;/span&gt;,&lt;span class=&quot;token string&quot;&gt;&amp;quot;port&amp;quot;&lt;/span&gt;:80,&lt;span class=&quot;token string&quot;&gt;&amp;quot;replicas&amp;quot;&lt;/span&gt;:1&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  creationTimestamp: &lt;span class=&quot;token string&quot;&gt;&amp;quot;2022-07-13T14:55:53Z&amp;quot;&lt;/span&gt;
  generation: &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;
  name: nginx
  namespace: default
  resourceVersion: &lt;span class=&quot;token string&quot;&gt;&amp;quot;82893&amp;quot;&lt;/span&gt;
  uid: 1b31a0d8-81e6-4671-a8b4-f54ace7f101c
spec:
  image: nginx:latest
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  port: &lt;span class=&quot;token number&quot;&gt;8080&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  replicas: &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;/span&gt;status:
  create:
    deployment: nginx
    service: nginx
  update:
    deployment: nginx
    service: nginx&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;잘 반영되었는지 확인해보자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl get deployment nginx

NAME    READY   UP-TO-DATE   AVAILABLE   AGE
nginx   &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;/2     &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;            &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;           10m

$ kubectl get &lt;span class=&quot;token function&quot;&gt;service&lt;/span&gt; nginx

NAME    TYPE        CLUSTER-IP      EXTERNAL-IP   PORT&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;S&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;    AGE
nginx   ClusterIP   &lt;span class=&quot;token number&quot;&gt;10.96&lt;/span&gt;.249.187   &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;none&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;        &lt;span class=&quot;token number&quot;&gt;8080&lt;/span&gt;/TCP   10m&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;잘 반영된 것을 확인할 수 있다.&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;특정 Field만 변경 사항을 감지한다거나, 서브 핸들러를 두는 등의 일들도 할 수 있다.
이에 대한 자세한 내용은 &lt;a href=&quot;https://kopf.readthedocs.io/en/stable/handlers/&quot;&gt;공식 문서&lt;/a&gt;를 확인하자.&lt;/p&gt;&lt;/blockquote&gt;&lt;h3 id=&quot;cr-삭제하기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#cr-%EC%82%AD%EC%A0%9C%ED%95%98%EA%B8%B0&quot; aria-label=&quot;cr 삭제하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;CR 삭제하기&lt;/h3&gt;&lt;p&gt;이제 생성했던 CR을 삭제해보자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl delete app nginx  
       
application.heumsi.github.io &lt;span class=&quot;token string&quot;&gt;&amp;quot;nginx&amp;quot;&lt;/span&gt; deleted&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;그러면 다음처럼 자식 리소스들도 모두 삭제된 것을 확인할 수 있다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl get svc  
       
NAME         TYPE        CLUSTER-IP   EXTERNAL-IP   PORT&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;S&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;   AGE
kubernetes   ClusterIP   &lt;span class=&quot;token number&quot;&gt;10.96&lt;/span&gt;.0.1    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;none&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;        &lt;span class=&quot;token number&quot;&gt;443&lt;/span&gt;/TCP   8h

$ kubectl get deployment

No resources found &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; default namespace.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;위에서도 말했지만, 이는 CR 생성 시 &lt;code class=&quot;language-text&quot;&gt;kopf.adopt(data)&lt;/code&gt; 코드로 자식 리소스에 &lt;code class=&quot;language-text&quot;&gt;ownerReferences&lt;/code&gt; 를 주었기 때문에 가능한 것이다.&lt;/p&gt;&lt;h2 id=&quot;나가며&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%82%98%EA%B0%80%EB%A9%B0&quot; aria-label=&quot;나가며 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;나가며&lt;/h2&gt;&lt;p&gt;이번 글에서는 CRD 작성 방법과 kopf로 Operator를 구현하는 방법에 대해 배웠다.
이 글에서는 CRD와 kopf를 같이 이야기했는데 kopf를 쓰기 위해 꼭 CRD를 사용해야하는 것은 아니다.
예를 들면 다음처럼 CR이 아닌 네임스페이스가 생성되었을 때 일련의 로직을 처리하는 것도 kopf를 사용하는 방법 중 하나다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; kopf


&lt;span class=&quot;token decorator annotation punctuation&quot;&gt;@kopf&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;on&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;namespace&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; logger&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;**&lt;/span&gt;kwargs&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    logger&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;info&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-interpolation&quot;&gt;&lt;span class=&quot;token string&quot;&gt;f&amp;quot;Namespace &amp;#x27;&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27; is created.&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Kuberentes를 도입한 초기에는 CRD를 직접 작성하거나 kopf로 Operator를 당장 만들 일은 잘 없을거 같다.
어느정도 우리 팀만의 운영 패턴이 잡히고, 이를 추상화하여 더 편하고 자동화하여 쓰고 싶을 때 kopf를 아주 유용하게 사용할 수 있을거란 생각이 든다.&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;kopf는 내부적으로 어떻게 동작하는지 궁금해서 알아보려 했지만, 공식 문서에 설명이 별로 없어서 유감스럽지만 패스한다.
이 글을 본 누군가가 이에 대해서도 작성해주셨으면 좋겠다.&lt;/p&gt;&lt;/blockquote&gt;&lt;h2 id=&quot;참고한-글&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%B0%B8%EA%B3%A0%ED%95%9C-%EA%B8%80&quot; aria-label=&quot;참고한 글 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;참고한 글&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://blog.naver.com/alice_k106/221579974362&quot;&gt;https://blog.naver.com/alice_k106/221579974362&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://kubernetes.io/docs/tasks/extend-kubernetes/custom-resources/custom-resource-definitions/&quot;&gt;https://kubernetes.io/docs/tasks/extend-kubernetes/custom-resources/custom-resource-definitions/&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://kopf.readthedocs.io/en/stable/&quot;&gt;https://kopf.readthedocs.io/en/stable/&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Commitizen 설정 커스터마이징하기]]></title><description><![CDATA[들어가며 Commitizen 은 git commit 관리 및 프로젝트 versioning 자동화에 매우 유용한 도구다.
이전에  "Commitizen으로 커밋, 버전 관리하기"  글을 통해 Commitizen…]]></description><link>https://heumsi.github.io/blog/posts/commitizen-customization/</link><guid isPermaLink="false">https://heumsi.github.io/blog/posts/commitizen-customization/</guid><pubDate>Sun, 26 Jun 2022 00:00:00 GMT</pubDate><content:encoded>&lt;h2 id=&quot;들어가며&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0&quot; aria-label=&quot;들어가며 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;들어가며&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://commitizen-tools.github.io/commitizen/&quot;&gt;Commitizen&lt;/a&gt;은 git commit 관리 및 프로젝트 versioning 자동화에 매우 유용한 도구다.
이전에 &lt;a href=&quot;https://dailyheumsi.tistory.com/266&quot;&gt;&amp;quot;Commitizen으로 커밋, 버전 관리하기&amp;quot;&lt;/a&gt; 글을 통해 Commitizen이 무엇이고 어떻게 쓰는지를
소개했었다. 저 글을 쓴 이후에도 나는 쭈욱 잘 쓰고있다.&lt;/p&gt;&lt;p&gt;그렇게 쭈욱 쓰다보니 경우에 따라서 Commitizen을 커스터마이징하여 쓰고 싶을 때도 종종 있었는데, 커스터마이징하는 정확한 방법을 잘 몰라서 공식 문서 읽는 것을 미뤄만 뒀다.
그러다 이번 기회에 공식 문서를 정독하며 커스터마이징하는 방법을 살펴보았다.&lt;/p&gt;&lt;p&gt;이 글에서는 Commitizen 설정을 차근차근 커스터마이징해나가는 과정에 대해 소개해보려한다.
Commitizen을 커스터마이징해서 쓰고 싶은 분들에게 이 글이 도움이 되면 좋겠다.&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;Commitizen을 처음 접하는 분들에겐 이 내용이 어려울 수 있다.
만약 Commitizen에 대해 먼저 알고싶다면 이전에 작성한 글인 &lt;a href=&quot;https://dailyheumsi.tistory.com/266&quot;&gt;&amp;quot;Commitizen으로 커밋, 버전 관리하기&amp;quot;&lt;/a&gt;을 먼저 읽어보기를 권장한다.&lt;/p&gt;&lt;/blockquote&gt;&lt;h2 id=&quot;설정-파일-생성하기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%84%A4%EC%A0%95-%ED%8C%8C%EC%9D%BC-%EC%83%9D%EC%84%B1%ED%95%98%EA%B8%B0&quot; aria-label=&quot;설정 파일 생성하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;설정 파일 생성하기&lt;/h2&gt;&lt;p&gt;Commitizen 설정 값은 다음 중 하나의 파일에 작성한 뒤, 프로젝트 루트 경로에 저장하면 된다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;pyproject.toml&lt;/code&gt;&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;cz.toml&lt;/code&gt; 혹은 &lt;code class=&quot;language-text&quot;&gt;.cz.toml&lt;/code&gt;&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;cz.yaml&lt;/code&gt; 혹은 &lt;code class=&quot;language-text&quot;&gt;.cz.yaml&lt;/code&gt;&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;cz.json&lt;/code&gt; 혹은 &lt;code class=&quot;language-text&quot;&gt;.cz.json&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;이 중에서 &lt;code class=&quot;language-text&quot;&gt;pyproject.toml&lt;/code&gt; 은 파이썬을 안쓰는 분들에게는 좀 낯설 수 있는데, 이 파일은 파이썬 프로젝트에서 메타 정보를 담을 때 사용되는 파일이다.
나머지 파일 포맷은 여타 다른 라이브러리 설정 파일들과 비슷한 형태같다.&lt;/p&gt;&lt;p&gt;설정 파일은 &lt;code class=&quot;language-text&quot;&gt;.yaml&lt;/code&gt; 포맷에 담는게 아무래도 이쁜거 같으니, 먼저 다음처럼 &lt;code class=&quot;language-text&quot;&gt;.cz.yaml&lt;/code&gt; 을 만든 뒤 다음처럼 작성한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# .cz.yaml&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;commitizen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; cz_conventional_commits&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;&lt;p&gt;사실 &lt;code class=&quot;language-text&quot;&gt;cz init&lt;/code&gt; 명령어로 &lt;code class=&quot;language-text&quot;&gt;.cz.yaml&lt;/code&gt; 파일을 만들어도 된다. 다만 여기서는 처음부터 직접 작성해본다.&lt;/p&gt;&lt;/blockquote&gt;&lt;h2 id=&quot;프리셋-살펴보기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%ED%94%84%EB%A6%AC%EC%85%8B-%EC%82%B4%ED%8E%B4%EB%B3%B4%EA%B8%B0&quot; aria-label=&quot;프리셋 살펴보기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;프리셋 살펴보기&lt;/h2&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;name&lt;/code&gt; 에는 다음과 같은 값들이 들어갈 수 있다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;cz_conventional_commits&lt;/code&gt;&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;cz_jira&lt;/code&gt;&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;cz_commitizen_emoji&lt;/code&gt;&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;cz_customize&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;이 중 위에 3개는 프리셋이다. 즉 미리 만들어진 설정 값들이고, 그냥 가져다 쓰면 알아서 적용된다.
그리고 마지막 &lt;code class=&quot;language-text&quot;&gt;cz_customize&lt;/code&gt; 는 이 글에서 목적으로하는 커스터마이징을 할 때 사용한다.&lt;/p&gt;&lt;p&gt;커스터마이징하기 앞서, 먼저 위 3개의 프리셋을 간단히 살펴보자.&lt;/p&gt;&lt;h3 id=&quot;code-classlanguage-textcz_conventional_commitscode&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#code-classlanguage-textcz_conventional_commitscode&quot; aria-label=&quot;code classlanguage textcz_conventional_commitscode permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code class=&quot;language-text&quot;&gt;cz_conventional_commits&lt;/code&gt;&lt;/h3&gt;&lt;p&gt;&lt;a href=&quot;https://www.conventionalcommits.org/en/v1.0.0/&quot;&gt;conventional commits&lt;/a&gt; 을 따르는 설정이다.
이는 프리셋의 기본 값으로 위처럼 설정 파일을 따로 작성하지 않으면 이 설정을 그대로 따르게 된다.
아마 Commitizen을 사용하는 거의 대부분의 사람들이 이 프리셋을 그대로 사용하지 않을까 싶다.&lt;/p&gt;&lt;p&gt;셸에서 &lt;code class=&quot;language-text&quot;&gt;cz c&lt;/code&gt; 했을 때 등장하는 모습은 다음과 같다.
가장 마지막에 최종 커밋의 형태가 나온다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ cz c

? Select the &lt;span class=&quot;token builtin class-name&quot;&gt;type&lt;/span&gt; of change you are committing &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Use arrow keys&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
   fix: A bug fix. Correlates with PATCH &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; SemVer
   feat: A new feature. Correlates with MINOR &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; SemVer
 » docs: Documentation only changes
   style: Changes that &lt;span class=&quot;token keyword&quot;&gt;do&lt;/span&gt; not affect the meaning of the code &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;white-space, formatting, missin
   refactor: A code change that neither fixes a bug nor adds a feature
   perf: A code change that improves performance
   test: Adding missing or correcting existing tests
   build: Changes that affect the build system or external dependencies &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;example scopes: pip,
   ci: Changes to our CI configuration files and scripts &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;example scopes: GitLabCI&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

? What is the scope of this change? &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;class or &lt;span class=&quot;token function&quot;&gt;file&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;: &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;press &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;enter&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; to skip&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
 README.md

? Write a short and imperative summary of the code changes: &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;lower &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; and no period&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
 프로젝트 소개 부분에 있는 오타를 수정한다

? Provide additional contextual information about the code changes: &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;press &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;enter&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; to skip&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
 프로젝트 소개에 이전에 잘못한 부분을 수정한다

? Is this a BREAKING CHANGE? Correlates with MAJOR &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; SemVer No
? Footer. Information about Breaking Changes and reference issues that this commit closes: &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;press &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;enter&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; to skip&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;


docs&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;README.md&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;: 프로젝트 소개 부분에 있는 오타를 수정한다

프로젝트 소개에 이전에 잘못한 부분을 수정한다.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&quot;code-classlanguage-textcz_jiracode&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#code-classlanguage-textcz_jiracode&quot; aria-label=&quot;code classlanguage textcz_jiracode permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code class=&quot;language-text&quot;&gt;cz_jira&lt;/code&gt;&lt;/h3&gt;&lt;p&gt;이름 그대로 jira의 커밋 컨벤션을 따르는거 같은데, 사실 나도 안써봐서 잘 모른다.&lt;/p&gt;&lt;p&gt;셸에서 &lt;code class=&quot;language-text&quot;&gt;cz c&lt;/code&gt; 했을 때 등장하는 모습은 다음과 같다.
가장 마지막에 최종 커밋의 형태가 나온다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ cz c

? Git commit message &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;required&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;:
 프로젝트 소개 부분에 있는 오타를 수정한다
? Jira Issue ID&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; separated by spaces &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;required&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;:
 H-0001
? Workflow &lt;span class=&quot;token builtin class-name&quot;&gt;command&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;testing, closed, etc.&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;optional&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;:

? Time spent &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i.e. 3h 15m&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;optional&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;:
 1h
? Jira comment &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;optional&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;:


프로젝트 소개 부분에 있는 오타를 수정한다 H-0001 &lt;span class=&quot;token comment&quot;&gt;#time 1h&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&quot;code-classlanguage-textcz_commitizen_emojicode&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#code-classlanguage-textcz_commitizen_emojicode&quot; aria-label=&quot;code classlanguage textcz_commitizen_emojicode permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code class=&quot;language-text&quot;&gt;cz_commitizen_emoji&lt;/code&gt;&lt;/h3&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;conventional commits&lt;/code&gt; 에 이모지가 붙은 형태다.
이 프리셋을 사용하려면 먼저 다음처럼 &lt;code class=&quot;language-text&quot;&gt;commitizen-emoji&lt;/code&gt; 패키지를 설치해야 한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ pip &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; commitizen-emoji&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;셸에서 &lt;code class=&quot;language-text&quot;&gt;cz c&lt;/code&gt; 했을 때 등장하는 모습은 다음과 같다.
가장 마지막에 최종 커밋의 형태가 나온다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ cz c

? Select the &lt;span class=&quot;token builtin class-name&quot;&gt;type&lt;/span&gt; of change you are committing &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Use arrow keys&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
   🐛 fix: A bug fix
   🎉 feat: A new feature
 » 📜 docs: Documentation only changes
   😎 style: Changes that &lt;span class=&quot;token keyword&quot;&gt;do&lt;/span&gt; not affect the meaning of the code &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;white-space, formatting, missing semi-colons, e
   🔧 refactor: A code change that neither fixes a bug nor adds a feature
   🚀 perf: A code change that improves performance
   🚦 test: Adding missing or correcting existing tests
   🚧 build: Changes that affect the build system or external dependencies &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;example scopes: pip, docker, &lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
   🛸 ci: Changes to our CI configuration files and scripts &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;example scopes: GitLabCI&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
? Scope. Could be anything specifying place of the commit change &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;users, db, poll&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;:
 README.md
? Subject. Concise description of the changes. Imperative, lower &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; and no final dot:
 프로젝트 소개 부분에 있는 오타를 수정한다
? Time spent &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i.e. 3h 15m&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;optional&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;:
 1h
? Tasks ID&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; separated by spaces &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;optional&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;:
 H-0001
? Is this a BREAKING CHANGE? No
? Body. Motivation &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; the change and contrast this with previous behavior:
 프로젝트 소개에 이전에 잘못한 부분을 수정한다

📜 docs&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;README.md&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;: 프로젝트 소개 부분에 있는 오타를 수정한다 &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; ⏰ 1h &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; Tasks: &lt;span class=&quot;token comment&quot;&gt;#H-0001&lt;/span&gt;

프로젝트 소개에 이전에 잘못한 부분을 수정한다&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&quot;커스터마이징-시작하기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%BB%A4%EC%8A%A4%ED%84%B0%EB%A7%88%EC%9D%B4%EC%A7%95-%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0&quot; aria-label=&quot;커스터마이징 시작하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;커스터마이징 시작하기&lt;/h2&gt;&lt;p&gt;위 프리셋을 안쓰고, 내가 원하는대로 설정 값을 작성하고 싶다면, 직접 Commitizen 설정 파일을 작성하며 커스터마이징 해야한다.
프리셋도 살펴봤으니 이제 본격적으로 커스터마이징을 시작해보자.&lt;/p&gt;&lt;p&gt;먼저 다음처럼 &lt;code class=&quot;language-text&quot;&gt;.cz.yaml&lt;/code&gt; 에서 &lt;code class=&quot;language-text&quot;&gt;name&lt;/code&gt; 의 값을 &lt;code class=&quot;language-text&quot;&gt;cz_customize&lt;/code&gt; 로 수정하고 &lt;code class=&quot;language-text&quot;&gt;customize&lt;/code&gt; 을 추가한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# .cz.yaml&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;commitizen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; cz_customize
  customize&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;프리셋을 쓰지 않고, 직접 커스터마이징해서 쓰겠다는 표현이다.
그리고 대부분의 커스터마이징 설정 값들은 &lt;code class=&quot;language-text&quot;&gt;customize:&lt;/code&gt; 내에 담길 예정이다.&lt;/p&gt;&lt;h2 id=&quot;질문-작성하기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%A7%88%EB%AC%B8-%EC%9E%91%EC%84%B1%ED%95%98%EA%B8%B0&quot; aria-label=&quot;질문 작성하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;질문 작성하기&lt;/h2&gt;&lt;p&gt;가장 먼저할 일은 &lt;code class=&quot;language-text&quot;&gt;cz c&lt;/code&gt; 명령어 시에 어떤 질문 리스트를 보여줄 것인가를 결정하는 일이다.
&lt;code class=&quot;language-text&quot;&gt;.cz.yaml&lt;/code&gt; 을 다음처럼 수정한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# .cz.yaml&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;commitizen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; cz_customize
  &lt;span class=&quot;token key atrule&quot;&gt;customize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token key atrule&quot;&gt;questions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;choices&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; new feature&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;        &lt;span class=&quot;token key atrule&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; feature&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; bug fix&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;        &lt;span class=&quot;token key atrule&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; bug fix&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; config&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;        &lt;span class=&quot;token key atrule&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; config&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; breaking changes&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;        &lt;span class=&quot;token key atrule&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; break&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token key atrule&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;Select type:&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; type&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; list&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;Changed files or directory scope:&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; changed_scope&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; path&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;Input message:&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; message&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; input&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;questions&lt;/code&gt; 에 대한 내용을 추가했다. 이 값들은 &lt;code class=&quot;language-text&quot;&gt;cz c&lt;/code&gt; 하면 제일 먼저 보이는 질문들이다.&lt;/p&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;questions&lt;/code&gt; 는 &lt;code class=&quot;language-text&quot;&gt;message&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;name&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;type&lt;/code&gt; 키를 가진 오브젝트를 담으며, &lt;code class=&quot;language-text&quot;&gt;type&lt;/code&gt; 값에 따라 &lt;code class=&quot;language-text&quot;&gt;choices&lt;/code&gt;와 같은 키가 추가로 붙기도 한다.
이 &lt;code class=&quot;language-text&quot;&gt;type&lt;/code&gt; 값의 종류는 위에 등장한 &lt;code class=&quot;language-text&quot;&gt;input&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;path&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;list&lt;/code&gt; 말고 더 있는데,
이에 대해 더 궁금하면 &lt;a href=&quot;https://commitizen-tools.github.io/commitizen/customization/#detailed-questions-content&quot;&gt;공식 문서&lt;/a&gt;를 참고하자.&lt;/p&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;questions&lt;/code&gt; 내 오브젝트들은 각각이 하나의 질문이 되며 유저는 이 질문에 대한 값을 입력하게 된다.
사용자가 입력한 값은 &lt;code class=&quot;language-text&quot;&gt;name&lt;/code&gt; 으로 정의한 변수에 담기게 되는데, 예를 들어 사용자가 &lt;code class=&quot;language-text&quot;&gt;Select type:&lt;/code&gt; 질문에 &lt;code class=&quot;language-text&quot;&gt;config&lt;/code&gt; 를 입력했다면,
&lt;code class=&quot;language-text&quot;&gt;type&lt;/code&gt; 이라는 변수에는 &lt;code class=&quot;language-text&quot;&gt;config&lt;/code&gt; 라는 값이 담기게 되는 것이다.&lt;/p&gt;&lt;h2 id=&quot;메시지-템플릿-작성하기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%A9%94%EC%8B%9C%EC%A7%80-%ED%85%9C%ED%94%8C%EB%A6%BF-%EC%9E%91%EC%84%B1%ED%95%98%EA%B8%B0&quot; aria-label=&quot;메시지 템플릿 작성하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;메시지 템플릿 작성하기&lt;/h2&gt;&lt;p&gt;이제 커밋 메시지 형태를 구성해보자.
&lt;code class=&quot;language-text&quot;&gt;.cz.yaml&lt;/code&gt; 을 다음처럼 수정한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# .cz.yaml&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;commitizen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; cz_customize
  &lt;span class=&quot;token key atrule&quot;&gt;customize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;questions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;choices&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; new feature
        &lt;span class=&quot;token key atrule&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; feature
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; bug fix
        &lt;span class=&quot;token key atrule&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; bug fix
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; config
        &lt;span class=&quot;token key atrule&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; config
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; breaking changes
        &lt;span class=&quot;token key atrule&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; break
      &lt;span class=&quot;token key atrule&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;Select type:&amp;#x27;&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; type
      &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; list
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;Changed files or directory scope:&amp;#x27;&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; changed_scope
      &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; path
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;Input message:&amp;#x27;&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; message
      &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; input
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token key atrule&quot;&gt;example&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;[bug fix] (README.md) Fix Typo&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token key atrule&quot;&gt;message_template&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;[{{ type }}]{% if changed_scope %} ({{ changed_scope }}){% endif %} {{ message }}&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;example&lt;/code&gt; 과 &lt;code class=&quot;language-text&quot;&gt;message_template&lt;/code&gt; 을 추가했다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;example&lt;/code&gt; 은 커밋 메시지의 예시를 보여준다.&lt;ul&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;cz example&lt;/code&gt; 명령 시 이 예시 문구가 출력된다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;message_template&lt;/code&gt;는 실제로 커밋 메시지를 구성하는 방식이다.&lt;ul&gt;&lt;li&gt;위에서 입력받은 변수들을 가지고 메시지를 어떻게 구성할지에 대해 정의한다.&lt;/li&gt;&lt;li&gt;파이썬을 써본 사람들은 알겠지만, jinja2 템플릿 문법을 사용한다. (jinja2를 몰라도 상관없다. 다만 위같은 형태로 구성한다 정도만 알아도 충분하다.)&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;여기까지 작성하고 &lt;code class=&quot;language-text&quot;&gt;cz c&lt;/code&gt; 를 치면 다음과 같이 의도한대로 잘 작동하는 것을 알 수 있다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ cz c

? Select type: config
? Changed files or directory scope: .cz.yaml
? Input message: Add .cz.yaml

&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;.cz.yaml&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; Add .cz.yaml&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;실제로 &lt;code class=&quot;language-text&quot;&gt;git log&lt;/code&gt;를 통해 커밋 메시지를 확인해보자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; log --oneline

e9e996c &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;HEAD -&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; main&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;.cz.yaml&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; Add .cz.yaml&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;message_template&lt;/code&gt; 에서 정의한대로 메시지가 잘 작성되었다.&lt;/p&gt;&lt;h2 id=&quot;bump-규칙과-메시지-작성하기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#bump-%EA%B7%9C%EC%B9%99%EA%B3%BC-%EB%A9%94%EC%8B%9C%EC%A7%80-%EC%9E%91%EC%84%B1%ED%95%98%EA%B8%B0&quot; aria-label=&quot;bump 규칙과 메시지 작성하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Bump 규칙과 메시지 작성하기&lt;/h2&gt;&lt;p&gt;이쯤에서 &lt;code class=&quot;language-text&quot;&gt;cz bump&lt;/code&gt; 명령어를 실행해보자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ cz bump

&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;NO_VERSION_SPECIFIED&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
Check &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; current version is specified &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; config file, like:
version &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.4&lt;/span&gt;.3&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;버전이 지정되지 않아서 아무런 일도 일어나지 않는다.&lt;/p&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;cz bump&lt;/code&gt; 를 제대로 실행시키기 위해 우리는 구체적으로 다음의 것들을 생각해야 한다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;어떤 메시지(feature, bug fix 등)를 담은 커밋을 bump 규칙에 포함시킬 것인지?&lt;/li&gt;&lt;li&gt;각 커밋 메시지는 Semantic Versioning에서 어디(MAJOR, MINOR, PATCH 등)에 해당하는지?&lt;/li&gt;&lt;li&gt;bump 커밋 메시지는 어떤 내용을 담을지?&lt;/li&gt;&lt;li&gt;현재 버전은 몇이고, Versioning이 명시된 다른 파일이 있는지?&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;이러한 내용을 담아 &lt;code class=&quot;language-text&quot;&gt;.cz.yaml&lt;/code&gt; 을 다음처럼 수정하자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# .cz.yaml&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;commitizen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; cz_customize
  &lt;span class=&quot;token key atrule&quot;&gt;customize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;questions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;choices&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; new feature
        &lt;span class=&quot;token key atrule&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; feature
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; bug fix
        &lt;span class=&quot;token key atrule&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; bug fix
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; config
        &lt;span class=&quot;token key atrule&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; config
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; breaking changes
        &lt;span class=&quot;token key atrule&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; break
      &lt;span class=&quot;token key atrule&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;Select type:&amp;#x27;&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; type
      &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; list
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;Changed files or directory scope:&amp;#x27;&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; changed_scope
      &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; path
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;Input message:&amp;#x27;&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; message
      &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; input
    &lt;span class=&quot;token key atrule&quot;&gt;example&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;[bug fix] (README.md) Fix Typo&amp;#x27;&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;message_template&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;[{{ type }}]{% if changed_scope %} ({{ changed_scope }}){% endif %} {{ message }}&amp;#x27;&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token key atrule&quot;&gt;bump_pattern&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; feature&lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;bug fix&lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;break&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token key atrule&quot;&gt;bump_map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token key atrule&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; MAJOR&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token key atrule&quot;&gt;bug fix&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; PATCH&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token key atrule&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; PATCH&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token key atrule&quot;&gt;feature&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; MINOR&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  &lt;span class=&quot;token key atrule&quot;&gt;bump_message&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;[bump] from $current_version to $new_version&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  &lt;span class=&quot;token key atrule&quot;&gt;tag_format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; v$major.$minor.$patch$prerelease&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  &lt;span class=&quot;token key atrule&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0.0.0&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  &lt;span class=&quot;token key atrule&quot;&gt;version_files&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; project.yaml&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;version&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;bump_pattern&lt;/code&gt; 은 bump 규칙에 포함할 커밋 메시지의 패턴이다.&lt;ul&gt;&lt;li&gt;커밋 메시지에 &lt;code class=&quot;language-text&quot;&gt;feature&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;bug fix&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;config&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;break&lt;/code&gt; 이 포함되어 있다면 이 커밋은 bump 작업에 포함된다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;bump_map&lt;/code&gt; 은 각 커밋 메시지가 Semantic Versioning 중 어디에 해당하는지를 매핑에 대한 정의다.&lt;ul&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;bump_pattern&lt;/code&gt; 에서 정의한 커밋 메시지 패턴 값들을 키로 가지고, Semantic Versioning 하나를 값으로 가진다.&lt;/li&gt;&lt;li&gt;예를 들어 bump할 때 &lt;code class=&quot;language-text&quot;&gt;config&lt;/code&gt; 가 하나라도 있으면, 해당 bump는 MINOR 버전을 업데이트 한다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;bump_message&lt;/code&gt; 는 bump 커밋 메시지에 대한 정의다.&lt;ul&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;$current_version&lt;/code&gt; 와 &lt;code class=&quot;language-text&quot;&gt;$new_version&lt;/code&gt; 로 직전 버전과 현재 bump하는 버전 값을 가져올 수 있다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;tag_format&lt;/code&gt; 은 bump로 만들어지는 태그의 포맷이다.&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;version&lt;/code&gt; 은 현재 프로젝트의 버전이다.&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;version_files&lt;/code&gt; 은 Semantic Versioning이 명시된 다른 파일 목록과 키 또는 변수 목록이다.&lt;ul&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;{파일 이름(경로 포함)}:{키 또는 변수 명}&lt;/code&gt; 포맷으로 작성한다.&lt;/li&gt;&lt;li&gt;bump 시 이 목록의 아이템들도 같이 버전업을 한다.&lt;/li&gt;&lt;li&gt;항상 필요한 설정은 아닌데, 만약 프로젝트에서 &lt;code class=&quot;language-text&quot;&gt;.cz.yaml&lt;/code&gt; 말고 다른 곳에서도 프로젝트 Versioning을 명시해주고 있다면 이 설정이 필요하다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;version_files&lt;/code&gt; 에 해당하는 &lt;code class=&quot;language-text&quot;&gt;project.yaml&lt;/code&gt; 을 생성한 뒤 다음처럼 작성하자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# project.yaml&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0.0.0&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;&lt;p&gt;종종 프로젝트 내부에 프로젝트에 대한 메타 데이터를 명시한 별도의 파일을 만들어두곤 한다.
프로젝트 입장에서는 &lt;code class=&quot;language-text&quot;&gt;.cz.yaml&lt;/code&gt; 은 그냥 커밋 관리 도구에 대한 설정 파일일 뿐이니, &lt;code class=&quot;language-text&quot;&gt;.cz.yaml&lt;/code&gt; 에 의존할 게 아니라 위와 같은 별도의 메타 파일에 의존하는게 옳다고 판단하는 것이다.
마찬가지로 &lt;code class=&quot;language-text&quot;&gt;.cz.yaml&lt;/code&gt;도 이 메타 파일에 의존하는 것이고, 이를 &lt;code class=&quot;language-text&quot;&gt;cz.yaml&lt;/code&gt; 에서 &lt;code class=&quot;language-text&quot;&gt;version_files&lt;/code&gt; 에 명시해주는 것이다.&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;지금까지의 변경사항을 커밋해두자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt; .cz.yaml project.yaml
$ cz c

? Select type: config
? Changed files or directory scope: .cz.yaml, project.yaml
? Input message: Add versioning

&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;.cz.yaml, project.yaml&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; Add versioning&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;이제 &lt;code class=&quot;language-text&quot;&gt;cz bump&lt;/code&gt; 명령어를 실행해보자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ cz bump

Tag v0.0.0 could not be found.
Possible causes:
- version &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; configuration is not the current version
- tag_format is missing, check them using &lt;span class=&quot;token string&quot;&gt;&amp;#x27;git tag --list&amp;#x27;&lt;/span&gt;

? Is this the first tag created? Yes
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;bump&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; from &lt;span class=&quot;token number&quot;&gt;0.0&lt;/span&gt;.0 to &lt;span class=&quot;token number&quot;&gt;0.0&lt;/span&gt;.1
tag to create: v0.0.1
increment detected: PATCH&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;이번엔 성공적으로 잘 작동했다!&lt;/p&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;git log&lt;/code&gt; 명령어로 커밋 메시지와 태그가 잘 생성되었는지 확인해보자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; log --oneline

e397a76 &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;HEAD -&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; main, tag: v0.0.1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;bump&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; from &lt;span class=&quot;token number&quot;&gt;0.0&lt;/span&gt;.0 to &lt;span class=&quot;token number&quot;&gt;0.0&lt;/span&gt;.1
74f5e18 &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;.cz.yaml, project.yaml&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; Add versioning
06d292b &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;.cz.yaml&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; Add .cz.yaml&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;태그가 잘 생성된 것을 확인했다.&lt;/p&gt;&lt;p&gt;이제 이 bump 커밋이 프로젝트 내 어떤 부분을 수정했는지를 다음처럼 확인해보자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; show e397a76

&lt;span class=&quot;token function&quot;&gt;diff&lt;/span&gt; --git a/.cz.yaml b/.cz.yaml
-  version: &lt;span class=&quot;token number&quot;&gt;0.0&lt;/span&gt;.0
+  version: &lt;span class=&quot;token number&quot;&gt;0.0&lt;/span&gt;.1

&lt;span class=&quot;token function&quot;&gt;diff&lt;/span&gt; --git a/project.yaml b/project.yaml
-version: &lt;span class=&quot;token number&quot;&gt;0.0&lt;/span&gt;.0
+version: &lt;span class=&quot;token number&quot;&gt;0.0&lt;/span&gt;.1&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;.cz.yaml&lt;/code&gt; 내 &lt;code class=&quot;language-text&quot;&gt;commitizen.version&lt;/code&gt; 의 값과 &lt;code class=&quot;language-text&quot;&gt;project.yaml&lt;/code&gt; 내 &lt;code class=&quot;language-text&quot;&gt;version&lt;/code&gt; 의 값을 모두 동일하게 수정한 것을 알 수 있다.&lt;/p&gt;&lt;h2 id=&quot;changelog-관련-설정-작성하기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#changelog-%EA%B4%80%EB%A0%A8-%EC%84%A4%EC%A0%95-%EC%9E%91%EC%84%B1%ED%95%98%EA%B8%B0&quot; aria-label=&quot;changelog 관련 설정 작성하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Changelog 관련 설정 작성하기&lt;/h2&gt;&lt;p&gt;다음처럼 &lt;code class=&quot;language-text&quot;&gt;cz changelog&lt;/code&gt; 명령어를 실행해보자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ cz changelog
$ &lt;span class=&quot;token function&quot;&gt;ls&lt;/span&gt;

CHANGELOG.md project.yaml&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;실행 결과로 &lt;code class=&quot;language-text&quot;&gt;CHANGELOG.md&lt;/code&gt; 파일이 생성되었는데, 이 파일을 확인해보자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;cat&lt;/span&gt; changelog

&lt;span class=&quot;token comment&quot;&gt;## v0.0.1 (2022-06-25)&lt;/span&gt;

- &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;bump&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; from &lt;span class=&quot;token number&quot;&gt;0.0&lt;/span&gt;.0 to &lt;span class=&quot;token number&quot;&gt;0.0&lt;/span&gt;.1
- &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;.cz.yaml, project.yaml&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; Add versioning
- &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;.cz.yaml&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; Add .cz.yaml&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;버전과 해당 버전에 포함되는 커밋 목록들을 나열하고 있다.
뭐 이렇게만 써도 문제는 없지만, 보통 Changelog에는 타입별로 커밋 목록들이 구분되어있는게 일반적이다.
이제 이를 위한 이제 커스터마이징 설정을 작성해보자.&lt;/p&gt;&lt;p&gt;먼저 &lt;a href=&quot;https://commitizen-tools.github.io/commitizen/changelog/#description&quot;&gt;공식문서&lt;/a&gt;에 따르면 Commitizen은 Changelog를 다음과 같은 포맷으로 작성한다고 한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;# &amp;lt;version&amp;gt; (&amp;lt;date&amp;gt;)

## &amp;lt;change_type&amp;gt;

- **&amp;lt;scope&amp;gt;**: &amp;lt;message&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;우리의 &lt;code class=&quot;language-text&quot;&gt;CHANGELOG.md&lt;/code&gt; 에는 현재 &lt;code class=&quot;language-text&quot;&gt;## &amp;lt;change_type&amp;gt;&lt;/code&gt; 이 없는 것을 알 수 있다.&lt;/p&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;.cz.yaml&lt;/code&gt; 을 다음처럼 수정하자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# .cz.yaml&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;commitizen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; cz_customize
  &lt;span class=&quot;token key atrule&quot;&gt;customize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;questions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;choices&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; new feature
        &lt;span class=&quot;token key atrule&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; feature
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; bug fix
        &lt;span class=&quot;token key atrule&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; bug fix
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; config
        &lt;span class=&quot;token key atrule&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; config
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; breaking changes
        &lt;span class=&quot;token key atrule&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; break
      &lt;span class=&quot;token key atrule&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;Select type:&amp;#x27;&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; type
      &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; list
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;Changed files or directory scope:&amp;#x27;&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; changed_scope
      &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; path
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;Input message:&amp;#x27;&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; message
      &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; input
    &lt;span class=&quot;token key atrule&quot;&gt;example&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;[bug fix] (README.md) Fix Typo&amp;#x27;&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;message_template&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;[{{ type }}]{% if changed_scope %} ({{ changed_scope }}){% endif %} {{ message }}&amp;#x27;&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;bump_pattern&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; feature&lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;bug fix&lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;break
    &lt;span class=&quot;token key atrule&quot;&gt;bump_map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; MAJOR
      &lt;span class=&quot;token key atrule&quot;&gt;bug fix&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; PATCH
      &lt;span class=&quot;token key atrule&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; PATCH
      &lt;span class=&quot;token key atrule&quot;&gt;feature&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; MINOR
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token key atrule&quot;&gt;commit_parser&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; \&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;(&lt;span class=&quot;token punctuation&quot;&gt;?&lt;/span&gt;P&amp;lt;change_type&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;feature&lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;bug fix&lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;break)\&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;(\s\((&lt;span class=&quot;token punctuation&quot;&gt;?&lt;/span&gt;P&amp;lt;scope&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;.&lt;span class=&quot;token important&quot;&gt;*)\))?\s(?P&amp;lt;message&amp;gt;.*)?&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token key atrule&quot;&gt;change_type_map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token key atrule&quot;&gt;feature&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Feature&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token key atrule&quot;&gt;bug fix&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Fix&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token key atrule&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Config&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token key atrule&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Break&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token key atrule&quot;&gt;change_type_order&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; Break&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; Feature&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; Fix&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; Config&lt;/span&gt;  &lt;span class=&quot;token key atrule&quot;&gt;bump_message&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;[bump] from $current_version to $new_version&amp;#x27;&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;tag_format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; v$major.$minor.$patch$prerelease
  &lt;span class=&quot;token key atrule&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0.0.0
  &lt;span class=&quot;token key atrule&quot;&gt;version_files&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; project.yaml&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;version
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;  &lt;span class=&quot;token key atrule&quot;&gt;changelog_file&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;CHANGELOG.md&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;추가된 부분을 하나씩 살펴보자.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;commit_parser&lt;/code&gt; 는 Changelog 를 만들기 위해 커밋을 파싱하는 패턴이다.&lt;ul&gt;&lt;li&gt;파이썬의 정규표현식으로 작성한다.&lt;/li&gt;&lt;li&gt;전반적으로 패턴은 &lt;code class=&quot;language-text&quot;&gt;message_template&lt;/code&gt; 으로 만들어지는 커밋 메시지 형태를 고려하여 작성한다.&lt;/li&gt;&lt;li&gt;패턴 중간에 보면 &lt;code class=&quot;language-text&quot;&gt;change_type&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;scope&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;message&lt;/code&gt; 있다. 위 Changelog 포맷에 들어가는 변수들이다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;change_type_map&lt;/code&gt; 는 &lt;code class=&quot;language-text&quot;&gt;commit_parser&lt;/code&gt; 를 통해 파싱한 커밋 메시지에서 &lt;code class=&quot;language-text&quot;&gt;change_type&lt;/code&gt; 값에 대한 Alias 매핑이다.&lt;ul&gt;&lt;li&gt;예를 들어 &lt;code class=&quot;language-text&quot;&gt;change_type&lt;/code&gt; 이 &lt;code class=&quot;language-text&quot;&gt;feature&lt;/code&gt; 였던 커밋은 Changelog 내 &lt;code class=&quot;language-text&quot;&gt;Feature&lt;/code&gt; 하위 항목에 작성된다.&lt;/li&gt;&lt;li&gt;이 설정 값은 필수는 아니다. &lt;code class=&quot;language-text&quot;&gt;change_type_map&lt;/code&gt; 을 이처럼 명시해주지 않으면, 기본적으로 &lt;code class=&quot;language-text&quot;&gt;change_type&lt;/code&gt; 값 그대로 Chnagelog 내 들어간다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;change_type_order&lt;/code&gt; 은 Changelog 내 &lt;code class=&quot;language-text&quot;&gt;change_type&lt;/code&gt; 이 작성되는 순서를 정의한다.&lt;ul&gt;&lt;li&gt;여기서는 &lt;code class=&quot;language-text&quot;&gt;Break&lt;/code&gt; -&amp;gt; &lt;code class=&quot;language-text&quot;&gt;Feature&lt;/code&gt; -&amp;gt; &lt;code class=&quot;language-text&quot;&gt;Fix&lt;/code&gt; -&amp;gt; &lt;code class=&quot;language-text&quot;&gt;Config&lt;/code&gt; 순으로 작성된다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;changelog_file&lt;/code&gt; 은 &lt;code class=&quot;language-text&quot;&gt;cz changelog&lt;/code&gt; 명령 실행 시, Changelog 가 작성되는 파일 이름이다.&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;여기까지 작성했으면 일단 기존의 &lt;code class=&quot;language-text&quot;&gt;CHANGELOG.md&lt;/code&gt; 파일은 삭제하고 변경한 내용을 커밋해두자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;rm&lt;/span&gt; CHANGELOG.md
$ &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt; .cz.yaml
$ cz c

? Select type: config
? Changed files or directory scope: .cz.yaml
? Input message: Add changelog config

&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;.cz.yaml&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; Add changelog config&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;이제 Changelog가 잘 작성되는지 확인해보자.
아까처럼 &lt;code class=&quot;language-text&quot;&gt;cz changelog&lt;/code&gt; 명령어를 실행해도 되지만, &lt;code class=&quot;language-text&quot;&gt;cz bump&lt;/code&gt; 와 함께 사용해보자.
다음처럼 &lt;code class=&quot;language-text&quot;&gt;cz bump&lt;/code&gt; 명령어에 &lt;code class=&quot;language-text&quot;&gt;--changelog&lt;/code&gt; 옵션을 추가해주면 된다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ cz bump --changelog

&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;bump&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; from &lt;span class=&quot;token number&quot;&gt;0.0&lt;/span&gt;.1 to &lt;span class=&quot;token number&quot;&gt;0.0&lt;/span&gt;.2
tag to create: v0.0.2
increment detected: PATCH&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;bump 됨과 동시에 &lt;code class=&quot;language-text&quot;&gt;CHANGELOG.md&lt;/code&gt; 파일도 새로 생기게 되는데 잘 작성되었는지 확인해보자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;cat&lt;/span&gt; CHANGELOG.md

&lt;span class=&quot;token comment&quot;&gt;## v0.0.2 (2022-06-25)&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;### Config&lt;/span&gt;

- **.cz.yaml**: Add changelog config

&lt;span class=&quot;token comment&quot;&gt;## v0.0.1 (2022-06-25)&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;### Config&lt;/span&gt;

- **.cz.yaml, project.yaml**: Add versioning
- **.cz.yaml**: Add .cz.yaml&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;아까와 다르게 &lt;code class=&quot;language-text&quot;&gt;## change_type&lt;/code&gt; 추가 되고, 각 커밋이 잘 분류되었다!&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;하나 주의해야할게, &lt;code class=&quot;language-text&quot;&gt;cz bump --changelog&lt;/code&gt; 를 한다고 해서 bump 커밋에 &lt;code class=&quot;language-text&quot;&gt;CHANGELOG.md&lt;/code&gt; 생성 이력이 추가되는 것은 아니다.
&lt;code class=&quot;language-text&quot;&gt;cz bump --changelog&lt;/code&gt; 명령 이후 &lt;code class=&quot;language-text&quot;&gt;git status&lt;/code&gt; 로 확인해보면 &lt;code class=&quot;language-text&quot;&gt;CHANGELOG.md&lt;/code&gt; 는 아직 스테이징으로 올라오지 않은 것을 알 수 있다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; status
현재 브랜치 main
추적하지 않는 파일:
 &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;커밋할 사항에 포함하려면 &lt;span class=&quot;token string&quot;&gt;&amp;quot;git add &amp;lt;파일&amp;gt;...&amp;quot;&lt;/span&gt;을 사용하십시오&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
       CHANGELOG.md&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;CHANGELOG.md&lt;/code&gt; 를 저장소에 담으려면 결국 커밋을 한번 더 찍어야 한다.
이게 귀찮기 때문에 사실 필자는 &lt;code class=&quot;language-text&quot;&gt;CHANGELOG.md&lt;/code&gt; 를 따로 생성하지 않고, Github Releases 에만 담는다.
이 글 후반부에서 이 방법에 대해 다룰 것이다.&lt;/p&gt;&lt;/blockquote&gt;&lt;h2 id=&quot;pre-commit-사용하기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#pre-commit-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0&quot; aria-label=&quot;pre commit 사용하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;pre-commit 사용하기&lt;/h2&gt;&lt;p&gt;프로젝트에 커밋 찍을때 항상 &lt;code class=&quot;language-text&quot;&gt;cz c&lt;/code&gt; 명령어를 사용하면 문제가 없다.
그런데 누군가가 &lt;code class=&quot;language-text&quot;&gt;git commit&lt;/code&gt; 으로 커밋을 찍는다면, 커밋 메시지 규칙 항상 지켜지리란 법은 없다.
이 때문에 &lt;a href=&quot;https://pre-commit.com/&quot;&gt;pre-commit&lt;/a&gt; 같은 툴로 커밋이 생성되기 전에 커밋 메시지가 규칙에 따라 잘 작성되었는지 확인해야 한다.
이제 pre-commit을 이용하여, 커밋할 때 커밋 메시지가 Commitizen에서 설정한 커밋 메시지 규칙대로 잘 작성되었는지 검증하는 작업을 추가해보자.&lt;/p&gt;&lt;p&gt;Commitizen에서는 &lt;code class=&quot;language-text&quot;&gt;cz check -m &amp;quot;커밋 메시지&amp;quot;&lt;/code&gt; 명령어를 통해 &lt;code class=&quot;language-text&quot;&gt;&amp;quot;커밋 메시지&amp;quot;&lt;/code&gt; 가 Commitizen에서 설정한 커밋 메시지 규칙을 따르는지 검증할 수 있다.&lt;/p&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;.cz.yaml&lt;/code&gt; 파일을 다음처럼 수정한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# .cz.yaml&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;commitizen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; cz_customize
  &lt;span class=&quot;token key atrule&quot;&gt;customize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;questions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;choices&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; new feature
        &lt;span class=&quot;token key atrule&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; feature
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; bug fix
        &lt;span class=&quot;token key atrule&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; bug fix
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; config
        &lt;span class=&quot;token key atrule&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; config
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; breaking changes
        &lt;span class=&quot;token key atrule&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; break
      &lt;span class=&quot;token key atrule&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;Select type:&amp;#x27;&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; type
      &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; list
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;Changed files or directory scope:&amp;#x27;&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; changed_scope
      &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; path
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;Input message:&amp;#x27;&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; message
      &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; input
    &lt;span class=&quot;token key atrule&quot;&gt;example&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;[bug fix] (README.md) Fix Typo&amp;#x27;&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;message_template&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;[{{ type }}]{% if changed_scope %} ({{ changed_scope }}){% endif %} {{ message }}&amp;#x27;&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;bump_pattern&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; feature&lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;bug fix&lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;break
    &lt;span class=&quot;token key atrule&quot;&gt;bump_map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; MAJOR
      &lt;span class=&quot;token key atrule&quot;&gt;bug fix&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; PATCH
      &lt;span class=&quot;token key atrule&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; PATCH
      &lt;span class=&quot;token key atrule&quot;&gt;feature&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; MINOR
    &lt;span class=&quot;token key atrule&quot;&gt;commit_parser&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; \&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;(&lt;span class=&quot;token punctuation&quot;&gt;?&lt;/span&gt;P&amp;lt;change_type&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;feature&lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;bug fix&lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;break)\&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;(\s\((&lt;span class=&quot;token punctuation&quot;&gt;?&lt;/span&gt;P&amp;lt;scope&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;.&lt;span class=&quot;token important&quot;&gt;*)\))?\s(?P&amp;lt;message&amp;gt;.*)?&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;change_type_map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;feature&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Feature
      &lt;span class=&quot;token key atrule&quot;&gt;bug fix&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Fix
      &lt;span class=&quot;token key atrule&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Config
      &lt;span class=&quot;token key atrule&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Break
    &lt;span class=&quot;token key atrule&quot;&gt;change_type_order&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; Break
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; Feature
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; Fix
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; Config
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;    &lt;span class=&quot;token key atrule&quot;&gt;schema_pattern&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; \&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;(&lt;span class=&quot;token punctuation&quot;&gt;?&lt;/span&gt;P&amp;lt;change_type&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;feature&lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;bug fix&lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;break&lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;bump)\&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;(\s\((&lt;span class=&quot;token punctuation&quot;&gt;?&lt;/span&gt;P&amp;lt;scope&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;.&lt;span class=&quot;token important&quot;&gt;*)\))?\s(?P&amp;lt;message&amp;gt;.*)?&lt;/span&gt;&lt;/span&gt;  &lt;span class=&quot;token key atrule&quot;&gt;bump_message&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;[bump] from $current_version to $new_version&amp;#x27;&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;tag_format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; v$major.$minor.$patch$prerelease
  &lt;span class=&quot;token key atrule&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0.0.0
  &lt;span class=&quot;token key atrule&quot;&gt;version_files&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; project.yaml&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;version
  &lt;span class=&quot;token key atrule&quot;&gt;changelog_file&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;CHANGELOG.md&amp;#x27;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;schema_pattern&lt;/code&gt; 는 커밋 메시지 검증을 위해 쓰이는 커밋 메시지 스키마다.&lt;ul&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;cz check -m &amp;quot;메시지&amp;quot;&lt;/code&gt; 명령 쓰이는 설정 값으로, 인자로 넘어온 메시지가 이 패턴을 따르는지 확인한다.&lt;/li&gt;&lt;li&gt;파이썬 정규표현식으로 작성한다.&lt;/li&gt;&lt;li&gt;사실상 &lt;code class=&quot;language-text&quot;&gt;commit_parser&lt;/code&gt;와 동일하다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;변경 이력을 먼저 저장하자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt; .cz.yaml
$ cz c

? Select type: config
? Changed files or directory scope: .cz.yaml
? Input message: Add schema_pattern &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; cz check

&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;.cz.yaml&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; Add schema_pattern &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; cz check&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;이제 &lt;code class=&quot;language-text&quot;&gt;cz check -m &amp;quot;메시지&amp;quot;&lt;/code&gt; 명령어로 잘 작동하는지 확인해보자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ cz check -m &lt;span class=&quot;token string&quot;&gt;&amp;quot;[config] Valid Commit&amp;quot;&lt;/span&gt;
Commit validation: successful&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;

$ cz check -m &lt;span class=&quot;token string&quot;&gt;&amp;quot;[config] (file) Valid Commit&amp;quot;&lt;/span&gt;
Commit validation: successful&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;

$ cz check -m &lt;span class=&quot;token string&quot;&gt;&amp;quot;config: InValid Commit&amp;quot;&lt;/span&gt;
commit validation: failed&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;
please enter a commit message &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; the commitizen format.
commit &lt;span class=&quot;token string&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;config: InValid Commit&amp;quot;&lt;/span&gt;
pattern: &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;?P&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;change_type&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;feature&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;bug fix&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;config&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;P&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;scope&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;.&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;\&lt;span class=&quot;token punctuation&quot;&gt;))&lt;/span&gt;&lt;/span&gt;?&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;?P&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;message&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;.*&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;?&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;위처럼 규칙을 잘 따르는 메시지는 &amp;quot;successful&amp;quot; 을, 따르지 않는 메시지는 &amp;quot;failed&amp;quot; 를 반환하는 것을 알 수 있다.&lt;/p&gt;&lt;p&gt;이제 이를 pre-commit을 통해 사용해보자.
먼저 다음처럼 &lt;code class=&quot;language-text&quot;&gt;pre-commit&lt;/code&gt; 패키지를 설치한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ pip &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; pre-commit
$ pre-commit -V

pre-commit &lt;span class=&quot;token number&quot;&gt;2.19&lt;/span&gt;.0&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;.pre-commit-config.yaml&lt;/code&gt; 파일을 만든 뒤, 다음처럼 작성한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# .pre-commit-config.yaml&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;repos&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;repo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; local
  &lt;span class=&quot;token key atrule&quot;&gt;hooks&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; commitizen
      &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; My commitizen check
      &lt;span class=&quot;token key atrule&quot;&gt;entry&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; cz
      &lt;span class=&quot;token key atrule&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;check&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;--commit-msg-file&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;.git/COMMIT_EDITMSG&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;pass_filenames&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean important&quot;&gt;false&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;language&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; system
      &lt;span class=&quot;token key atrule&quot;&gt;stages&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;commit&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;msg&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;이제 다음 명령어로 &lt;code class=&quot;language-text&quot;&gt;pre-commit&lt;/code&gt; 설치를 완료한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ pre-commit &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; --hook-type commit-msg&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;정말 잘 동작하는지 확인해보자.
&lt;code class=&quot;language-text&quot;&gt;cz c&lt;/code&gt; 가 아니라 &lt;code class=&quot;language-text&quot;&gt;git commit&lt;/code&gt; 으로 일부러 규칙에 어긋난 커밋 메시지로 커밋을 시도해본다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt; .pre-commit-config.yaml
$ &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; commit -m &lt;span class=&quot;token string&quot;&gt;&amp;quot;Add .pre-commit-config.yaml&amp;quot;&lt;/span&gt;

My commitizen check&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;Failed
- hook id: commitizen
- &lt;span class=&quot;token builtin class-name&quot;&gt;exit&lt;/span&gt; code: &lt;span class=&quot;token number&quot;&gt;14&lt;/span&gt;

commit validation: failed&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;
please enter a commit message &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; the commitizen format.
commit &lt;span class=&quot;token string&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;Invalid commit&amp;quot;&lt;/span&gt;
pattern: &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;?P&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;change_type&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;feature&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;bug fix&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;config&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;P&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;scope&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;.&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;\&lt;span class=&quot;token punctuation&quot;&gt;))&lt;/span&gt;&lt;/span&gt;?&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;?P&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;message&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;.*&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;?&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;의도한대로 커밋에 실패했다!&lt;/p&gt;&lt;p&gt;이번엔 규칙을 따르는 커밋 메시지로 커밋을 시도해보자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; commit -m &lt;span class=&quot;token string&quot;&gt;&amp;quot;[config] (.pre-commit-config.yaml) Add cz check&amp;quot;&lt;/span&gt;

My commitizen check&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;Passed
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;main 1a0ca15&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;.pre-commit-config.yaml&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; Add cz check
 &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;file&lt;/span&gt; changed, &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt; insertions&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;+&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
 create mode &lt;span class=&quot;token number&quot;&gt;100644&lt;/span&gt; .pre-commit-config.yaml&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;의도한대로 성공적으로 커밋이 찍혔다!&lt;/p&gt;&lt;h2 id=&quot;github-actions으로-자동화하기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#github-actions%EC%9C%BC%EB%A1%9C-%EC%9E%90%EB%8F%99%ED%99%94%ED%95%98%EA%B8%B0&quot; aria-label=&quot;github actions으로 자동화하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Github Actions으로 자동화하기&lt;/h2&gt;&lt;h3 id=&quot;메뉴얼대로-사용하기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%A9%94%EB%89%B4%EC%96%BC%EB%8C%80%EB%A1%9C-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0&quot; aria-label=&quot;메뉴얼대로 사용하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;메뉴얼대로 사용하기&lt;/h3&gt;&lt;p&gt;지금까지 Commitizen을 사용하는 것도 물론 충분히 좋다. 하지만 매번 버전을 올릴 때마다 개발자가 직접 &lt;code class=&quot;language-text&quot;&gt;cz bump&lt;/code&gt; 명령어를 실행해야 한다.
결국 &lt;code class=&quot;language-text&quot;&gt;cz bump&lt;/code&gt; 와 &lt;code class=&quot;language-text&quot;&gt;git push&lt;/code&gt; 를 매번 해줘야 하는데, 이게 매우 번거롭다.&lt;/p&gt;&lt;p&gt;Github Action을 사용하면 개발자가 직접 bump 할 일 없이, bump 와 Github Releases 작성을 자동화할 수 있다.
이를 한번 구현해보자.&lt;/p&gt;&lt;p&gt;먼저 &lt;code class=&quot;language-text&quot;&gt;.github/workflows/bump_version.yaml&lt;/code&gt; 를 만들고 다음처럼 작성한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# .github/workflows/bump_version.yaml&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Bump version

&lt;span class=&quot;token key atrule&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;branches&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; main

&lt;span class=&quot;token key atrule&quot;&gt;jobs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;bump-version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;!startsWith(github.event.head_commit.message, &amp;#x27;[bump]&amp;#x27;)&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;runs-on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ubuntu&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;latest
    &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;Bump version and create changelog with commitizen&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;steps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Check out
        &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; actions/checkout@v2
        &lt;span class=&quot;token key atrule&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;token&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;${{ secrets.GITHUB_TOKEN }}&amp;quot;&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;fetch-depth&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Create bump and changelog
        &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; commitizen&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;tools/commitizen&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;action@master
        &lt;span class=&quot;token key atrule&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;github_token&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; secrets.GITHUB_TOKEN &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;changelog_increment_filename&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; body.md
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Release
        &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; softprops/action&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;gh&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;release@v1
        &lt;span class=&quot;token key atrule&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;body_path&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;body.md&amp;quot;&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;tag_name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; v$&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; env.REVISION &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;GITHUB_TOKEN&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; secrets.GITHUB_TOKEN &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Github Action을 사용해본 사람이라면 쉽게 알겠지만, 모르는 분들을 위해 위 내용에 대해 간략히 설명해본다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Github Repo의 main branch에 push 이벤트가 발생할 때 이 워크플로우가 실행된다.&lt;ul&gt;&lt;li&gt;이 때 커밋 메시지가 &lt;code class=&quot;language-text&quot;&gt;[bump]&lt;/code&gt; 로 시작하지 않는 경우에만 실행하는 조건이 붙는다.&lt;ul&gt;&lt;li&gt;로컬에서 &lt;code class=&quot;language-text&quot;&gt;cz bump&lt;/code&gt; 명령어로 커밋 메시지를 만든 뒤 push 하는 경우를 고려한 조건이다.&lt;/li&gt;&lt;li&gt;로컬에서 이미 bump한 경우 Github Action으로 또 bump할 필요가 없기 때문이다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;워크 플로우 내용은 다음과 같다.&lt;ul&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;cz bump&lt;/code&gt; 한 뒤 Github Repo로 커밋과 태그를 push한다.&lt;/li&gt;&lt;li&gt;Changelog 내용을 Releases에 게시한다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;여기까지 작성한 내용을 저장하자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt; .github/
$ cz c

? Select type: config
? Changed files or directory scope: .github
? Input message: Add changelog and release action when bump commit on main

&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;.github&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; Add changelog and release action when bump commit on main&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;이제 Github Repo로 &lt;code class=&quot;language-text&quot;&gt;git push&lt;/code&gt; 하자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; push origin main&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;웹 브라우저에서 Github Repo에 들어가 Actions 탭을 확인해보면 다음처럼 워크플로우가 성공적으로 잘 작동한 것을 볼 수 있다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:63.51351351351351%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACAElEQVQ4y52SUZOaMBDHeWvBtlfPSkVBAQkJJEAgICreS79NX+/urc59407Hx0phO4leO+2czrQPv9mdTfLP/jfRzPHbPSHBnqdkP3eme/31q/3A0PeGoat4Cbn+ZmDI+GVg6E/vDP3B0PUbjYsV1Ns7qNYNZKKGYrWFotqAWDWQFSsgNIOI8RfIgWUC4iQHXqxB8ApsZxFpEW/6MNsdg7Q5htmupdWnlmR1G7KyDZloES1aRMWZokVx0cZ806blXZuIRvKdiaaP881Xy/ZCjfAS0rLpJbzaQSa2QPM1UF6rSJISSFrBkmTgIQZemPyBj9OOFRvATBzGExtrtFhDzOuepFVPkgpYvgaWbyDiayDpCmQNMwFBxGEZcfBxpsQl57zDrAQU54ePswXWwkRASEWPmejlIRTnSsBFDBYBBS9kKncRVcjaX3TzZQyLID5Yjoc1Hyfyll7i4xSWUQaIFqoDxycwXSCYueE1upmr9hymcx9r51n0ZwDRXM0u5jW4IVOHbA9fRAqenCSHibR8HqwSlB26AYX5MgJpQ1r8bfkinYeTk6Dt/hLsnruU4v9IJxvxEDtYtpphKgVbH6c//pNWCYbsmxJ0g5M1afX5JWX+0p+7hovYcWK7RBvefniUvB+OVLwdjVU+Mq0Hczq/Ny3n3rTmV1Drj6blfB6OzJufORZT6bC6I6EAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;1.png&quot; title=&quot;1.png&quot; src=&quot;/blog/static/71da462009217f5acba85b05de7a5caa/fcda8/1.png&quot; srcSet=&quot;/blog/static/71da462009217f5acba85b05de7a5caa/12f09/1.png 148w,/blog/static/71da462009217f5acba85b05de7a5caa/e4a3f/1.png 295w,/blog/static/71da462009217f5acba85b05de7a5caa/fcda8/1.png 590w,/blog/static/71da462009217f5acba85b05de7a5caa/efc66/1.png 885w,/blog/static/71da462009217f5acba85b05de7a5caa/c83ae/1.png 1180w,/blog/static/71da462009217f5acba85b05de7a5caa/fa60d/1.png 1792w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;이제 Repo의 Code 탭에 들어와 확인해보면 bump 커밋이 생긴것과, Releases가 생성된 것을 볼 수 있다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:63.51351351351351%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACRElEQVQ4y4WSXW/TMBSGc8eSoU0I0a2l3ZK0seP4I048t0m/tmm/htvBHRX/GKFdsnR+UdJuDBhw8ej4HB898rHt9d4dbViabHJFN2ejwcY/eLUJ/IOneBgEm8PA/4Mg8DevD4M2fj4M/C9Hgf8x8P1jT5sppvUKtlogL6copwtoU0EVFiI3SHkOJvQLFN1+Jgvk5QxGWwxHIfN4uXRpsb5P1PKe6FXD7U3DdNWkatpQaZuEmybhZTNhRTNOi2ZMiybTVaMuVo0wi0aaxXdl146X86+nw5B4hOVIssJl+cyJogYRBoSXGKc5Jkx3ZHoGoWswY8HmpqvFVHU9MVUPEZEIE353Ogypt0uEY2rqiuoK6mIJaRbIdIVUWaTSQpRz5HYNXa0hqhosnyHh5aP4oZVHRNz1hxH1SKZ3Ql66croCUxYTlkMUFbieIVUXoKLsaqmwSLntpthJZMszYUi9NgmJdFRYJ8wliJqDqBqsWHVQNUciKoz5DMwuwEzdXcE4yxER9dsJ9yNHRLpEzBwz12DlFTJzBVZePq1JvkQilxDXa2R1DSYtxizvTviiMKbKRUS4MOF4iaiFCIQxRzSRSPUck8z8U9gW3f9oJ6G8cNXyxhFpXUyk+5uwiYjcRkRtY9oitzHZQ3/GtidheqtNtSXCdL0RVc1e+K175XaUVjphxf5f5YhTjTgt9lFjzMpf8pDkjy/8RJiI+9NhmHq9/tlty8ng/PZksFv3BufPeJbv907eh7t6f7Tn7FOvP/rw5m3v+AdmxFrb5JhslgAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;2.png&quot; title=&quot;2.png&quot; src=&quot;/blog/static/9115f02bfe640113b9553c08eb9ccc5d/fcda8/2.png&quot; srcSet=&quot;/blog/static/9115f02bfe640113b9553c08eb9ccc5d/12f09/2.png 148w,/blog/static/9115f02bfe640113b9553c08eb9ccc5d/e4a3f/2.png 295w,/blog/static/9115f02bfe640113b9553c08eb9ccc5d/fcda8/2.png 590w,/blog/static/9115f02bfe640113b9553c08eb9ccc5d/efc66/2.png 885w,/blog/static/9115f02bfe640113b9553c08eb9ccc5d/c83ae/2.png 1180w,/blog/static/9115f02bfe640113b9553c08eb9ccc5d/fa60d/2.png 1792w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;Releases를 클릭해 그 내용을 확인해보면 Changelog 내용이 잘 들어가있는 것을 확인할 수 있다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:63.51351351351351%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB3ElEQVQ4y5WSSXPTMBTHfYIkdiYwDCamSfEmybIWL3KK04Xydbgabnj4xgzDkTjRY+Q4gdIUyuE3b7H091tkvZ4/a9MkagWL2+XZq9YeP2mnjt1Op07r2JPfsFvH2TOZjNvx6GlrGzsefbbHoy8ze/LRse2ZhaiAsr4Ftb4FWV1Bmq8hFQUkqYQYpxDhdLB0D6JAUglMlsAz1dusWAFPJbiuRy3CK434xSYW9QbLuiOy7jCvOpSWHWZqD6+6mBZdSLIuTLIuTssOMdWfQUz9QEzpiBZf5wsfWyHmECCmTTKRKwgwg8DksLhDSOQRE8c0hyjJjL8zsY/4d28REGu4oBNRadMykRWgtOwvxLSAiOZ3xA6CiVgBZqWJd/ucEfR/CWKutFCXwIq6P/hnVadEB/9hway6Bppd9H8nXPUMVfyN+4I+4mZ+uqzfg1RXYGZp5hMl+zn9t6CpMKa5zlc3kK1uwLSOmbq3mAcWdUIQ8R0Rlc4v3mlerjXhSodEPpaTFZo3tRXqcsuL9RazchtgsQ2JfAzdIPjt+Gx8xIGICrLVNbD87XER/25ZQDj4PuKb+cJPLNc7b1xv2czP3jQBoo0f0yaIaeMtg+blfNkcvp/m/MAn11t+eP7Cnf0EhhNWGuQxEwEAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;3.png&quot; title=&quot;3.png&quot; src=&quot;/blog/static/c9bf719a1a221adcf00f7602a6868dcc/fcda8/3.png&quot; srcSet=&quot;/blog/static/c9bf719a1a221adcf00f7602a6868dcc/12f09/3.png 148w,/blog/static/c9bf719a1a221adcf00f7602a6868dcc/e4a3f/3.png 295w,/blog/static/c9bf719a1a221adcf00f7602a6868dcc/fcda8/3.png 590w,/blog/static/c9bf719a1a221adcf00f7602a6868dcc/efc66/3.png 885w,/blog/static/c9bf719a1a221adcf00f7602a6868dcc/c83ae/3.png 1180w,/blog/static/c9bf719a1a221adcf00f7602a6868dcc/fa60d/3.png 1792w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;h3 id=&quot;직접-커스터마이징-하기&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%A7%81%EC%A0%91-%EC%BB%A4%EC%8A%A4%ED%84%B0%EB%A7%88%EC%9D%B4%EC%A7%95-%ED%95%98%EA%B8%B0&quot; aria-label=&quot;직접 커스터마이징 하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;직접 커스터마이징 하기&lt;/h3&gt;&lt;p&gt;위 내용은 공식 문서 메뉴얼에 있는 내용을 그대로 사용한 것이다.
그런데 이대로하면 Releases에 과거 버전부터 현재 버전까지 모든 내용이 담기게 된다.
버전이 업되고 커밋이 점점 많아지면 릴리즈 노트에 한 번에 많은 양이 담기게 된다.
또한 현재 릴리즈에 대한 내용만 있는게 아니라 관심 없는 이전의 내용도 한번에 봐야한다.&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;cz changelog &amp;quot;특정 버전 이름&amp;quot;&lt;/code&gt; 명령어를 주면 모든 버전이 아닌 특정 버전에 대해서만 Changelog를 생성할 수 있다.
또한 &lt;code class=&quot;language-text&quot;&gt;--dry-run&lt;/code&gt; 옵션을 주면 &lt;code class=&quot;language-text&quot;&gt;CHANGELOG.md&lt;/code&gt; 파일을 생성하지 않고, stdout에 내용을 출력해준다.&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;Githun Action 워크 플로우를 수정하여, 현재 bump 되는 버전의 Changelog만 Releases에 담기도록 수정해보자.&lt;/p&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;.github/workflows/bump_version.yaml&lt;/code&gt; 을 다음처럼 수정한다.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight has-highlighted-lines&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# .github/workflows/bump_version.yaml&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Bump version

&lt;span class=&quot;token key atrule&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;branches&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; main

&lt;span class=&quot;token key atrule&quot;&gt;jobs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;bump-version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;!startsWith(github.event.head_commit.message, &amp;#x27;[bump]&amp;#x27;)&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;runs-on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ubuntu&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;latest
    &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;Bump version and create changelog with commitizen&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;steps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Check out
        &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; actions/checkout@v2
        &lt;span class=&quot;token key atrule&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;token&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;${{ secrets.GITHUB_TOKEN }}&amp;quot;&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;fetch-depth&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Set git user&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;        &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; fregante/setup&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;git&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;user@v1&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Set up Python 3.9&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;        &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; actions/setup&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;python@v2&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;        &lt;span class=&quot;token key atrule&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;          &lt;span class=&quot;token key atrule&quot;&gt;python-version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3.9&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Bump&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;        &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;          &lt;span class=&quot;token comment&quot;&gt;# Install commitizen.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;          python &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;m pip install &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;upgrade pip&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;          pip install commitizen&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;          &lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;          &lt;span class=&quot;token comment&quot;&gt;# Bump version.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;          cz bump&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;          &lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;          &lt;span class=&quot;token comment&quot;&gt;# Push bump commit and tag.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;          git push origin main&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;          git push origin &amp;quot;HEAD&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;main&amp;quot; &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;tags&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;          &lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;          &lt;span class=&quot;token comment&quot;&gt;# Save current version into environment var.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;          echo &amp;quot;REVISION=$(cz version &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;project)&amp;quot; &lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt; $GITHUB_ENV&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Create Changelog&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;        &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;          &lt;span class=&quot;token comment&quot;&gt;# Create Changelog for release.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;gatsby-highlight-code-line&quot;&gt;          cz changelog &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;dry&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;run $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; env.REVISION &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt; &amp;quot;body.md&amp;quot;&lt;/span&gt;      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Release
        &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; softprops/action&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;gh&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;release@v1
        &lt;span class=&quot;token key atrule&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;body_path&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;body.md&amp;quot;&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;tag_name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; v$&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; env.REVISION &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;GITHUB_TOKEN&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; secrets.GITHUB_TOKEN &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;이전에는 Commitizen 측에서 만들어둔 &lt;code class=&quot;language-text&quot;&gt;commitizen-tools/commitizen-action@master&lt;/code&gt; 워크 플로우를 가져다 사용했는데, 이제는 가져오지 않고 직접 워크플로우를 작성한다.&lt;/p&gt;&lt;p&gt;수정된 워크플로우는 다음과 같다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;뒤에 있을 &lt;code class=&quot;language-text&quot;&gt;git push&lt;/code&gt; 를 위해 git 유저를 셋업한다.&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;pip&lt;/code&gt; 를 사용할 수 있도록 &lt;code class=&quot;language-text&quot;&gt;python&lt;/code&gt; 을 설치 및 셋업해둔다.&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;pip&lt;/code&gt;로 &lt;code class=&quot;language-text&quot;&gt;commitizen&lt;/code&gt; 을 설치한다.&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;cz bump&lt;/code&gt; 명령어를 실행하고, 만들어진 bump 커밋과 태그를 push 한다.&lt;/li&gt;&lt;li&gt;방금 bump 된 현재 버전을 저장해둔다.&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;cz changelog &amp;quot;현재 버전&amp;quot;&lt;/code&gt; 명령으로 Changelog를 만들고, 이를 Releases에 작성한다.&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;변경 내용을 저장하고 &lt;code class=&quot;language-text&quot;&gt;git push&lt;/code&gt; 해보자.&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt; .github/
$ cz c

? Select type: config
? Changed files or directory scope: .github
? Input message: Add step &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; changelog about only current version

&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;.github&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; Add step &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; changelog about only current version

$ &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; push origin main&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;다음처럼 Action이 잘 성공한 뒤 Releases가 의도한대로 잘 작성된 것을 알 수 있다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:63.51351351351351%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB5UlEQVQ4y42STXPaMBCGfWtsOsmkFAoNpMZGli1ZlmVbBCghh/6aXkNv9eQfdzo5FgVtR7ZpjNOvwzPa1cerV7uyhoPzkkSoTBgur6fvS/vsVdlz7ArHPvsVd3Ecu3zdc8z4tefYD+eOvXNs+8JK8wUs1rcglx+BZwvI5BqEXIEolhDzAkLKIYxTiF4gIOY5ECaAZzeQpxIm0w+RRbONDsV2H/DNHoutihefVJQuFWaFwkwqRHMV0LwaEc0UIpki6Uol8laxfGP4kcitptn62+jKDSwUcUBEaBRLHcQFzKP0BEQEIJqBH3KYBazCCxi4KD7Ghzqnj6OJi61Zvagxk5rla/CiBDx8SnWwk0fJAgKam/xQz8WP48kMW159q8Y007FYQZhIQMQ4qh0aZ90LDHMiqvVTwZbDkEktbu6AZWsIWVEJ/Ums4/qloHE4j1JNuKxqhlkBOC6OT/qX6O8FA5ppkt+BT/Km+MlfxQxNsw5mb1fwYBwittQ+ybWHk//C/A4PG0HWEqxvU36UPvk4efIMYdrAK/yTvIkxr/fiRDVP/l512Z1T84daHeXghekzVS5acT0/a2p4xEXxfjRxQ+tNf7C77A92b99d3Q/G0/uhYTR5pp134/H1cfwyHE8/X/aHFz8B6nVWWlOGDUwAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;4.png&quot; title=&quot;4.png&quot; src=&quot;/blog/static/201685241e9066266fb2882b575fe25f/fcda8/4.png&quot; srcSet=&quot;/blog/static/201685241e9066266fb2882b575fe25f/12f09/4.png 148w,/blog/static/201685241e9066266fb2882b575fe25f/e4a3f/4.png 295w,/blog/static/201685241e9066266fb2882b575fe25f/fcda8/4.png 590w,/blog/static/201685241e9066266fb2882b575fe25f/efc66/4.png 885w,/blog/static/201685241e9066266fb2882b575fe25f/c83ae/4.png 1180w,/blog/static/201685241e9066266fb2882b575fe25f/fa60d/4.png 1792w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;h2 id=&quot;나가며&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%82%98%EA%B0%80%EB%A9%B0&quot; aria-label=&quot;나가며 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;나가며&lt;/h2&gt;&lt;p&gt;사실 커스터마이징할려면 생각보다 작성해야할게 많기 때문에, 되도록이면 기존에 있는 프리셋을 사용하기를 권장한다.
내 경험상 대부분 따로 설정안하고 프리셋 기본 값인 Conventional Commit을 따라가도 충분했다.
그럼에도, 일반적인 상황이 아니거나 이미 나름의 커밋 규칙이 있는 팀들은 Commitizen을 커스터마이징해서 사용하지 않을까 싶다.&lt;/p&gt;&lt;p&gt;개인적으로 Commitizen은 간단하면서도 참 잘만든 도구라 생각한다.
Semantic Versioning에 묶여있기는 하지만, 아직까지 Semantic Versioning이 별로라 생각든적이 잘 없다.
다른 Versioning 방법으로 Calander Versioning이 있기는 한데, 글쎄? 아직까진 굳이 Semantic Versioning과 Commitizen을 쓰지 않을 이유를 찾지 못했다.&lt;/p&gt;&lt;p&gt;추후에 이렇게 쓰다 문제가 생기게 되면, 그 때 다시 관련 글을 적어봐야겠다.&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;여기서 실습한 내용은 &lt;a href=&quot;https://github.com/heumsi/commitizen-customize-playground&quot;&gt;여기&lt;/a&gt;에서 확인할 수 있다.&lt;/p&gt;&lt;/blockquote&gt;&lt;h2 id=&quot;참고한-글&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%B0%B8%EA%B3%A0%ED%95%9C-%EA%B8%80&quot; aria-label=&quot;참고한 글 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;참고한 글&lt;/h2&gt;&lt;p&gt;아래 내용들을 참고했다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://commitizen-tools.github.io/commitizen/&quot;&gt;https://commitizen-tools.github.io/commitizen/&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://github.com/commitizen-tools/commitizen-action&quot;&gt;https://github.com/commitizen-tools/commitizen-action&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[나의 첫 번째 이직 회고]]></title><description><![CDATA[들어가며 나의 첫 회사에 대한 회고에 이어, 나의 첫 이직에 대한 내용도 기록해 보려 한다. 먼저 간단히 나에 대한 소개를 하자면, 나는 쏘카(SOCAR)라는 회사의 데이터 엔지니어링 팀에서 2년…]]></description><link>https://heumsi.github.io/blog/posts/my-first-job-change/</link><guid isPermaLink="false">https://heumsi.github.io/blog/posts/my-first-job-change/</guid><pubDate>Thu, 12 May 2022 00:00:00 GMT</pubDate><content:encoded>&lt;h2 id=&quot;들어가며&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0&quot; aria-label=&quot;들어가며 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;들어가며&lt;/h2&gt;&lt;p&gt;나의 첫 회사에 대한 회고에 이어, 나의 첫 이직에 대한 내용도 기록해 보려 한다.&lt;/p&gt;&lt;p&gt;먼저 간단히 나에 대한 소개를 하자면, 나는 쏘카(SOCAR)라는 회사의 데이터 엔지니어링 팀에서 2년 2개월 정도 소프트웨어 엔지니어로 일을 했다.
명함에 적힌 직무는 데이터 엔지니어이긴 했지만, 내 생각에는 좀 더 넓은 범위의 일을 한거 같아 그냥 소프트웨어 엔지니어라고 표현하는 게 맞을 거 같다.&lt;/p&gt;&lt;p&gt;어떤 생각으로 다른 회사에 지원하게 되었는지, 또 지원 과정은 어떠하였고, 들었던 생각과 감정은 어땠는지.
그래서 최종적으로 어떤 회사의 어떤 팀으로 가게 되었는지에 대해 정리해 본다.&lt;/p&gt;&lt;h2 id=&quot;이직을-시도하게-된-이유&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%9D%B4%EC%A7%81%EC%9D%84-%EC%8B%9C%EB%8F%84%ED%95%98%EA%B2%8C-%EB%90%9C-%EC%9D%B4%EC%9C%A0&quot; aria-label=&quot;이직을 시도하게 된 이유 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;이직을 시도하게 된 이유&lt;/h2&gt;&lt;p&gt;먼저 어떤 생각으로 이직을 시도하게 되었는지에 대해 적어본다.&lt;/p&gt;&lt;h3 id=&quot;나에-대한-시장의-평가는-어떨까&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%82%98%EC%97%90-%EB%8C%80%ED%95%9C-%EC%8B%9C%EC%9E%A5%EC%9D%98-%ED%8F%89%EA%B0%80%EB%8A%94-%EC%96%B4%EB%96%A8%EA%B9%8C&quot; aria-label=&quot;나에 대한 시장의 평가는 어떨까 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;나에 대한 시장의 평가는 어떨까&lt;/h3&gt;&lt;p&gt;처음부터 &amp;quot;무조건 이직을 해야겠다!&amp;quot;라는 생각은 없었다. 다만 나는 나에 대한 시장의 평가가 궁금했다.
과연 나는 지난 2년 동안 엔지니어로써 잘 살아온 것인지, 내가 회사에서 했던 일들은 시장의 트렌드와 맞는지,
나는 보통 업계의 경력 2년에 준하는 실력과 커리어를 가지고 있는 건지 궁금했다.
내 근처의 친한 동료들 말고, 외부에 내가 보지 못한 같은 업계의 다른 사람들에게 냉정한 평가를 받고 싶었다.&lt;/p&gt;&lt;p&gt;쏘카에 입사한 이후, 한 번도 다른 회사의 지원해 보지 않았다.
이직 여부를 떠나 한 번쯤은 다른 회사 채용에 지원하고, 이런 냉정한 평가만 잘 받아 가도 좋겠다 싶었다.&lt;/p&gt;&lt;h3 id=&quot;다른-회사-사람들은-무엇을-하며-어떻게-일할까&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%8B%A4%EB%A5%B8-%ED%9A%8C%EC%82%AC-%EC%82%AC%EB%9E%8C%EB%93%A4%EC%9D%80-%EB%AC%B4%EC%97%87%EC%9D%84-%ED%95%98%EB%A9%B0-%EC%96%B4%EB%96%BB%EA%B2%8C-%EC%9D%BC%ED%95%A0%EA%B9%8C&quot; aria-label=&quot;다른 회사 사람들은 무엇을 하며 어떻게 일할까 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;다른 회사 사람들은 무엇을 하며 어떻게 일할까&lt;/h3&gt;&lt;p&gt;입사 후 1년이 조금 넘고, 업무가 조금 익숙해지니 다른 회사의 데이터 팀은 무슨 일을 하는지 궁금했다.
특히 데이터 엔지니어링 관련 업무는 회사 상황에 따라 많이 다를 거 같다는 생각이 들었는데, 가끔 몇몇 회사의 기술 블로그 말고는 실제로 평소에 무슨 일을 하는지 전혀 알 수 없었다.
우리 팀과 비슷한 환경에 있으며 비슷한 목표를 가지고 있는 팀들은 여러 문제를 어떻게 정의하고 어떻게 해결해나가는지 궁금증은 계속해서 가지게 되었다.&lt;/p&gt;&lt;p&gt;입사 후 2년이 다 되어갈 때쯤에는 다른 회사의 데이터 팀은 어떻게 효율적으로 일하는지에 대해 궁금했다.
우리 팀은 매 스프린트마다 일하는 방식에 대해 이런저런 일들을 하며 개선해나가고자 했으나, 나는 늘 Best Practice가 뭔지 궁금했고 이는 쉽게 해소가 되지 않았다.
가끔은 이에 대해 풍부한 경험이 있는 시니어 분이 팀에 합류하여 최적의 솔루션을 내줬으면 좋겠다 생각하기도 했다.&lt;/p&gt;&lt;p&gt;여하튼 면접에 들어가게 되면, 떨어지더라도 해당 팀에서 하는 일(What)과 어떻게 하는지(How)에 대해서만 잘 알아가도 좋겠다 생각했다.&lt;/p&gt;&lt;h3 id=&quot;인생에-긴장감을-불어넣고-더-발전하고-싶다&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%9D%B8%EC%83%9D%EC%97%90-%EA%B8%B4%EC%9E%A5%EA%B0%90%EC%9D%84-%EB%B6%88%EC%96%B4%EB%84%A3%EA%B3%A0-%EB%8D%94-%EB%B0%9C%EC%A0%84%ED%95%98%EA%B3%A0-%EC%8B%B6%EB%8B%A4&quot; aria-label=&quot;인생에 긴장감을 불어넣고 더 발전하고 싶다 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;인생에 긴장감을 불어넣고, 더 발전하고 싶다.&lt;/h3&gt;&lt;p&gt;쏘카에서의 2년은 짧다면 짧은 시간이지만, 그래도 나름의 프로젝트 사이클과 문화를 어느 정도 느껴볼 수 있었던 시간이었다.
내가 초기에 구성했던 것들은 어느새 새로운 팀원들이 사용하고 발전시키고 있었고, 이에 대한 히스토리를 내가 답하는 상황도 자주 생기게 되었다.&lt;/p&gt;&lt;p&gt;그래서 그런 걸까? 어느새부터인가 긴장감은 확실히 조금 줄어들고, 나는 꽤 나태해진 거 같다.
확실히 이전보다 뭔가를 바꿔보려는 시도도 많이 줄었으며, 운영이나 유지 보수만 하는 정도에만 에너지를 두고 있었다.
나도 모르게, 내 뒤에 들어오신 분들이 더 발전시켜 주시겠지라는 마음이 들었었나 보다.&lt;/p&gt;&lt;p&gt;그나마 다행인 건 이런 나태함을 내가 인지는 하고 있었고, 더 발전해 보고자 하는 마음은 있었다는 것이다.
부끄럽지만, 나 자신이 아닌 내가 처한 환경을 좀 극적으로 바꿔봄으로써 타개해 보고자 했다.
적어도 면접에 들어가면 좀 더 극적인 환경 속에서 내가 긴장감을 가지고 살아갈 수 있을 거 같았다.&lt;/p&gt;&lt;h2 id=&quot;지원-과정과-결과&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%A7%80%EC%9B%90-%EA%B3%BC%EC%A0%95%EA%B3%BC-%EA%B2%B0%EA%B3%BC&quot; aria-label=&quot;지원 과정과 결과 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;지원 과정과 결과&lt;/h2&gt;&lt;p&gt;3월 초부터 기업 홈페이지나, 원티드와 같은 채용 플랫폼을 통해 입사 지원을 시작하였다.
거의 한 달여간 정도 계속해서 지원했는데, 이에 대한 내용을 적어본다.&lt;/p&gt;&lt;h3 id=&quot;지원한-회사와-직무&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%A7%80%EC%9B%90%ED%95%9C-%ED%9A%8C%EC%82%AC%EC%99%80-%EC%A7%81%EB%AC%B4&quot; aria-label=&quot;지원한 회사와 직무 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;지원한 회사와 직무&lt;/h3&gt;&lt;p&gt;지원한 회사는 20군데가 조금 넘는다.
IT업계 종사자라면 들어봤을만한 회사에 대부분 지원하였다.
마침 또 채용 시즌인지라, 여기저기 채용 공고도 많이 보이기도 했다.
일단 어디 갈지는 합격하고 고민하자라는 마음으로 내게 매력적으로 보이는 회사는 거의 다 지원했다.&lt;/p&gt;&lt;p&gt;직무는 주로 데이터 (플랫폼) 엔지니어 또는 데브옵스 엔지니어로 지원하였다.&lt;/p&gt;&lt;p&gt;데이터 (플랫폼) 엔지니어의 경우, 스트리밍 데이터나 메시지 기반의 유연하고 모던한 데이터 인프라 설계는 아직 경험이 잘 없는데, 이게 잘 되어 있는 회사에 가서 배우고 싶었고, 또 같이 기여하고 싶었다.
또 Kubernetes 위에서 Airflow를 배포하고 운영해 본 내 나름의 경험을 잘 살려 면접에서 이야기해 볼 수 있는 게 많을 거 같았다.
한편으론 일반적으로 데이터 엔지니어 경력 채용 면접에 들어가면 어떤 것을 물어보는지, 어떤 역량을 기대하는지도 궁금하기도 했다.&lt;/p&gt;&lt;p&gt;데브옵스 엔지니어의 경우, 회사 데이터 인프라를 다루며 느낀 내 역량 부족을 보통 일반적으로 잘 발전되어 있는 데브옵스 팀에 가서 배우고 싶었다.
사실 내가 해당 팀에 무엇을 기여할 수 있을지는 모르겠으나, 내가 회사에서 다뤄본 Google Cloud Platform이나 Kubernetes 경험이 도움이 될까 궁금하기는 했다.
내가 작업했던 CI/CD나 클러스터 운영 경험들이 데브옵스 직무와 겹치는 부분이 꽤 있다고 느꼈는데, 데브옵스 팀에서도 그렇게 느끼는지도 궁금했다.&lt;/p&gt;&lt;p&gt;서비스 백엔드 엔지니어도 일부 지원을 했었다.
쏘카에서 경험한 것 중 파이썬 애플리케이션 개발 경험 비중 역시 컸고, 여기서 느꼈던 부족함을 더 키워보려고 싶은 생각이 있었다.
또 데이터 기반의 Back of Backend 서비스가 아닌, 실제로 많은 트래픽을 받고 있는 라이브 서비스를 개발하는 팀에 들어가서 일해보고 싶었다.&lt;/p&gt;&lt;p&gt;사실 어떤 회사, 어떤 직무든 내 경험이 얕기 때문에 나는 많이 부족하겠다 싶었다.
그럼에도, 내가 관심 있는 직무에 대해서 나는 어느 정도 역량과 경험을 가진 것인지, 부족한 역량은 어떤 게 있고 어떻게 키우면 좋겠는지를 면접에서 물어보고 싶었다.&lt;/p&gt;&lt;h3 id=&quot;면접에서-느낀점&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%A9%B4%EC%A0%91%EC%97%90%EC%84%9C-%EB%8A%90%EB%82%80%EC%A0%90&quot; aria-label=&quot;면접에서 느낀점 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;면접에서 느낀점&lt;/h3&gt;&lt;p&gt;다행히 운이 좋아서인지 대부분의 서류는 통과했고, 면접에 들어갈 수 있었다.&lt;/p&gt;&lt;p&gt;면접에서 느낀 점 첫 번째는 회사마다 면접 질문과 느낌이 많이 다르다는 것이다.&lt;/p&gt;&lt;p&gt;어떤 회사는 이력 내용 확인을 중심으로 시간을 모두 썼고, 어떤 회사는 이력 내용보다는 직무 기본기 중심을 보기도 했으며,
어떤 회사는 라이브 코딩 테스트나 시스템 디자인을 중심으로 두기도 하였다.
여러 방식의 면접을 보며 조금 더 내 취향의 면접 방식을 느낄 수 있었고, 나도 나중에 이렇게 저렇게 해봐야겠다는 생각이 들었다.&lt;/p&gt;&lt;p&gt;또 화상 면접을 통해 각 회사의 분위기나 아우라도 느낄 수 있었는데, 예를 들어 편하고 웃으면서 자유로운 분위기가 느껴지는 회사가 있는 한편,
잘 웃지 않고 체계적이며 뭔가 프로페셔널한 느낌이 나는 회사도 있었다.
이런 분위기는 채용 전반에 걸쳐 드러나기도 하지만, 역시 면접 때 가장 잘 느껴지는 것 같았다.&lt;/p&gt;&lt;p&gt;면접에서 느낀 두 번째는 면접관 분들이 참 친절하시다는 것이다.&lt;/p&gt;&lt;p&gt;면접 시간 내 마지막 즈음은 항상 나의 질문 시간으로 채워지게 되는데, 나는 주로 다음과 같은 것들을 물어보았다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;팀에서 현재 사용 중인 기술 스택은 어떤 것들이 있나요?&lt;/li&gt;&lt;li&gt;팀에서 외부 혹은 내부와 어떻게 일하나요? 프로세스가 궁금합니다.&lt;/li&gt;&lt;li&gt;조직은 어떻게 구성이 되어있고, 각 팀의 R&amp;amp;R과 추구하고자 하는 게 무엇인가요?&lt;/li&gt;&lt;li&gt;제가 합류하게 되면 제게 기대하는 Role은 어떤 것인가요?&lt;/li&gt;&lt;li&gt;합/불합과 별게로, 제가 이 팀에 합류하고자 할 때 더 키워야 하는 역량은 무엇일까요?&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;여기서 특히 마지막 질문은 사실 면접관 입장에서 굳이 말 안 해줘도 되는 질문이라고 생각한다.
그럼에도, 많은 분들이 정말 친절하게 내게 조언해 주셨다.
리눅스나 네트워크 공부를 좀 더 했으면 좋겠다는 말씀부터 지금 내 이력서와 면접을 보고 면접자로서 느끼는 부분까지.
사실 면접에서 떨어지더라도 뭐라도 챙겨가야겠다는 내 욕심이 가득 담긴 질문인데, 다들 정말 진지하게 잘 말씀해 주셨다.&lt;/p&gt;&lt;p&gt;그리고 지금도 충분히 잘해나가고 있다는 말을 들으며 정말 많이 위안이 되었고, 이 업계에 이런 분들과 함께 있다는 게 행복했다.
특히 &amp;quot;성장하는 사람은 계속해서 어떻게 하면 잘 성장할 수 있는지 고민하는 사람이다&amp;quot;라는 조언이 기억에 많이 남는다.&lt;/p&gt;&lt;h3 id=&quot;결과와-그-이후&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EA%B2%B0%EA%B3%BC%EC%99%80-%EA%B7%B8-%EC%9D%B4%ED%9B%84&quot; aria-label=&quot;결과와 그 이후 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;결과와 그 이후&lt;/h3&gt;&lt;p&gt;결과적으로 최종 합격을 받은 회사는 7군데였다.&lt;/p&gt;&lt;p&gt;이 안에는 데이터 엔지니어, 데브옵스 엔지니어, 서비스 백엔드 엔지니어 모두 포함되어 있었기 때문에 회사뿐 아니라 직무에 대한 고민이 시작되었다.
앞서 말했지만, &amp;quot;일단 붙고 고민해 보자&amp;quot;라는 마인드였기 때문에 뒤늦게 나 자신을 되돌아보며 내가 무엇을 원하는지 시간이 좀 필요했다.&lt;/p&gt;&lt;p&gt;한편, 합격한 회사 모든 곳에 티타임을 요청하여 해당 팀의 분들과 이야기해 볼 수 있었다.
면접 때 미처 물어보지 못한 것들을 물어보기도 하고, 팀에 합류하면 향후 1년간은 무엇을 하는지 등 내가 머릿속에 잘 상상할 수 있도록 구체적인 질문을 주로 했던 거 같다.
그리고 내 상황을 솔직하게 말씀드리며, 내 입장에서 어떤 선택을 하실 지도 여쭈어보고 조언을 얻기도 하였다.
모든 분들이 진정성 있게 같이 공감하고 고민해 주셨으며, 내가 좋은 선택을 할 수 있도록 도와주시는 것을 느낄 수 있었다.&lt;/p&gt;&lt;p&gt;또한, 가능하다면 직접 회사에 방문하여 사무실의 공기도 느껴보곤 하였다.
내 나름대로 후회 없는 선택을 하도록 노력했다고 생각한다.&lt;/p&gt;&lt;h2 id=&quot;최종-선택과-이유&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%B5%9C%EC%A2%85-%EC%84%A0%ED%83%9D%EA%B3%BC-%EC%9D%B4%EC%9C%A0&quot; aria-label=&quot;최종 선택과 이유 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;최종 선택과 이유&lt;/h2&gt;&lt;p&gt;나는 &amp;quot;라인 플러스&amp;quot;의 데이터 플랫폼 팀에 합류하기로 결정했다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:100%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAIDBAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHuTx6C0FQLAf/EABgQAAMBAQAAAAAAAAAAAAAAAAEQEQID/9oACAEBAAEFAoGeV1kEOL//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAZEAACAwEAAAAAAAAAAAAAAAABEQAQISD/2gAIAQEABj8CsnJqXP8A/8QAGRABAAMBAQAAAAAAAAAAAAAAARARIQAx/9oACAEBAAE/IZECdt+cfSoKAITWX//aAAwDAQACAAMAAAAQwA88/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPxAf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPxAf/8QAGxABAAIDAQEAAAAAAAAAAAAAAREhABBRQTH/2gAIAQEAAT8QEWSL99wAK+afjUAvsk3d4UaAiIg1Lc28MgXM3w1//9k=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;1&quot; title=&quot;1&quot; src=&quot;/blog/static/c9168bbfe5b34e4e13c2f784c146d564/1c72d/1.jpg&quot; srcSet=&quot;/blog/static/c9168bbfe5b34e4e13c2f784c146d564/a80bd/1.jpg 148w,/blog/static/c9168bbfe5b34e4e13c2f784c146d564/1c91a/1.jpg 295w,/blog/static/c9168bbfe5b34e4e13c2f784c146d564/1c72d/1.jpg 590w,/blog/static/c9168bbfe5b34e4e13c2f784c146d564/a8a14/1.jpg 885w,/blog/static/c9168bbfe5b34e4e13c2f784c146d564/51334/1.jpg 1168w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;운이 좋게도 최종 합격 메일을 받았다.&lt;/em&gt;&lt;/p&gt;&lt;p&gt;이렇게 결정하게 된 이유에 대해서 나름 정리하며 적어본다.&lt;/p&gt;&lt;h3 id=&quot;보다-큰-조직에서-일한다는-것에-대한-호기심&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%B3%B4%EB%8B%A4-%ED%81%B0-%EC%A1%B0%EC%A7%81%EC%97%90%EC%84%9C-%EC%9D%BC%ED%95%9C%EB%8B%A4%EB%8A%94-%EA%B2%83%EC%97%90-%EB%8C%80%ED%95%9C-%ED%98%B8%EA%B8%B0%EC%8B%AC&quot; aria-label=&quot;보다 큰 조직에서 일한다는 것에 대한 호기심 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;보다 큰 조직에서 일한다는 것에 대한 호기심&lt;/h3&gt;&lt;p&gt;언젠가 한 번쯤은 큰 기업에서 일해보고 싶었다.
사실 내 성향은 스타트업과 더 맞지 않을까란 생각이 들긴 하지만, 그래도 일단은 큰 기업도 경험해 보고 난 뒤 나에 대해 제대로 파악하고 싶다.&lt;/p&gt;&lt;p&gt;라인 플러스는 쏘카보다 규모적으로 훨씬 큰 기업이다.
채용 공고만 보아도 팀이 매우 세분화되어 있는 것을 알 수 있으며, 티타임을 통해 내부 조직이나 기술적 규모의 범위가 꽤 크다는 것을 들을 수 있었다.
스타트업과 확연히 다른 경험을 해볼 수 있을 거 같아 매력적으로 다가왔다.&lt;/p&gt;&lt;p&gt;쏘카를 비롯하여 많은 스타트업들이 계속해서 성장하고 이에 따라 이런저런 이슈를 겪을 텐데, 라인 플러스는 이런 이슈를 &amp;quot;이미&amp;quot; 어느 정도 잘 풀어냈을 거란 기대가 있다.
잘 성장한 조직은 어떤 형태를 갖추고, 어떻게 일을 하며, 어떻게 문제들을 해결해나가는지 궁금하다.
잘 성장하려고 하는 조직의 &amp;#x27;미래&amp;#x27;를 라인 플러스에서 경험해 보고 싶다.&lt;/p&gt;&lt;h3 id=&quot;기술에-딥-다이빙-할-수-있는-환경&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EA%B8%B0%EC%88%A0%EC%97%90-%EB%94%A5-%EB%8B%A4%EC%9D%B4%EB%B9%99-%ED%95%A0-%EC%88%98-%EC%9E%88%EB%8A%94-%ED%99%98%EA%B2%BD&quot; aria-label=&quot;기술에 딥 다이빙 할 수 있는 환경 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;기술에 딥 다이빙 할 수 있는 환경&lt;/h3&gt;&lt;p&gt;쏘카의 데이터 플랫폼팀에서 일하는 동안 나는 기술적인 것들을 얕고 넓게 알았다고 생각한다.
이 때문에 처음에는 큰 그림을 볼 수 있어서 좋았지만, 운영을 해갈 수록 아쉬운 부분이 있었다.
장애가 날 때, 왜 장애가 나는지 모를 때가 많았다.
알게 되어도 일반적인 Best Practice 해결 방법을 모를 때가 많았으며, 내 생각에는 내가 기술적인 깊이가 없기 때문이라는 생각이 들었다.
대부분은 디테일의 차이인데 이 디테일을 섬세하게 챙기며 일하기는 어려웠고, 잘 알고 있는 시니어는 없기도 했다.&lt;/p&gt;&lt;p&gt;내가 라인 플러스에 지원한 직무는 &lt;a href=&quot;https://careers.linecorp.com/ko/jobs/1093&quot;&gt;&amp;quot;데이터 플랫폼 쿠버네티스 엔지니어&amp;quot;&lt;/a&gt;인데,
단순히 &amp;quot;데이터 엔지니어링 팀&amp;quot;이 아니고 &amp;quot;데이터 플랫폼 팀&amp;quot;이라는 좀 더 세분화되고 고도화된 팀이라는 점, 그리고 &amp;quot;쿠버네티스 엔지니어&amp;quot;라는 점이
매우 매력 있었다.
이전보다 R&amp;amp;R이 더 좁고 깊은 느낌이었고, 실제로 티타임을 통해 데이터 파이프라인 구축보다는 쿠버네티스 클러스터 전체를 가지고, 이 위에서 멀티 테넌시 기반의
데이터 플랫폼 환경을 개발하는 일이라는 것을 들을 수 있었다. 데이터 플랫폼으로써 Single Responsibilty에 온전히 집중할 수 있을 거 같았다,.&lt;/p&gt;&lt;p&gt;팀에 10년 차 이상의 시니어 분들도 계시다고 하니, 내가 정확히 무엇을 모르는지, 무엇을 어떻게 더 공부하면 좋을지 등 기술적인 것에 더 딥 다이빙할 수 있을 거라 기대한다.&lt;/p&gt;&lt;h3 id=&quot;데이터라는-도메인&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%9D%BC%EB%8A%94-%EB%8F%84%EB%A9%94%EC%9D%B8&quot; aria-label=&quot;데이터라는 도메인 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;데이터라는 도메인&lt;/h3&gt;&lt;p&gt;채용 공고를 보고 입사 지원을 할 초기에만 해도, 데브옵스나 서비스 백엔드 엔지니어 직무에도 관심이 있었다.
그러나 막상 데이터 포지션과 함께 제안을 받아보니, 데이터 포지션 쪽으로 마음이 기울었다.&lt;/p&gt;&lt;p&gt;분명히 데브옵스나 서비스 백엔드 엔지니어링에 대해 내가 부족하다는 것들을 느끼고 있었고, 이에 대한 경험과 지식을 품고 있으면 좋을 거란 생각이 들긴 했다.
그럼에도, 이러한 경험과 지식을 가지고 결국 나는 어떤 팀에서 어떤 일을 하고 싶은가라고 했을 때, 그 끝은 데이터 엔지니어링과 관련한 팀이 될 거 같았다.&lt;/p&gt;&lt;p&gt;아무래도 나는 뭘 하든 여전히 데이터 관련 산업에 남고 싶나 보다.
이유는 사실 딱히 잘 모르겠다. 그냥 데이터라는 도메인이 끌린다.&lt;/p&gt;&lt;h2 id=&quot;정리-및-회고&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%A0%95%EB%A6%AC-%EB%B0%8F-%ED%9A%8C%EA%B3%A0&quot; aria-label=&quot;정리 및 회고 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;정리 및 회고&lt;/h2&gt;&lt;p&gt;3월 초부터 지원을 시작하여, 최종적으로 4월 중순에 오퍼를 확정 지었다.
준비 기간은 따로 없었고, 이직 과정 자체는 한 달 조금 넘게 걸린 거 같다.&lt;/p&gt;&lt;p&gt;늘 궁금해했던 3년 차 엔지니어로서의 평가를 냉정하게 받아볼 수 있어 지난 한 달이 아주 만족스럽다.
라인 플러스에 합류하게 된 것도 물론 좋지만, 많은 면접을 통해 업계의 여럿 분들을 만나고, 객관적인 평가를 들어보고, 더 나아갈 수 있는 방법에 대해 이야기할 수 있던 것이 특히 더 좋았다.
이직 여부를 떠나서, 이렇게 종종 면접을 준비하며 스스로를 돌아보는 기회를 가져도 좋을 거 같다.&lt;/p&gt;&lt;p&gt;아, 한 가지 더 느낀 점이 있다면, 내가 회사를 결정할 때 무엇을 중요하게 생각하는가에 대해 이전보다 더 깊게 생각하게 되었다는 것이다.
&lt;a href=&quot;https://dailyheumsi.tistory.com/207?category=864097&quot;&gt;신입으로 쏘카에 지원한 뒤 작성한 과거의 회고 글&lt;/a&gt;을 보면, 나는 회사를 결정할 때 다음의 것들을 중요시하게 생각했었다.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;함께 일하고 싶은 동료들과 문화&lt;/li&gt;&lt;li&gt;새로운 가치를 창출하는 회사&lt;/li&gt;&lt;li&gt;연봉&lt;/li&gt;&lt;li&gt;환경, 위치&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;그러나 이제 신입이 아닌 경력으로 지원하고 합격한 회사들은 위의 것들은 사실 &amp;#x27;당연히&amp;#x27; 충족되는 부분이었고, 이러한 것들 안에서 우선순위를 매기긴 힘들었다.
그래서 이전보다 더 깊은 고민을 해볼 수 있었고, 정말 내가 중요하게 생각하는 것은 무엇인지에 대해 이전보다 좀 더 알게 되었다고 생각한다.
물론 나를 정말 온전히 잘 알았는지에 대해서는 여전히 만족스럽지는 않다.
그럼에도 확실히 이전보다 알게 되었고, 더 성장했다고 느낀다.&lt;/p&gt;&lt;h2 id=&quot;앞으로&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%95%9E%EC%9C%BC%EB%A1%9C&quot; aria-label=&quot;앞으로 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;앞으로&lt;/h2&gt;&lt;p&gt;면접을 보다 보면, 결국 나는 어떤 엔지니어가 되고 싶은지에 대해 필연적으로 생각해 보게 되는 거 같다.
신입 때에는 사실 별생각이 없었는데, 이직 과정에서 내 커리어를 찾아나가는 경험을 겪어보니, 이제는 &amp;quot;어떤 엔지니어가 되고 싶다&amp;quot;에 대해 진지하게 생각이 든다.&lt;/p&gt;&lt;p&gt;나는 한 5년 뒤에는 조직의 비즈니스에 유연하며 De Facto Standard 기술과 방법들을 잘 적용할 수 있는 데이터 엔지니어링 팀을 만들고 싶다.
개발 팀이나, 데이터를 활용하는 팀과 멀리 떨어져 있지 않으며, 기술에만 매몰되지 않는, 그런 팀을 만들고 싶다.&lt;/p&gt;&lt;p&gt;이를 위해 지금은 일단 잘 만들어진 팀과 조직에 가서 많이 배우고, 기술적으로는 좀 더 다이빙할 때라고 생각한다.
라인 플러스 데이터 플랫폼 팀에 합류하여 더 많은 것들을 느끼고, 내 목표를 잊지 않고 지속해서 성장하도록 노력해야겠다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[나의 첫 회사, 쏘카를 떠나며 쓰는 회고]]></title><description><![CDATA[들어가며 지난주 금요일, 마지막 출근을 했다. 쏘카를 다닌 지 어연 2년이 조금 넘었다. 시간 빠르다 정말.
특히 블로그에 입사한지 얼마 안 되었을 때 작성한 회고가 그대로 있는 걸 보면... 기분 참 이상하다. 
 입사한 지…]]></description><link>https://heumsi.github.io/blog/posts/goodbye-socar/</link><guid isPermaLink="false">https://heumsi.github.io/blog/posts/goodbye-socar/</guid><pubDate>Thu, 05 May 2022 00:00:00 GMT</pubDate><content:encoded>&lt;h2 id=&quot;들어가며&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0&quot; aria-label=&quot;들어가며 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;들어가며&lt;/h2&gt;&lt;p&gt;지난주 금요일, 마지막 출근을 했다.&lt;/p&gt;&lt;p&gt;쏘카를 다닌 지 어연 2년이 조금 넘었다. 시간 빠르다 정말.
특히 블로그에 입사한지 얼마 안 되었을 때 작성한 회고가 그대로 있는 걸 보면... 기분 참 이상하다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:89.86486486486487%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAABzElEQVQ4y41UyUoDQRD1Yz0rouJyC2pcLoJXESNKgmv8A296cAlqFgeEEBMSsu+TTDKTJ6+lhnayDjy6u4p+VfWqpucAYDAYjESr1UIul0MymUQqlUK5XEY+n1c+uef95kY5hLDf76Pb7aLT6ai11+spTCTUnY7jKMzyeasRm8qQJMViUZWXyWSQTqdRqVRUedzTxvLHZaXbXULqQ1KSELVaDaVSCdlsFoVCAe12G5P0djMcF3GWMseWzA3FpvCWZf2D3oRpwf51uVqtqhJ1UEeujUbDRbPZVEEYTBo4MkOKTlJe4EWedSKCutIvo2Tb9lCjXEI6GZmrgHNIG1c5e8fKK4dLKF0mmCnP02Zy1IC7hKZpDpVLm95JPXuvfkOE9XpdNUEawQy5p53aEQxA7TiTlGIqIUvlRZLJnqSyZwW6DBMHW+ZQHgKBabaVjdlZVne2X8+NJE4N8KzqEZn2p9jOAIGHH2zfJHAQ/sJB2MD+vYG9sIHdsAH/nQH/7Rd2bhLYvo5j6zIGX+gTvuAHNgMRvH2X8fcmCKHt4PDqGcuBCDZDMWyEYlgXBKNYC0axevGJlfMPLJ+9Y+k0gsWTVywcv2D+6AmP8QIksV8tHmgFLThu/AAAAABJRU5ErkJggg==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;1.png&quot; title=&quot;1.png&quot; src=&quot;/blog/static/748a40b515f67120721acbda5b313b63/fcda8/1.png&quot; srcSet=&quot;/blog/static/748a40b515f67120721acbda5b313b63/12f09/1.png 148w,/blog/static/748a40b515f67120721acbda5b313b63/e4a3f/1.png 295w,/blog/static/748a40b515f67120721acbda5b313b63/fcda8/1.png 590w,/blog/static/748a40b515f67120721acbda5b313b63/efc66/1.png 885w,/blog/static/748a40b515f67120721acbda5b313b63/14060/1.png 949w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;입사한 지 4주 정도 되었을 때 작성했던 &lt;a href=&quot;https://dailyheumsi.tistory.com/215?category=864097&quot;&gt;회고&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;&lt;p&gt;이번 주부터 아침에 조금씩 늦게 일어나고, 운전면허를 (드디어!) 따려고 학원 다니는 내 모습을 보면, 퇴사한 게 조금씩 실감이 난다.&lt;/p&gt;&lt;p&gt;퇴사 이후 더 느슨한 상태로 쉬기 전에, 귀찮더라도 지난 2년간의 쏘카 생활을 회고해 보고 싶다. 팀에서 주로 하던 3L(Liked, Learned, Lacked) 방식으로 쏘카의 지난 2년을 회고해 보겠다.&lt;/p&gt;&lt;h2 id=&quot;좋았던-것들-liked&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%A2%8B%EC%95%98%EB%8D%98-%EA%B2%83%EB%93%A4-liked&quot; aria-label=&quot;좋았던 것들 liked permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;좋았던 것들 (Liked)&lt;/h2&gt;&lt;p&gt;먼저 좋았던 것들이다! 생각나는대로 주저리 주저리 적어본다.&lt;/p&gt;&lt;h3 id=&quot;작지만-임팩트-있는-서비스를-운영해볼-수-있는-경험&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%9E%91%EC%A7%80%EB%A7%8C-%EC%9E%84%ED%8C%A9%ED%8A%B8-%EC%9E%88%EB%8A%94-%EC%84%9C%EB%B9%84%EC%8A%A4%EB%A5%BC-%EC%9A%B4%EC%98%81%ED%95%B4%EB%B3%BC-%EC%88%98-%EC%9E%88%EB%8A%94-%EA%B2%BD%ED%97%98&quot; aria-label=&quot;작지만 임팩트 있는 서비스를 운영해볼 수 있는 경험 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;작지만 임팩트 있는 서비스를 운영해볼 수 있는 경험&lt;/h3&gt;&lt;p&gt;나는 입사하자마자 쏘카 차량의 대여 가격 산출 서버를 개발을 시작으로, 몇 달 뒤엔 쏘카 면책 가격 산출 서버도 개발하게 되었다. 둘 다 쏘카라는 서비스의 MSA 일부여서, 그 자체로 큰 범위의 기능은 아니었지만, 회사 매출에 직접적으로 상당한 기여를 담당하는 서비스들이었다.&lt;/p&gt;&lt;p&gt;팀장님과 둘이서 초기에 개발을 담당하다 보니, 서비스 컨셉이나 전체 시스템 디자인을 모두 알 수 있었다. 배포 역시 직접 함으로써, 회사에서 내가 담당하는 서비스가 개발되고 배포되어 트래픽이 들어오는 것을 모두 경험할 수 있었다. 또한 1년 정도 운영하며 서비스를 운영하며 발생하는 여러 귀찮은 일들, 장애들을 경험해 보며, 운영 담당자들과 소통하는 법, 내가 좀 덜 귀찮아지는 법 등을 배울 수 있었다.&lt;/p&gt;&lt;p&gt;다시 이런 운영 경험을 바탕으로 현 운영 환경에 맡게 기존 시스템을 다시 디자인하며 새로 개발할 수 있었는데, 이때에는 내가 공부했던 클린 코드나, 아키텍처적인 지식들을 녹여보려는 시도도 해볼 수 있었다.&lt;/p&gt;&lt;p&gt;물론 모든 과정이 쉽게 잘 흘러간 것은 아니며, 이상과 다르게 현실적으로 타협한 부분이나 지금 생각해 보면 Best Practice가 아닌 것도 많다. 또한 혼자 고민해 봐야 하는 상황이 많았고, 이 와중에 서투르지만 잘해보기 위해 노력하며 현실적으로 힘든 부분들도 있었다.&lt;/p&gt;&lt;p&gt;그럼에도, 쏘카 정도되는 유니콘 규모의 회사에서 신입 개발자가 이런 기회를 갖는 것은 결코 흔한 일은 아니며, 나에겐 매우 좋은 기회였음에 감사하다. 사내에 데이터 조직이 나름대로 힘이 있었고, 자유로운 성향이 강한 나를 잘 이끌어주신 훌륭하신 팀장님 덕분에 가능했다고 생각한다.&lt;/p&gt;&lt;h3 id=&quot;원하는-걸-할-수-있는-환경&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%9B%90%ED%95%98%EB%8A%94-%EA%B1%B8-%ED%95%A0-%EC%88%98-%EC%9E%88%EB%8A%94-%ED%99%98%EA%B2%BD&quot; aria-label=&quot;원하는 걸 할 수 있는 환경 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;원하는 걸 할 수 있는 환경&lt;/h3&gt;&lt;p&gt;쏘카에서는 주기적으로 팀장님과 1:1 미팅을 하곤 한다. 이때 내가 키우고 싶은 커리어에 맞는 방향으로 추후 프로젝트에 담당할 일에 대해 논의해 볼 수 있다. 나는 초기에는 팀 내에서 개발 관련 일을 담당하고 싶다고 했고, 이후에는 인프라 관련 일을 맡고 싶다고 하였다. 그리고 실제로 이에 관련된 일 위주로 일을 할 수 있었다.&lt;/p&gt;&lt;p&gt;사실 개발부터 인프라까지 다 다뤄보는 게 가능한 이유는 내가 있던 팀이 데이터 조직의 모든 엔지니어링 파트를 맡고 있기 때문이다. 좀 더 구체적으로 말하면, GCP 관리부터 쿠버네티스(Managed) 클러스터, 그리고 클러스터에 배포되는 데이터 애플리케이션까지 모두 우리 팀이 메인테이너다.&lt;/p&gt;&lt;p&gt;따라서 GCP에서 제공하는 리소스를 사용해야겠다고 하면, 언제든지 사용할 수 있으며, 쿠버네티스 클러스터 구성 방식이나, 이 위에서 로그 수집은 어떻게 할지, CI/CD는 어떻게 할지 등등 뭔가 만들어보고 싶은 게 있으면 언제든 자유로이 가능했다.&lt;/p&gt;&lt;p&gt;나를 비롯한 우리 팀원들은 이런 자유로운 환경을 적극적으로 이용해서, 필요한 것들이나 새로운 툴들을 빠르게 PoC 하고 운영해 볼 수 있었다. 물론 팀의 자유도가 높아지는 만큼 책임과 운영 리소스 또한 따라오지만, 그래도 이런 환경은 엔지니어라면 누구나 반길만한 환경이 아닐까 싶다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:100%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAQDAQL/xAAVAQEBAAAAAAAAAAAAAAAAAAABAP/aAAwDAQACEAMQAAABnsy8JUiF3AXMF//EAB4QAAIBAwUAAAAAAAAAAAAAAAECAwAEERMjMTI0/9oACAEBAAEFAhGGaO3RJG5AwZptOQXBrO5celu3/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAHxAAAgECBwAAAAAAAAAAAAAAAAEREjECEBNBYXGB/9oACAEBAAY/AkpvuVakxkuymksjCuReDP/EABsQAQADAAMBAAAAAAAAAAAAAAEAESExQaFR/9oACAEBAAE/IXC9VBpJPCuYN1ND0OI6EWVsUbK3wVnlj3z/2gAMAwEAAgADAAAAEOQfAP/EABkRAAIDAQAAAAAAAAAAAAAAAAARARAxUf/aAAgBAwEBPxBdETtf/8QAGBEAAgMAAAAAAAAAAAAAAAAAACEBEDH/2gAIAQIBAT8QnUO//8QAHxABAAMAAgEFAAAAAAAAAAAAAQARITFBUWGBkbHh/9oACAEBAAE/EAUgLNC+6yWewgQx+wFNCqfLLOLbZy5g6gKzfIMsSPaNQw4newh6l17BX1AOjxP/2Q==&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;2.jpeg&quot; title=&quot;2.jpeg&quot; src=&quot;/blog/static/a263f5ca656629c28da5ce69fe1422a0/1c72d/2.jpg&quot; srcSet=&quot;/blog/static/a263f5ca656629c28da5ce69fe1422a0/a80bd/2.jpg 148w,/blog/static/a263f5ca656629c28da5ce69fe1422a0/1c91a/2.jpg 295w,/blog/static/a263f5ca656629c28da5ce69fe1422a0/1c72d/2.jpg 590w,/blog/static/a263f5ca656629c28da5ce69fe1422a0/a8a14/2.jpg 885w,/blog/static/a263f5ca656629c28da5ce69fe1422a0/fbd2c/2.jpg 1180w,/blog/static/a263f5ca656629c28da5ce69fe1422a0/644c5/2.jpg 1440w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;서울숲과 남산이 보였던, 모두가 탐내던 내 자리&lt;/em&gt;&lt;/p&gt;&lt;h3 id=&quot;같이-개선해나가고자-하는-동료들과-팀-문화&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EA%B0%99%EC%9D%B4-%EA%B0%9C%EC%84%A0%ED%95%B4%EB%82%98%EA%B0%80%EA%B3%A0%EC%9E%90-%ED%95%98%EB%8A%94-%EB%8F%99%EB%A3%8C%EB%93%A4%EA%B3%BC-%ED%8C%80-%EB%AC%B8%ED%99%94&quot; aria-label=&quot;같이 개선해나가고자 하는 동료들과 팀 문화 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;같이 개선해나가고자 하는 동료들과 팀 문화&lt;/h3&gt;&lt;p&gt;마지막으로 가장 좋았던 것은, 함께하는 동료들과 이 동료들과 함께 만들어나가는 팀 문화다.&lt;/p&gt;&lt;p&gt;내가 입사한지 1년 정도 뒤에, 험프리, 그랩, 디니가 팀에 합류했고, 몇 달 뒤 우리는 데이터 플랫폼팀이라는 이름으로 함께 일하게 되었다. 우리는 나이대도 비슷했고, 경력 연차도 비슷했다. 그리고 열정이나 팀에 기여하고자 하는 마음가짐도 비슷했다고 생각한다.&lt;/p&gt;&lt;p&gt;여하튼 우리 넷은 같이 일하며, 팀이 일하는 방식부터 다시 고민하기 시작했고, 어떻게 하면 더 효과적으로 일할 수 있을까를 목표하며 이런저런 시도를 많이 했다. 생각나는 걸 조금 적어보면, 오전 데일리 미팅 바로 직후에 코드나 문서 리뷰하는 시간을 30분 가지기라든가, 팀의 각종 컨벤션들은 GitHub Repo를 Source Of Truth 생각하고, 이 안에서 제안(PR) 하기 변경(Commit) 하기, 문서 템플릿 등은 어떻게 할지, 팀 Notion 문서는 어떤 식으로 활용할지 등등.. 사이클을 2주로 잡아 시도해 보고 회고하고, 또 개선해나가고의 반복이었다.&lt;/p&gt;&lt;p&gt;사실 이렇게 시도하고 회고하고 개선하는 식의 사이클은 많은 에너지와 리소스를 요구했다. 그래도 팀원 서로가 서로의 노력을 인지하고 있고, 우리 모두 같은 마음임을 알기 때문에 조금은 덜 지치지 않았나 싶다.&lt;/p&gt;&lt;p&gt;결과적으로, 우리는 Best Practice는 아니더라도 빠르게 우리가 느끼는 문제점들을 개선해나갈 수 있었고, 이런 개선 사이클은 우리 팀의 문화가 되었다. 마치 소프트웨어처럼, 상황에 따라 아주 유연하게 변화할 수 있는 우리 팀이 나는 가장 좋았다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:66.89189189189189%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEBf/EABUBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAFd2E+peTg//8QAGhABAQADAQEAAAAAAAAAAAAAAQIAAxESQf/aAAgBAQABBQKN8uTQ5rjp9e+ZVP/EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAEDAQE/AUn/xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAgEBPwEn/8QAGhABAAIDAQAAAAAAAAAAAAAAAQARECExcf/aAAgBAQAGPwJK8lqkvBudn//EABsQAQACAgMAAAAAAAAAAAAAAAEAESFhMUFR/9oACAEBAAE/IcojFL1gdF3Efhb3BobiwUWyxWJ//9oADAMBAAIAAwAAABDA7//EABYRAQEBAAAAAAAAAAAAAAAAAAEQIf/aAAgBAwEBPxAHWf/EABcRAQADAAAAAAAAAAAAAAAAAAEQETH/2gAIAQIBAT8QsYx//8QAHBABAQACAgMAAAAAAAAAAAAAAREAITFRgZGx/9oACAEBAAE/EKOYkDdl8YtIC6X5ii5KUVO8lC7Kl066yZJklp6xJyEhn//Z&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;3.jpeg&quot; title=&quot;3.jpeg&quot; src=&quot;/blog/static/2ad91abe2bc43a4828f281f42842591d/1c72d/3.jpg&quot; srcSet=&quot;/blog/static/2ad91abe2bc43a4828f281f42842591d/a80bd/3.jpg 148w,/blog/static/2ad91abe2bc43a4828f281f42842591d/1c91a/3.jpg 295w,/blog/static/2ad91abe2bc43a4828f281f42842591d/1c72d/3.jpg 590w,/blog/static/2ad91abe2bc43a4828f281f42842591d/a8a14/3.jpg 885w,/blog/static/2ad91abe2bc43a4828f281f42842591d/47311/3.jpg 1080w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;여름에는 동해에 가서 동료인 험프리와 그랩과 며칠간 여행하며 일하기도 했다.&lt;/em&gt;&lt;/p&gt;&lt;h2 id=&quot;배운-것들-learned&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%B0%B0%EC%9A%B4-%EA%B2%83%EB%93%A4-learned&quot; aria-label=&quot;배운 것들 learned permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;배운 것들 (Learned)&lt;/h2&gt;&lt;p&gt;다음으론 배운 것들이다. 크게 기술적인 것과 비기술적인 것들로 나눠볼 수 있을 거 같다. 각각 2개씩 생각나는 대로 적어본다.&lt;/p&gt;&lt;h3 id=&quot;파이썬-기반의-애플리케이션을-개발하는-일&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%ED%8C%8C%EC%9D%B4%EC%8D%AC-%EA%B8%B0%EB%B0%98%EC%9D%98-%EC%95%A0%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98%EC%9D%84-%EA%B0%9C%EB%B0%9C%ED%95%98%EB%8A%94-%EC%9D%BC&quot; aria-label=&quot;파이썬 기반의 애플리케이션을 개발하는 일 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;파이썬 기반의 애플리케이션을 개발하는 일&lt;/h3&gt;&lt;p&gt;2년간 가장 많이 사용한 프로그래밍 언어는 파이썬이다. 웹 페이지 만들 때 자바스크립트를 본 것 빼고는 사실상 거의 파이썬만 쓴 거 같다.&lt;/p&gt;&lt;p&gt;나는 작은 애플리케이션을 하나 만들어도 잘 만들고 싶었다. 흔히 말하는 &amp;quot;우아한&amp;quot; 코드와 아키텍처를 다뤄보고 싶었다. 지금 생각해 보면 어쩌면 시간이 남아돌아서 이랬을 수도 있겠단 생각이 들기도 하지만.. 뭔가 자꾸 정답을 찾고자 하는 내 성향 때문인 거 같기도 하다.&lt;/p&gt;&lt;p&gt;여하튼 이 때문에 클린 코드나 파이썬 관련 서적을 몇 번 읽어보기도 했으며, 다른 언어로 쓰인 아키텍처 책이나, 객체지향같이 설계의 기본이 되는 서적도 읽어보았다. &amp;quot;우아한 파이썬&amp;quot; 코드에 대해 논의해 보기 위해 카카오톡 오픈 채팅방도 만들기도 했고, 특정 라이브러리를 좀 더 공부해 보고 싶어 스터디도 진행해 보았다.&lt;/p&gt;&lt;p&gt;결과적으로 파이썬으로 무언가를 잘 만드는 것에 대해 많이 배웠다. FastAPI를 쓰느냐 Django를 쓰느냐 이런 것이 중요한 게 아니라, 남이 읽기에 충분히 가독성이 좋고 유연한 코드와 아키텍처일까? 지금 상황에서 이거는 오버 엔지니어링이 아닐까? 운영에 필요한 요소들이 잘 들어가 있는 걸까? 이런 것들에 대해서 팀원들과 주로 논의했고, 이제는 나름의 감이 생겼다고 생각한다.&lt;/p&gt;&lt;p&gt;2년 전, 그렇게 클린 코드와 아키텍처에 집착하던 내가, 이제는 집착하지 않게 되었다. 이것만으로도 많이 성장했다고 느낀다.&lt;/p&gt;&lt;h3 id=&quot;쿠버네티스-위에서-앱들을-배포하고-클러스터를-운영하는-일&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4-%EC%9C%84%EC%97%90%EC%84%9C-%EC%95%B1%EB%93%A4%EC%9D%84-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B3%A0-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A5%BC-%EC%9A%B4%EC%98%81%ED%95%98%EB%8A%94-%EC%9D%BC&quot; aria-label=&quot;쿠버네티스 위에서 앱들을 배포하고 클러스터를 운영하는 일 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;쿠버네티스 위에서 앱들을 배포하고 클러스터를 운영하는 일&lt;/h3&gt;&lt;p&gt;우리 팀은 쿠버네티스 클러스터(GKE)를 4개 가지고 있었다. 클러스터의 노드 구성은 어떻게 하면 좋을지, 또 운영을 위해 클러스터에 어떤 앱들이 필요한지 고민하고 운영해 볼 수 있었다.&lt;/p&gt;&lt;p&gt;좀 더 구체적으로 말하자면, 클러스터에 앱 배포를 Helm으로 하면 발생하는 문제점들을 절실히 느낄 수 있었고, Single Source of Truth가 얼마나 유용한지, 왜 GitOps와 ArgoCD가 트렌드를 이끌고 있는지 알 수 있었다. 또 실제로 운영해 보니, 이런저런 문제점들도 경험해 볼 수 있었고, 다른 대안은 또 없는지 종종 관심을 가질 수 있었다.&lt;/p&gt;&lt;p&gt;또한 클러스터 모니터링이 왜 중요한지, PLG 스택을 배포하고 운영하면서 왜 별로인지, 데이터독이 클러스터 운영에 리소스를 들이기 어려울 때 얼마나 편리한지도 알 수 있었다.&lt;/p&gt;&lt;p&gt;사실 우리 팀은 일반적인 운영 서비스를 위한 쿠버네티스 클러스터가 아니라, 데이터 조직을 위한 백오피스 서비스용 쿠버네티스 클러스터였기 때문에, 그렇게 다이나믹하거나 긴급한 경우가 있다거나 하지는 않았다. 또한 Managed 서비스를 사용했기 때문에 쿠버네티스 자체를 그렇게 깊게 이해하지 않고 사용하는 정도였다.&lt;/p&gt;&lt;p&gt;그럼에도, 약 1년 조금 넘게 쿠버네티스 관리자이자 이용자로써 쿠버네티스가 왜 좋은지, 클러스터에 어떤 것들이 왜 필요한지에 대해서 알 수 있었다.&lt;/p&gt;&lt;h3 id=&quot;데이터-팀의-구성과-역할-그리고-엔지니어링-팀의-책임&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%8C%80%EC%9D%98-%EA%B5%AC%EC%84%B1%EA%B3%BC-%EC%97%AD%ED%95%A0-%EA%B7%B8%EB%A6%AC%EA%B3%A0-%EC%97%94%EC%A7%80%EB%8B%88%EC%96%B4%EB%A7%81-%ED%8C%80%EC%9D%98-%EC%B1%85%EC%9E%84&quot; aria-label=&quot;데이터 팀의 구성과 역할 그리고 엔지니어링 팀의 책임 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;데이터 팀의 구성과 역할, 그리고 엔지니어링 팀의 책임&lt;/h3&gt;&lt;p&gt;쏘카 데이터 조직은 약 30명으로 이루어져 있다. 조직은 데이터 모델링 팀, 비즈니스 팀, 사이언스 팀, 엔지니어링 팀으로 다시 나뉜다. (물론 현재는 더 복잡하게 바뀌어 있지만, 큰 맥락은 비슷하다.)&lt;/p&gt;&lt;p&gt;약 2년 정도 일하며, 각 팀에서 어떤 일들을 하는지 지켜볼 수 있었다. 그리고 각 팀이 맡은 역할과 책임이 무엇인지도 자연스럽게 알 수 있었다.&lt;/p&gt;&lt;p&gt;30명이라는 적지 않은 숫자지만, 조직 차원에서 교류할 수 있는 기회가 많았고, 나 역시 엔지니어링 팀을 제외한 다른 팀원분들과 친하게 지낼 수 있었다. 가끔 밥이나 술 먹으며, 각 팀이 어떤 고충을 가지는지, 어떤 것들이 문제인지도 느껴볼 수 있었다.&lt;/p&gt;&lt;p&gt;또한 회사가 성장하거나 긴급함에 따라 데이터 조직 구성이 때로는 복잡하게, 때로는 단순하게 바뀌는 것도 볼 수 있었는데, 이걸 본 것 자체만으로도 데이터 조직은 어떻게 변화는 가에 대해서 많은 배움이 되었던 것 같다.&lt;/p&gt;&lt;p&gt;아직 다른 회사를 경험해 보진 않았지만, 그래도 쏘카의 데이터 조직은 꽤 잘 구성되어 있다고 생각한다. 물론, 다른 회사에서 일해보면 평가가 바뀔 수도 있겠지만, 그래도 이런 기준점을 만들어준 것만으로도 내게 의미가 있다.&lt;/p&gt;&lt;h3 id=&quot;팀이-더-나아지기-위한-이런저런-방법들&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%ED%8C%80%EC%9D%B4-%EB%8D%94-%EB%82%98%EC%95%84%EC%A7%80%EA%B8%B0-%EC%9C%84%ED%95%9C-%EC%9D%B4%EB%9F%B0%EC%A0%80%EB%9F%B0-%EB%B0%A9%EB%B2%95%EB%93%A4&quot; aria-label=&quot;팀이 더 나아지기 위한 이런저런 방법들 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;팀이 더 나아지기 위한 이런저런 방법들&lt;/h3&gt;&lt;p&gt;팀원들과 같이 팀이 일하는 방식을 비롯하여, 이런저런 팀 문화를 개선하는 시도를 하는 과정에서 여러 개선 방법에 대해 경험하고 각 장단점들을 직접적으로 배울 수 있었다.&lt;/p&gt;&lt;p&gt;예를 들면, Notion의 Linked Database를 이용하여 팀 내 문서를 한 군데로 중앙화하고, 태깅과 필터링을 통해 여러 페이지에서 이 문서들을 가져오는 방법. 그리고 이를 칸반 보드에 녹임으로써, 테스크 관리와 히스토리를 좀 더 효율적으로 관리하는 방법. 태스크나 회의 템플릿을 명확히 하여, 비대면 커뮤니케이션을 좀 더 극대화하는 방법. Slack에 #idea_pool 채널을 만들어, 수시로 떠오르는 개선 방향의 아이템을 팀 내 공유하고 컨센서스를 확보하는 방법 등이 있었다.&lt;/p&gt;&lt;p&gt;또한 좋은 사람들이 회사에 들어왔으면 하는 마음에 내가 직접 테크 블로그를 관리하기도 했었는데, 테크 블로그에 좋은 글이 올라가면, 실제로 이 글을 보고 좋은 분들이 많이 지원한다는 것을 느낄 수 있었다. 사실 나만 해도 다른 회사의 테크 블로그가 매력적이면 그 팀에 대해 굉장히 좋은 인상을 받았었는데, 이게 나만 그런 게 아니구나라는 걸 확신할 수 있었다.&lt;/p&gt;&lt;p&gt;이 밖에도, 데이터 조직에서 진행하는 해피아워, 어셈블, 그룹 스터디 등을 통해 팀이 더 나아지기 위한 여러 방법들을 지켜보고 경험해 볼 수 있었다. 내가 추후에 다른 조직에 가면 괜찮다고 생각하는 것 몇 개쯤은 제안해 봐도 좋지 않을까 싶다!&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:100%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAMCBP/EABYBAQEBAAAAAAAAAAAAAAAAAAMCBf/aAAwDAQACEAMQAAABzKsoCoqeuIDzC53/xAAdEAACAgEFAAAAAAAAAAAAAAABAgADMhAREiEx/9oACAEBAAEFArgeb+142Z9wMZsDHQDT/8QAGhEAAgIDAAAAAAAAAAAAAAAAAAECAxASE//aAAgBAwEBPwGdjTOpelrj/8QAGBEAAgMAAAAAAAAAAAAAAAAAAAIQERL/2gAIAQIBAT8Bs0LH/8QAGxAAAQQDAAAAAAAAAAAAAAAAIQABAhAiMYH/2gAIAQEABj8CL7WLBGM+J7N//8QAGxAAAgMAAwAAAAAAAAAAAAAAAAERITEQQWH/2gAIAQEAAT8hupAinMILQHU8KYJoeUWKnj//2gAMAwEAAgADAAAAEB/Igf/EABgRAQADAQAAAAAAAAAAAAAAAAEAEBEh/9oACAEDAQE/EEQBMzcc7X//xAAYEQEBAAMAAAAAAAAAAAAAAAABABARQf/aAAgBAgEBPxAaQjhJ3j//xAAdEAEAAwACAwEAAAAAAAAAAAABABEhQaExYXGR/9oACAEBAAE/EKcB0BgA4QPqMW2UNiy3YOmC3Sb5fCC1o/IHKI9irzzAu0wAJ//Z&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;4.jpg&quot; title=&quot;4.jpg&quot; src=&quot;/blog/static/39c9a07333c5689374d9e5a7ee3e0bdb/1c72d/4.jpg&quot; srcSet=&quot;/blog/static/39c9a07333c5689374d9e5a7ee3e0bdb/a80bd/4.jpg 148w,/blog/static/39c9a07333c5689374d9e5a7ee3e0bdb/1c91a/4.jpg 295w,/blog/static/39c9a07333c5689374d9e5a7ee3e0bdb/1c72d/4.jpg 590w,/blog/static/39c9a07333c5689374d9e5a7ee3e0bdb/a8a14/4.jpg 885w,/blog/static/39c9a07333c5689374d9e5a7ee3e0bdb/47311/4.jpg 1080w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;그랩이 입사 후 팀원 모두에게 선물했던 책, 함께 자라기.&lt;/em&gt;&lt;/p&gt;&lt;h2 id=&quot;아쉬웠던-것들-lacked&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%95%84%EC%89%AC%EC%9B%A0%EB%8D%98-%EA%B2%83%EB%93%A4-lacked&quot; aria-label=&quot;아쉬웠던 것들 lacked permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;아쉬웠던 것들 (Lacked)&lt;/h2&gt;&lt;p&gt;마지막으로 아쉬웠던 것들이다. 그래도 이제 퇴사했으니 비교적 가벼운 마음으로 솔직하게 적어본다.&lt;/p&gt;&lt;h3 id=&quot;넓은-rr과-내-역량의-부족&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EB%84%93%EC%9D%80-rr%EA%B3%BC-%EB%82%B4-%EC%97%AD%EB%9F%89%EC%9D%98-%EB%B6%80%EC%A1%B1&quot; aria-label=&quot;넓은 rr과 내 역량의 부족 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;넓은 R&amp;amp;R과 내 역량의 부족&lt;/h3&gt;&lt;p&gt;팀에서 다양하게 할 수 있는 일이 많다는 의미는 또 그만큼 다뤄야 할 스코프 역시 넓다는 걸 의미하기도 한다. 우리 팀은 인프라(비록 클라우드 기반이긴 하지만)부터 애플리케이션 레벨까지 모든 영역을 커버했다. 즉 팀의 Role &amp;amp; Responsibilty는 넓었고, 이 때문에 기술적인 것들을 역시 넓지만 얕게 알았다.&lt;/p&gt;&lt;p&gt;예를 들면, 쿠버네티스 클러스터를 구축했지만 추후 확장성을 고려하여 노드 풀을 설정하고, 라벨링을 잘 했는지는 모르겠다. 클러스터에 리소스 모니터링은 하고 있지만, 여전히 많은 부분이 리소스 최적화가 되어있지 않았다. 시크릿이나 로그 모니터링 툴은 PoC 레벨인 상태인 경우가 많았고, 다른 더 좋은 대안을 찾지 못하거나 찾을 시간이 부족한 경우도 많았다.&lt;/p&gt;&lt;p&gt;또한 이런저런 서비스에서의 운영 이슈와, 외부 팀으로부터 들어오는 애드 혹 요청, 갑자기 일어난 서비스 장애, 팀에 필요한 애플리케이션 개발 등 다양한 일들을 동시에 진행했는데, 컨텍스트 스위치가 쉽지 않았다. 우리 팀은 별도의 PM이 없었고, 개발자 스스로 생각해서 일을 시작하고 끝내야 했다. 이러다 보니, 스프린트에 올렸던 일들이 미처 못 끝내기도 하며, 가끔은 언제 끝날지 모르는 일이 몇 차례의 스프린트에 늘어져 있는 경우도 종종 있었다. 내가 기술적으로나, 일적으로나 너무 얕게 알아서, 쉽게 끝날 수 있는 일을 쉽게 못 끝내는 건가 싶은 생각이 종종 들었다.&lt;/p&gt;&lt;p&gt;물론 기본적으로 내 역량이 많이 부족했다 생각한다. 내가 좀 더 찾아보고, 좀 더 공을 들이는 노력을 했다면 분명 더 나아졌을 거라 생각한다.&lt;/p&gt;&lt;h3 id=&quot;통합적-아키텍처-파악의-어려움&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%ED%86%B5%ED%95%A9%EC%A0%81-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98-%ED%8C%8C%EC%95%85%EC%9D%98-%EC%96%B4%EB%A0%A4%EC%9B%80&quot; aria-label=&quot;통합적 아키텍처 파악의 어려움 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;통합적 아키텍처 파악의 어려움&lt;/h3&gt;&lt;p&gt;내가 배포한 운영 서비스에 누가 언제 어떻게 요청하는지 잘 모를 때가 많았다. MSA 특성상 여러 서비스 간 통신하게 되고, 서비스가 잘게 나누어질수록 전체적인 복잡도는 더 커지게 된다. 이때 일종의 컨텍스트 맵이나, 서비스 매시 같은 게 있어서 가시적으로 서비스 간 연관관계를 볼 수 있는 게 있으면 참 좋았을 텐데, 이런 게 별도로 존재하지는 않았다. 따라서 내가 무언가 외부에 영향을 줄만한 수정을 하게 되면, 관련 담당자가 누군지 슬랙 채널을 통해 찾아 DM을 통해 소통해야 했다.&lt;/p&gt;&lt;p&gt;사실 데이터 조직은 개발 조직과 별도로 존재했으므로, 무언가를 같이 진행한다거나 공유하는 소통이 적었다고 생각한다. 이런 상황에서 MSA 형태로 개발을 하니, 데이터를 통합적으로 봐야 하는 DBA나 BI 관련 일을 하시는 데이터 엔지니어들이 매우 힘들었을 것이다.&lt;/p&gt;&lt;p&gt;데이터 엔지니어링과 개발을 하는 조직이 별도로 존재하는 게 맞는가 싶기도 하고, 뭔가 더 통합적으로 바라보며 깔끔하게 전체적인 아키텍처를 그려나가며 일할 수 있는 방법이 있는지는 여전히 궁금하다.&lt;/p&gt;&lt;h3 id=&quot;재택으로-인해-점점-줄어드는-초기의-조직-소통-문화&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%9E%AC%ED%83%9D%EC%9C%BC%EB%A1%9C-%EC%9D%B8%ED%95%B4-%EC%A0%90%EC%A0%90-%EC%A4%84%EC%96%B4%EB%93%9C%EB%8A%94-%EC%B4%88%EA%B8%B0%EC%9D%98-%EC%A1%B0%EC%A7%81-%EC%86%8C%ED%86%B5-%EB%AC%B8%ED%99%94&quot; aria-label=&quot;재택으로 인해 점점 줄어드는 초기의 조직 소통 문화 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;재택으로 인해 점점 줄어드는 초기의 조직 소통 문화&lt;/h3&gt;&lt;p&gt;코로나 때문에 작년부터 일 년 넘게 재택근무를 진행했던 거 같다. 재택근무도 물론 편하고 좋기는 하지만, 이 때문에 이전만큼 조직의 소통이 줄어든 거 같아 아쉽다. 재택근무 이전의 회사 생활을 떠올려보면, 다 같이 점심에 뭐 먹을지 고민하기도 하고, 커피 들고 서울숲 산책하는 게 일상다반사였다. 또 오후 다섯시쯤 되면 일이 잘 안돼서 다른 동료들 자리 어슬렁어슬렁 거리다가 이야기하며 깔깔거리는 게 회사 생활의 힐링 포인트였다. 퇴근 이후 동료들과 술도 종종 먹었었는데, 이 때문에 엔지니어링 팀 말고 데이터 조직 내 다른 팀원들과 쉽게 친해질 수 있었다.&lt;/p&gt;&lt;p&gt;여하튼 그때 생각하면, 참 재밌었는데... 재택근무가 1년 넘게 기본이 되어 버리니, 이런 즐거움도 많이 줄었다고 느낀다. 어쩌겠는가, 코로나가 우리를 그렇게 만들어 버린걸... 그래도 나는 재택 이전의 재미있는 회사 생활을 경험해 볼 수 있어서 다행이라 생각한다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:100%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGQABAAIDAAAAAAAAAAAAAAAAAAMFAQIE/8QAFgEBAQEAAAAAAAAAAAAAAAAAAQIA/9oADAMBAAIQAxAAAAFjlm0kSLtKcXQJ/8QAGxABAQEAAgMAAAAAAAAAAAAAAgEAAyEREiL/2gAIAQEAAQUCforTuXpgKOzxl9Z8lMfbKs3/xAAVEQEBAAAAAAAAAAAAAAAAAAARIP/aAAgBAwEBPwEj/8QAFxEAAwEAAAAAAAAAAAAAAAAAABARcf/aAAgBAgEBPwHCP//EABwQAAICAgMAAAAAAAAAAAAAAAABESEQEiIxgf/aAAgBAQAGPwI4x4XKJ0bL7LYoG8f/xAAcEAEAAwEAAwEAAAAAAAAAAAABABEhMUFRcYH/2gAIAQEAAT8hpXbO7GayznT+xKFn1BR+bSUHjy9zQbcqF1S41hbglZ3yT//aAAwDAQACAAMAAAAQ7Af+/8QAGREAAQUAAAAAAAAAAAAAAAAAAAEQESFB/9oACAEDAQE/ENyWI3//xAAYEQEAAwEAAAAAAAAAAAAAAAABABBBEf/aAAgBAgEBPxATUV2bX//EAB0QAQADAAIDAQAAAAAAAAAAAAEAESExQVFhccH/2gAIAQEAAT8Qx57IA/H1HbSBeoX5PMrJhVWq66yUK1xwH7BKW7C0PUVSIot0LZ5tC1pscUba3zHouHRWf//Z&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;5.jpg&quot; title=&quot;5.jpg&quot; src=&quot;/blog/static/e65ed082c1588c27fe8a7fe47e3130b2/1c72d/5.jpg&quot; srcSet=&quot;/blog/static/e65ed082c1588c27fe8a7fe47e3130b2/a80bd/5.jpg 148w,/blog/static/e65ed082c1588c27fe8a7fe47e3130b2/1c91a/5.jpg 295w,/blog/static/e65ed082c1588c27fe8a7fe47e3130b2/1c72d/5.jpg 590w,/blog/static/e65ed082c1588c27fe8a7fe47e3130b2/a8a14/5.jpg 885w,/blog/static/e65ed082c1588c27fe8a7fe47e3130b2/47311/5.jpg 1080w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;출근하면 회사 앞 카페에서 티타임도 종종 했었다.&lt;/em&gt;&lt;/p&gt;&lt;h2 id=&quot;안녕-나의-첫-회사-쏘카&quot; style=&quot;position:relative&quot;&gt;&lt;a href=&quot;#%EC%95%88%EB%85%95-%EB%82%98%EC%9D%98-%EC%B2%AB-%ED%9A%8C%EC%82%AC-%EC%8F%98%EC%B9%B4&quot; aria-label=&quot;안녕 나의 첫 회사 쏘카 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;안녕, 나의 첫 회사, 쏘카&lt;/h2&gt;&lt;p&gt;쏘카는 내가 정규직으로 일한 첫 회사다. 그래서 그런지 뭔가 아련한 느낌이 있다. 모든 게 처음이었으니깐.&lt;/p&gt;&lt;p&gt;되돌아보면... 참 재밌었다. 일을 처음 배운 것도. 재미있고 잘 맞는 동료들 만난 것도. 요즘 핫한 서울 숲 옆에 있는 회사에 출퇴근한 것도. 모든 게 다 감사하다. 난 정말 복받은 거 같다.&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:100%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAIDBAX/xAAWAQEBAQAAAAAAAAAAAAAAAAACAQP/2gAMAwEAAhADEAAAAYW52g3ueslUZvKEf//EABoQAAIDAQEAAAAAAAAAAAAAAAACAQMyE0P/2gAIAQEAAQUCZ4ZvOvLGV7zA5fo//8QAFhEBAQEAAAAAAAAAAAAAAAAAEAIR/9oACAEDAQE/AcKP/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAEREP/aAAgBAgEBPwGlFn//xAAZEAACAwEAAAAAAAAAAAAAAAABEAAhgWH/2gAIAQEABj8Cmu8lBAcX/8QAHBABAAMAAgMAAAAAAAAAAAAAAQARITFxQVFh/9oACAEBAAE/IUO14BhnaBfWUMSWjsHRDGVfZwmfSi5//9oADAMBAAIAAwAAABCwD0D/xAAYEQACAwAAAAAAAAAAAAAAAAAAARARMf/aAAgBAwEBPxC2sal//8QAFxEBAAMAAAAAAAAAAAAAAAAAAQAQQf/aAAgBAgEBPxBGQt//xAAcEAEAAwEBAAMAAAAAAAAAAAABABEhMUFRYZH/2gAIAQEAAT8QV8R4mRelXP4BDO/STmypezYBbHx9Sx0d9XAbq2uxoyoQXFXP/9k=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;6.jpg&quot; title=&quot;6.jpg&quot; src=&quot;/blog/static/c2170998138b27dbd66e5b8116026685/1c72d/6.jpg&quot; srcSet=&quot;/blog/static/c2170998138b27dbd66e5b8116026685/a80bd/6.jpg 148w,/blog/static/c2170998138b27dbd66e5b8116026685/1c91a/6.jpg 295w,/blog/static/c2170998138b27dbd66e5b8116026685/1c72d/6.jpg 590w,/blog/static/c2170998138b27dbd66e5b8116026685/a8a14/6.jpg 885w,/blog/static/c2170998138b27dbd66e5b8116026685/47311/6.jpg 1080w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;em&gt;안녕, 나의 첫 회사, 쏘카&lt;/em&gt;&lt;/p&gt;&lt;p&gt;나는 이제 쏘카를 졸업하고, 또 다른 여정을 향해 나아간다. 누군가가 남는 건 사람이라 했던가. 같이 일해왔던 많은 동료들 얼굴이 떠오른다. 우리, 언젠간 또 볼 거라 생각한다. 그분들께 감사의 인사를 올리며 글을 마무리해 본다.&lt;/p&gt;&lt;p&gt;Thanks to 토마스, 카일, 디케이, 녹스, 플래시, 제프, 바트, 키노, 샘, 알렉스, 도달, 폴제이, 윤, 야마니, 세레나, 캐롯, KP, 햇님, 우민, 정, 레니, 햄니, 샨짜이, 프로토, 셀라, 클로버, 치즈, 에스더, 브루노, 위니, 루치, 파스모, 가비, 에코, 제이든, 알티.&lt;/p&gt;&lt;p&gt;Specially Thanks to 험프리, 그랩, 디니.&lt;/p&gt;</content:encoded></item></channel></rss>