<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta data-rh="true" property="keywords" content="Commitizen,Git"/><meta data-rh="true" property="og:image" content="/blog/static/017e4d5fca48a91de442b5cdeaf0f383/d6138/thumbnail.png"/><meta data-rh="true" property="og:description" content="하나씩 작성하며 알아보는 Commitizen의 설정 값들"/><meta data-rh="true" property="og:title" content="Commitizen 설정 커스터마이징하기"/><meta data-rh="true" property="og:url" content="https://heumsi.github.io/blog/posts/commitizen-customization/"/><meta data-rh="true" name="description" content="하나씩 작성하며 알아보는 Commitizen의 설정 값들"/><meta data-rh="true" name="googlebot" content="index,follow"/><meta data-rh="true" name="robots" content="index,follow"/><meta data-rh="true" property="og:site_name" content="하나씩. 점을. 찍어나가며."/><meta data-rh="true" property="og:type" content="website"/><meta data-rh="true" name="twitter:creator" content="@handle"/><meta data-rh="true" name="twitter:site" content="@site"/><meta data-rh="true" name="twitter:card" content="summary_large_image"/><meta name="generator" content="Gatsby 4.17.2"/><style data-href="/blog/styles.202b843a3255cda52de9.css" data-identity="gatsby-global-css">/*! minireset.css v0.0.7 | MIT License | github.com/jgthms/minireset.css */blockquote,body,dd,dl,dt,fieldset,figure,h1,h2,h3,h4,h5,h6,hr,html,iframe,legend,li,ol,p,pre,textarea,ul{margin:0;padding:0}h1,h2,h3,h4,h5,h6{font-size:100%;font-weight:400}ul{list-style:none}button,input,select{margin:0}html{box-sizing:border-box}*,:after,:before{box-sizing:inherit}img,video{height:auto;max-width:100%}iframe{border:0}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}code[class*=language-],pre[class*=language-]{background:#fafafa;color:#383a42;direction:ltr;font-family:Fira Code,Fira Mono,Menlo,Consolas,DejaVu Sans Mono,monospace;font-size:.95em;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{background:#e5e5e6;color:inherit}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection{background:#e5e5e6;color:inherit}pre[class*=language-]{border-radius:.3em;margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.2em .3em;white-space:normal}.token.cdata,.token.comment,.token.prolog{color:#a0a1a7}.token.doctype,.token.entity,.token.punctuation{color:#383a42}.token.atrule,.token.attr-name,.token.boolean,.token.class-name,.token.constant,.token.number{color:#b76b01}.token.keyword{color:#a626a4}.token.deleted,.token.important,.token.property,.token.symbol,.token.tag{color:#e45649}.token.attr-value,.token.attr-value>.token.punctuation,.token.builtin,.token.char,.token.inserted,.token.regex,.token.selector,.token.string{color:#50a14f}.token.function,.token.operator,.token.variable{color:#4078f2}.token.url{color:#0184bc}.token.attr-value>.token.punctuation.attr-equals,.token.special-attr>.token.attr-value>.token.value.css{color:#383a42}.language-css .token.selector{color:#e45649}.language-css .token.property{color:#383a42}.language-css .token.function,.language-css .token.url>.token.function{color:#0184bc}.language-css .token.url>.token.string.url{color:#50a14f}.language-css .token.atrule .token.rule,.language-css .token.important,.language-javascript .token.operator{color:#a626a4}.language-javascript .token.template-string>.token.interpolation>.token.interpolation-punctuation.punctuation{color:#ca1243}.language-json .token.operator{color:#383a42}.language-json .token.null.keyword{color:#b76b01}.language-markdown .token.url,.language-markdown .token.url-reference.url>.token.string,.language-markdown .token.url>.token.operator{color:#383a42}.language-markdown .token.url>.token.content{color:#4078f2}.language-markdown .token.url-reference.url,.language-markdown .token.url>.token.url{color:#0184bc}.language-markdown .token.blockquote.punctuation,.language-markdown .token.hr.punctuation{color:#a0a1a7;font-style:italic}.language-markdown .token.code-snippet{color:#50a14f}.language-markdown .token.bold .token.content{color:#b76b01}.language-markdown .token.italic .token.content{color:#a626a4}.language-markdown .token.list.punctuation,.language-markdown .token.strike .token.content,.language-markdown .token.strike .token.punctuation,.language-markdown .token.title.important>.token.punctuation{color:#e45649}.token.bold{font-weight:700}.token.comment,.token.italic{font-style:italic}.token.entity{cursor:help}.token.namespace{opacity:.8}.token.token.cr:before,.token.token.lf:before,.token.token.space:before,.token.token.tab:not(:empty):before{color:rgba(56,58,66,.2)}div.code-toolbar>.toolbar.toolbar>.toolbar-item{margin-right:.4em}div.code-toolbar>.toolbar.toolbar>.toolbar-item>a,div.code-toolbar>.toolbar.toolbar>.toolbar-item>button,div.code-toolbar>.toolbar.toolbar>.toolbar-item>span{background:#e5e5e6;border-radius:.3em;color:#696c77;padding:.1em .4em}div.code-toolbar>.toolbar.toolbar>.toolbar-item>a:focus,div.code-toolbar>.toolbar.toolbar>.toolbar-item>a:hover,div.code-toolbar>.toolbar.toolbar>.toolbar-item>button:focus,div.code-toolbar>.toolbar.toolbar>.toolbar-item>button:hover,div.code-toolbar>.toolbar.toolbar>.toolbar-item>span:focus,div.code-toolbar>.toolbar.toolbar>.toolbar-item>span:hover{background:#c6c7c7;color:#383a42}.line-highlight.line-highlight{background:rgba(56,58,66,.05)}.line-highlight.line-highlight:before,.line-highlight.line-highlight[data-end]:after{background:#e5e5e6;border-radius:.3em;box-shadow:0 2px 0 0 rgba(0,0,0,.2);color:#383a42;padding:.1em .6em}pre[id].linkable-line-numbers.linkable-line-numbers span.line-numbers-rows>span:hover:before{background-color:rgba(56,58,66,.05)}.command-line .command-line-prompt,.line-numbers.line-numbers .line-numbers-rows{border-right-color:rgba(56,58,66,.2)}.command-line .command-line-prompt>span:before,.line-numbers .line-numbers-rows>span:before{color:#9d9d9f}.rainbow-braces .token.token.punctuation.brace-level-1,.rainbow-braces .token.token.punctuation.brace-level-5,.rainbow-braces .token.token.punctuation.brace-level-9{color:#e45649}.rainbow-braces .token.token.punctuation.brace-level-10,.rainbow-braces .token.token.punctuation.brace-level-2,.rainbow-braces .token.token.punctuation.brace-level-6{color:#50a14f}.rainbow-braces .token.token.punctuation.brace-level-11,.rainbow-braces .token.token.punctuation.brace-level-3,.rainbow-braces .token.token.punctuation.brace-level-7{color:#4078f2}.rainbow-braces .token.token.punctuation.brace-level-12,.rainbow-braces .token.token.punctuation.brace-level-4,.rainbow-braces .token.token.punctuation.brace-level-8{color:#a626a4}pre.diff-highlight>code .token.token.deleted:not(.prefix),pre>code.diff-highlight .token.token.deleted:not(.prefix){background-color:rgba(255,82,102,.15)}pre.diff-highlight>code .token.token.deleted:not(.prefix) ::-moz-selection,pre.diff-highlight>code .token.token.deleted:not(.prefix)::-moz-selection,pre>code.diff-highlight .token.token.deleted:not(.prefix) ::-moz-selection,pre>code.diff-highlight .token.token.deleted:not(.prefix)::-moz-selection{background-color:rgba(251,86,105,.25)}pre.diff-highlight>code .token.token.deleted:not(.prefix) ::selection,pre.diff-highlight>code .token.token.deleted:not(.prefix)::selection,pre>code.diff-highlight .token.token.deleted:not(.prefix) ::selection,pre>code.diff-highlight .token.token.deleted:not(.prefix)::selection{background-color:rgba(251,86,105,.25)}pre.diff-highlight>code .token.token.inserted:not(.prefix),pre>code.diff-highlight .token.token.inserted:not(.prefix){background-color:rgba(25,255,91,.15)}pre.diff-highlight>code .token.token.inserted:not(.prefix) ::-moz-selection,pre.diff-highlight>code .token.token.inserted:not(.prefix)::-moz-selection,pre>code.diff-highlight .token.token.inserted:not(.prefix) ::-moz-selection,pre>code.diff-highlight .token.token.inserted:not(.prefix)::-moz-selection{background-color:rgba(56,224,98,.25)}pre.diff-highlight>code .token.token.inserted:not(.prefix) ::selection,pre.diff-highlight>code .token.token.inserted:not(.prefix)::selection,pre>code.diff-highlight .token.token.inserted:not(.prefix) ::selection,pre>code.diff-highlight .token.token.inserted:not(.prefix)::selection{background-color:rgba(56,224,98,.25)}.prism-previewer-gradient.prism-previewer-gradient div,.prism-previewer.prism-previewer:before{border-color:hsl(0,0,95%)}.prism-previewer-color.prism-previewer-color:before,.prism-previewer-easing.prism-previewer-easing:before,.prism-previewer-gradient.prism-previewer-gradient div{border-radius:.3em}.prism-previewer.prism-previewer:after{border-top-color:hsl(0,0,95%)}.prism-previewer-flipped.prism-previewer-flipped.after{border-bottom-color:hsl(0,0,95%)}.prism-previewer-angle.prism-previewer-angle:before,.prism-previewer-easing.prism-previewer-easing,.prism-previewer-time.prism-previewer-time:before{background:#fff}.prism-previewer-angle.prism-previewer-angle circle,.prism-previewer-time.prism-previewer-time circle{stroke:#383a42;stroke-opacity:1}.prism-previewer-easing.prism-previewer-easing circle,.prism-previewer-easing.prism-previewer-easing line,.prism-previewer-easing.prism-previewer-easing path{stroke:#383a42}.prism-previewer-easing.prism-previewer-easing circle{fill:transparent}.gatsby-highlight-code-line{background-color:#eee;display:block;margin-left:-1em;margin-right:-1em;padding-left:1em;padding-right:1em}.gatsby-highlight{background:#fafafa;margin:0 0 1em;overflow:auto;padding:1em}.gatsby-highlight pre[class*=language-]{background-color:transparent;float:left;margin:0;min-width:100%;overflow:initial;padding:0}.toc{overflow-y:auto}.toc>.toc-list{overflow:hidden;position:relative}.toc>.toc-list li{list-style:none}.toc-list{margin:0;padding-left:10px}a.toc-link{color:currentColor;height:100%}.is-collapsible{max-height:1000px;overflow:hidden;transition:all .3s ease-in-out}.is-collapsed{max-height:0}.is-position-fixed{position:fixed!important;top:0}.is-active-link{font-weight:700}.toc-link:before{background-color:#eee;content:" ";display:inline-block;height:inherit;left:0;margin-top:-1px;position:absolute;width:2px}.is-active-link:before{background-color:#54bc4b}.toc{color:#333;font-size:.8em;left:0;line-height:1.8em;max-width:20rem;padding-left:1rem;position:fixed;top:50vh;transform:translateY(-50%);transition:all .4s cubic-bezier(.25,.8,.4,.95);visibility:visible;width:100%}.toc-list-item{font-weight:300}.is-active-link{font-weight:400}.toc-hidden{transform:translate(-100%,-50%);visibility:hidden}.toc-link:before{background-color:inherit}@media only screen and (max-width:85rem){.toc{visibility:hidden}}*{color:inherit;text-decoration:none}body{-ms-text-size-adjust:100%;-moz-text-size-adjust:100%;-webkit-text-size-adjust:100%;color:#333;font-size:1rem;word-break:break-all}h1{font-size:2.441em}h1,h2{font-weight:700}h2{font-size:1.953em}h3{font-size:1.563em}h3,h4{font-weight:700}h4{font-size:1.25em}li,p{font-size:1em;font-weight:400;line-height:1.8em}a{cursor:pointer}.container{font-family:sans-serif;margin:auto;max-width:45rem;width:100%}header{align-items:center;display:flex;justify-content:space-between;margin:1.5rem 0 1rem}header .site-title{font-weight:700;margin:0;transition:.33s}header .site-title:hover{color:#344cb7}header nav{display:flex;font-weight:400}header nav .nav-item a{padding-right:1.5rem;transition:.33s}header nav .nav-item a:hover{color:#344cb7}header nav .nav-item a:last-child{padding-right:0}.content .page-title{font-weight:500}.content .post-item{align-items:center;list-style:none;margin:2rem 0;transition:.33s}.content .post-item:hover{color:#344cb7}.content .post-item a{text-decoration:none}.content .post-item article{display:flex}.content .post-item-thumbnail{height:7rem;width:7rem}.content .post-item-desc{display:flex;flex-direction:column;height:7rem;margin-left:1.5rem}.content .post-item-title{font-weight:400;margin-top:0}.content .post-item-sub-title{line-height:1.4em;margin-top:.5rem}.content .post-item-meta{color:#666;font-size:.9em;line-height:1em;margin:auto 0 0}.content .post-cover-image{height:400px;left:50%;margin-bottom:2rem;margin-left:-50vw;margin-right:-50vw;max-width:100vw;position:relative;right:50%;width:100vw}.content .post-sub-title{color:#666;font-weight:400;margin-top:1rem}.content .post-meta{color:#666;display:block;margin-top:.5rem}.content .post-content{margin:3rem 0 5rem}.content .log-content{margin-top:1rem}.content .post-content h2,h3,h4{margin-top:2em}.content .post-content p{margin:1em 0}.content .post-content hr{background-color:#eee;border:0;height:1px;margin:2em}.content .post-content table{overflow-x:auto;width:100%}.content .post-content table th{background-color:#fafafa}.content .post-content table th,td{border:1px solid #ccc;padding:.5em}.content .log-content a,.content .post-content a{text-decoration:underline}.content .post-content>ul{margin:1em 0}.content .log-content ul li,.content .post-content ul li{list-style:outside;margin-left:1em}.content .log-content ul li p,.content .post-content ul li p{margin:0}.content .log-content ol li,.content .post-content ol li{margin-left:1em}.content .post-content .gatsby-resp-image-wrapper{margin:2em 0}.content .log-content .gatsby-resp-image-wrapper{margin:1em 0;margin-left:0!important;margin-right:0!important;max-width:100%!important}.content .log-content .gatsby-resp-image-wrapper+em,.content .post-content .gatsby-resp-image-wrapper+em{color:#999;display:block;font-size:.9em;font-style:normal;line-height:1.5em;margin:-1.5em auto 2em;max-width:90%;text-align:center}.content .log-content blockquote,.content .post-content blockquote{background:#f6f6f6;border-left:4px solid #e6e6e6;color:#666;margin:1rem 0;padding:1rem}.content .log-content blockquote code,.content .post-content blockquote code{color:#666}.content .log-content blockquote ol,.content .log-content blockquote p,.content .log-content blockquote ul,.content .post-content blockquote ol,.content .post-content blockquote p,.content .post-content blockquote ul{margin:1em 0}.content .log-content blockquote p:first-child,.content .log-content blockquote p:last-child,.content .post-content blockquote p:first-child,.content .post-content blockquote p:last-child{margin:0}.content .post-content .mermaid{margin:0 auto;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.content .log-item{line-height:1.8em;margin:2rem 0}.content .log-title span{cursor:pointer;font-size:.6em;margin-left:.6em;opacity:.6;transition:.33s}.content .log-title span:hover{opacity:1}.content .log-content a{text-decoration:underline}.content .log-datetime{color:#666;font-size:.9em}footer{align-items:center;color:#666;display:flex;justify-content:space-between;margin:3rem 0}footer .external-links li{display:inline-block;margin:0 .5rem;transition:.33s}footer .external-links li:hover{color:#344cb7}footer .copy-right{font-size:.9rem;text-align:right}@media screen and (max-width:800px){html{font-size:1rem}h1{font-size:1.749em}h1,h2{font-weight:700}h2{font-size:1.521em}h3{font-size:1.322em}h3,h4{font-weight:700}h4{font-size:1.15em}.container{padding:0 1rem}header .site-title{font-size:1rem}header nav .nav-item a{padding-right:1rem}.content .post-list .post-item{border-bottom:1px solid #ccc;margin:0 -1rem;padding:1rem}.content .post-list .post-item:last-child{border-bottom:none}.content .post-list .post-item a{text-decoration:none}.content .post-cover-image{margin-bottom:1.5rem}.content .page-title{font-size:1rem}.content .post-item-title{font-size:1.2rem}.content .post-item-thumbnail{display:none!important}.content .post-item-desc{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;margin-left:0}.content .post-item-meta{line-height:1.4em}footer{margin:1rem 0}}</style><link rel="preconnect" href="https://plausible.io"/><script async="" defer="" data-domain="heumsi.github.io/blog" src="https://plausible.io/js/plausible.js"></script><script>
          window.plausible = window.plausible || function() { (window.plausible.q = window.plausible.q || []).push(arguments) };
          
          </script><title data-rh="true">Commitizen 설정 커스터마이징하기</title><link data-rh="true" rel="canonical" href="https://heumsi.github.io/blog/posts/commitizen-customization/"/><script data-rh="true" defer="" src="https://cloud.umami.is/script.js" data-website-id="c247e343-b8cb-4751-8e13-8e8557a94875"></script><link rel="sitemap" type="application/xml" href="/blog/sitemap/sitemap-index.xml"/><link rel="alternate" type="application/rss+xml" title="하나씩 점을 찍어나가며 - Heumsi의 블로그 RSS" href="/blog/rss.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-ZRH97WV1XY"></script><script>
    window.GATSBY_GTAG_PLUGIN_GA_TRACKING_ID = (
      'G-ZRH97WV1XY'
    );
    window.GATSBY_GTAG_PLUGIN_ANONYMIZE = false;

    var options = {
      send_page_view: false
    };
    if (false) {
      options.anonymize_ip = true;
    }

    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    window.gtag = gtag;
    gtag('js', new Date());
    gtag('config', 'G-ZRH97WV1XY', options);
  </script><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="container"><header><h3 class="site-title"><a href="/blog/">하나씩. 점을. 찍어나가며.</a></h3><nav><ul><li class="nav-item"><a class="nav-link-text" href="/blog/posts">글</a><a class="nav-link-text" href="/blog/logs">로그</a></li></ul></nav></header><main class="content"><section class="post-cover-image gbi--464559647-aLicwbEkapVVNhPNcSPFrX" style="background-position:center;background-repeat:no-repeat;background-size:cover;position:relative"><style>
          .post-cover-image.gbi--464559647-aLicwbEkapVVNhPNcSPFrX:before,
          .post-cover-image.gbi--464559647-aLicwbEkapVVNhPNcSPFrX:after {
            content: '';
            display: block;
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            
            transition: opacity 0.5s ease 250ms;
            background-position: center;
background-repeat: no-repeat;
background-size: cover;

          }
          .post-cover-image.gbi--464559647-aLicwbEkapVVNhPNcSPFrX:before {
            z-index: -100;
            
            
            opacity: 1; 
          }
          .post-cover-image.gbi--464559647-aLicwbEkapVVNhPNcSPFrX:after {
            z-index: -101;
            
            
            
          }
        </style><noscript><style>
    .post-cover-image.gbi--464559647-aLicwbEkapVVNhPNcSPFrX:before {
      opacity: 1;
      background-image: url('/blog/static/017e4d5fca48a91de442b5cdeaf0f383/d6138/thumbnail.png');
    }</style></noscript></section><h1 class="post-title">Commitizen 설정 커스터마이징하기</h1><h3 class="post-sub-title">하나씩 작성하며 알아보는 Commitizen의 설정 값들</h3><p class="post-meta"><span>2022년 6월 26일</span> — <span>Commitizen<!-- -->, <!-- -->Git</span></p><div class="toc toc-hidden"></div><div class="post-content"><h2 id="들어가며" style="position:relative"><a href="#%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0" aria-label="들어가며 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>들어가며</h2><p><a href="https://commitizen-tools.github.io/commitizen/">Commitizen</a>은 git commit 관리 및 프로젝트 versioning 자동화에 매우 유용한 도구다.
이전에 <a href="https://dailyheumsi.tistory.com/266">&quot;Commitizen으로 커밋, 버전 관리하기&quot;</a> 글을 통해 Commitizen이 무엇이고 어떻게 쓰는지를
소개했었다. 저 글을 쓴 이후에도 나는 쭈욱 잘 쓰고있다.</p><p>그렇게 쭈욱 쓰다보니 경우에 따라서 Commitizen을 커스터마이징하여 쓰고 싶을 때도 종종 있었는데, 커스터마이징하는 정확한 방법을 잘 몰라서 공식 문서 읽는 것을 미뤄만 뒀다.
그러다 이번 기회에 공식 문서를 정독하며 커스터마이징하는 방법을 살펴보았다.</p><p>이 글에서는 Commitizen 설정을 차근차근 커스터마이징해나가는 과정에 대해 소개해보려한다.
Commitizen을 커스터마이징해서 쓰고 싶은 분들에게 이 글이 도움이 되면 좋겠다.</p><blockquote><p>Commitizen을 처음 접하는 분들에겐 이 내용이 어려울 수 있다.
만약 Commitizen에 대해 먼저 알고싶다면 이전에 작성한 글인 <a href="https://dailyheumsi.tistory.com/266">&quot;Commitizen으로 커밋, 버전 관리하기&quot;</a>을 먼저 읽어보기를 권장한다.</p></blockquote><h2 id="설정-파일-생성하기" style="position:relative"><a href="#%EC%84%A4%EC%A0%95-%ED%8C%8C%EC%9D%BC-%EC%83%9D%EC%84%B1%ED%95%98%EA%B8%B0" aria-label="설정 파일 생성하기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>설정 파일 생성하기</h2><p>Commitizen 설정 값은 다음 중 하나의 파일에 작성한 뒤, 프로젝트 루트 경로에 저장하면 된다.</p><ul><li><code class="language-text">pyproject.toml</code></li><li><code class="language-text">cz.toml</code> 혹은 <code class="language-text">.cz.toml</code></li><li><code class="language-text">cz.yaml</code> 혹은 <code class="language-text">.cz.yaml</code></li><li><code class="language-text">cz.json</code> 혹은 <code class="language-text">.cz.json</code></li></ul><p>이 중에서 <code class="language-text">pyproject.toml</code> 은 파이썬을 안쓰는 분들에게는 좀 낯설 수 있는데, 이 파일은 파이썬 프로젝트에서 메타 정보를 담을 때 사용되는 파일이다.
나머지 파일 포맷은 여타 다른 라이브러리 설정 파일들과 비슷한 형태같다.</p><p>설정 파일은 <code class="language-text">.yaml</code> 포맷에 담는게 아무래도 이쁜거 같으니, 먼저 다음처럼 <code class="language-text">.cz.yaml</code> 을 만든 뒤 다음처럼 작성한다.</p><div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token comment"># .cz.yaml</span>

<span class="token key atrule">commitizen</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> cz_conventional_commits</code></pre></div><blockquote><p>사실 <code class="language-text">cz init</code> 명령어로 <code class="language-text">.cz.yaml</code> 파일을 만들어도 된다. 다만 여기서는 처음부터 직접 작성해본다.</p></blockquote><h2 id="프리셋-살펴보기" style="position:relative"><a href="#%ED%94%84%EB%A6%AC%EC%85%8B-%EC%82%B4%ED%8E%B4%EB%B3%B4%EA%B8%B0" aria-label="프리셋 살펴보기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>프리셋 살펴보기</h2><p><code class="language-text">name</code> 에는 다음과 같은 값들이 들어갈 수 있다.</p><ul><li><code class="language-text">cz_conventional_commits</code></li><li><code class="language-text">cz_jira</code></li><li><code class="language-text">cz_commitizen_emoji</code></li><li><code class="language-text">cz_customize</code></li></ul><p>이 중 위에 3개는 프리셋이다. 즉 미리 만들어진 설정 값들이고, 그냥 가져다 쓰면 알아서 적용된다.
그리고 마지막 <code class="language-text">cz_customize</code> 는 이 글에서 목적으로하는 커스터마이징을 할 때 사용한다.</p><p>커스터마이징하기 앞서, 먼저 위 3개의 프리셋을 간단히 살펴보자.</p><h3 id="code-classlanguage-textcz_conventional_commitscode" style="position:relative"><a href="#code-classlanguage-textcz_conventional_commitscode" aria-label="code classlanguage textcz_conventional_commitscode permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">cz_conventional_commits</code></h3><p><a href="https://www.conventionalcommits.org/en/v1.0.0/">conventional commits</a> 을 따르는 설정이다.
이는 프리셋의 기본 값으로 위처럼 설정 파일을 따로 작성하지 않으면 이 설정을 그대로 따르게 된다.
아마 Commitizen을 사용하는 거의 대부분의 사람들이 이 프리셋을 그대로 사용하지 않을까 싶다.</p><p>셸에서 <code class="language-text">cz c</code> 했을 때 등장하는 모습은 다음과 같다.
가장 마지막에 최종 커밋의 형태가 나온다.</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ cz c

? Select the <span class="token builtin class-name">type</span> of change you are committing <span class="token punctuation">(</span>Use arrow keys<span class="token punctuation">)</span>
   fix: A bug fix. Correlates with PATCH <span class="token keyword">in</span> SemVer
   feat: A new feature. Correlates with MINOR <span class="token keyword">in</span> SemVer
 » docs: Documentation only changes
   style: Changes that <span class="token keyword">do</span> not affect the meaning of the code <span class="token punctuation">(</span>white-space, formatting, missin
   refactor: A code change that neither fixes a bug nor adds a feature
   perf: A code change that improves performance
   test: Adding missing or correcting existing tests
   build: Changes that affect the build system or external dependencies <span class="token punctuation">(</span>example scopes: pip,
   ci: Changes to our CI configuration files and scripts <span class="token punctuation">(</span>example scopes: GitLabCI<span class="token punctuation">)</span>

? What is the scope of this change? <span class="token punctuation">(</span>class or <span class="token function">file</span> name<span class="token punctuation">)</span>: <span class="token punctuation">(</span>press <span class="token punctuation">[</span>enter<span class="token punctuation">]</span> to skip<span class="token punctuation">)</span>
 README.md

? Write a short and imperative summary of the code changes: <span class="token punctuation">(</span>lower <span class="token keyword">case</span> and no period<span class="token punctuation">)</span>
 프로젝트 소개 부분에 있는 오타를 수정한다

? Provide additional contextual information about the code changes: <span class="token punctuation">(</span>press <span class="token punctuation">[</span>enter<span class="token punctuation">]</span> to skip<span class="token punctuation">)</span>
 프로젝트 소개에 이전에 잘못한 부분을 수정한다

? Is this a BREAKING CHANGE? Correlates with MAJOR <span class="token keyword">in</span> SemVer No
? Footer. Information about Breaking Changes and reference issues that this commit closes: <span class="token punctuation">(</span>press <span class="token punctuation">[</span>enter<span class="token punctuation">]</span> to skip<span class="token punctuation">)</span>


docs<span class="token punctuation">(</span>README.md<span class="token punctuation">)</span>: 프로젝트 소개 부분에 있는 오타를 수정한다

프로젝트 소개에 이전에 잘못한 부분을 수정한다.</code></pre></div><h3 id="code-classlanguage-textcz_jiracode" style="position:relative"><a href="#code-classlanguage-textcz_jiracode" aria-label="code classlanguage textcz_jiracode permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">cz_jira</code></h3><p>이름 그대로 jira의 커밋 컨벤션을 따르는거 같은데, 사실 나도 안써봐서 잘 모른다.</p><p>셸에서 <code class="language-text">cz c</code> 했을 때 등장하는 모습은 다음과 같다.
가장 마지막에 최종 커밋의 형태가 나온다.</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ cz c

? Git commit message <span class="token punctuation">(</span>required<span class="token punctuation">)</span>:
 프로젝트 소개 부분에 있는 오타를 수정한다
? Jira Issue ID<span class="token punctuation">(</span>s<span class="token punctuation">)</span> separated by spaces <span class="token punctuation">(</span>required<span class="token punctuation">)</span>:
 H-0001
? Workflow <span class="token builtin class-name">command</span> <span class="token punctuation">(</span>testing, closed, etc.<span class="token punctuation">)</span> <span class="token punctuation">(</span>optional<span class="token punctuation">)</span>:

? Time spent <span class="token punctuation">(</span>i.e. 3h 15m<span class="token punctuation">)</span> <span class="token punctuation">(</span>optional<span class="token punctuation">)</span>:
 1h
? Jira comment <span class="token punctuation">(</span>optional<span class="token punctuation">)</span>:


프로젝트 소개 부분에 있는 오타를 수정한다 H-0001 <span class="token comment">#time 1h</span></code></pre></div><h3 id="code-classlanguage-textcz_commitizen_emojicode" style="position:relative"><a href="#code-classlanguage-textcz_commitizen_emojicode" aria-label="code classlanguage textcz_commitizen_emojicode permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">cz_commitizen_emoji</code></h3><p><code class="language-text">conventional commits</code> 에 이모지가 붙은 형태다.
이 프리셋을 사용하려면 먼저 다음처럼 <code class="language-text">commitizen-emoji</code> 패키지를 설치해야 한다.</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ pip <span class="token function">install</span> commitizen-emoji</code></pre></div><p>셸에서 <code class="language-text">cz c</code> 했을 때 등장하는 모습은 다음과 같다.
가장 마지막에 최종 커밋의 형태가 나온다.</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ cz c

? Select the <span class="token builtin class-name">type</span> of change you are committing <span class="token punctuation">(</span>Use arrow keys<span class="token punctuation">)</span>
   🐛 fix: A bug fix
   🎉 feat: A new feature
 » 📜 docs: Documentation only changes
   😎 style: Changes that <span class="token keyword">do</span> not affect the meaning of the code <span class="token punctuation">(</span>white-space, formatting, missing semi-colons, e
   🔧 refactor: A code change that neither fixes a bug nor adds a feature
   🚀 perf: A code change that improves performance
   🚦 test: Adding missing or correcting existing tests
   🚧 build: Changes that affect the build system or external dependencies <span class="token punctuation">(</span>example scopes: pip, docker, <span class="token function">npm</span><span class="token punctuation">)</span>
   🛸 ci: Changes to our CI configuration files and scripts <span class="token punctuation">(</span>example scopes: GitLabCI<span class="token punctuation">)</span>
? Scope. Could be anything specifying place of the commit change <span class="token punctuation">(</span>users, db, poll<span class="token punctuation">)</span>:
 README.md
? Subject. Concise description of the changes. Imperative, lower <span class="token keyword">case</span> and no final dot:
 프로젝트 소개 부분에 있는 오타를 수정한다
? Time spent <span class="token punctuation">(</span>i.e. 3h 15m<span class="token punctuation">)</span> <span class="token punctuation">(</span>optional<span class="token punctuation">)</span>:
 1h
? Tasks ID<span class="token punctuation">(</span>s<span class="token punctuation">)</span> separated by spaces <span class="token punctuation">(</span>optional<span class="token punctuation">)</span>:
 H-0001
? Is this a BREAKING CHANGE? No
? Body. Motivation <span class="token keyword">for</span> the change and contrast this with previous behavior:
 프로젝트 소개에 이전에 잘못한 부분을 수정한다

📜 docs<span class="token punctuation">(</span>README.md<span class="token punctuation">)</span>: 프로젝트 소개 부분에 있는 오타를 수정한다 <span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> ⏰ 1h <span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> Tasks: <span class="token comment">#H-0001</span>

프로젝트 소개에 이전에 잘못한 부분을 수정한다</code></pre></div><h2 id="커스터마이징-시작하기" style="position:relative"><a href="#%EC%BB%A4%EC%8A%A4%ED%84%B0%EB%A7%88%EC%9D%B4%EC%A7%95-%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0" aria-label="커스터마이징 시작하기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>커스터마이징 시작하기</h2><p>위 프리셋을 안쓰고, 내가 원하는대로 설정 값을 작성하고 싶다면, 직접 Commitizen 설정 파일을 작성하며 커스터마이징 해야한다.
프리셋도 살펴봤으니 이제 본격적으로 커스터마이징을 시작해보자.</p><p>먼저 다음처럼 <code class="language-text">.cz.yaml</code> 에서 <code class="language-text">name</code> 의 값을 <code class="language-text">cz_customize</code> 로 수정하고 <code class="language-text">customize</code> 을 추가한다.</p><div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token comment"># .cz.yaml</span>

<span class="token key atrule">commitizen</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> cz_customize
  customize<span class="token punctuation">:</span></code></pre></div><p>프리셋을 쓰지 않고, 직접 커스터마이징해서 쓰겠다는 표현이다.
그리고 대부분의 커스터마이징 설정 값들은 <code class="language-text">customize:</code> 내에 담길 예정이다.</p><h2 id="질문-작성하기" style="position:relative"><a href="#%EC%A7%88%EB%AC%B8-%EC%9E%91%EC%84%B1%ED%95%98%EA%B8%B0" aria-label="질문 작성하기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>질문 작성하기</h2><p>가장 먼저할 일은 <code class="language-text">cz c</code> 명령어 시에 어떤 질문 리스트를 보여줄 것인가를 결정하는 일이다.
<code class="language-text">.cz.yaml</code> 을 다음처럼 수정한다.</p><div class="gatsby-highlight has-highlighted-lines" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token comment"># .cz.yaml</span>

<span class="token key atrule">commitizen</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> cz_customize
  <span class="token key atrule">customize</span><span class="token punctuation">:</span>
<span class="gatsby-highlight-code-line">    <span class="token key atrule">questions</span><span class="token punctuation">:</span></span><span class="gatsby-highlight-code-line">    <span class="token punctuation">-</span> <span class="token key atrule">choices</span><span class="token punctuation">:</span></span><span class="gatsby-highlight-code-line">      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> new feature</span><span class="gatsby-highlight-code-line">        <span class="token key atrule">value</span><span class="token punctuation">:</span> feature</span><span class="gatsby-highlight-code-line">      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> bug fix</span><span class="gatsby-highlight-code-line">        <span class="token key atrule">value</span><span class="token punctuation">:</span> bug fix</span><span class="gatsby-highlight-code-line">      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> config</span><span class="gatsby-highlight-code-line">        <span class="token key atrule">value</span><span class="token punctuation">:</span> config</span><span class="gatsby-highlight-code-line">      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> breaking changes</span><span class="gatsby-highlight-code-line">        <span class="token key atrule">value</span><span class="token punctuation">:</span> break</span><span class="gatsby-highlight-code-line">      <span class="token key atrule">message</span><span class="token punctuation">:</span> <span class="token string">&#x27;Select type:&#x27;</span></span><span class="gatsby-highlight-code-line">      <span class="token key atrule">name</span><span class="token punctuation">:</span> type</span><span class="gatsby-highlight-code-line">      <span class="token key atrule">type</span><span class="token punctuation">:</span> list</span><span class="gatsby-highlight-code-line">    <span class="token punctuation">-</span> <span class="token key atrule">message</span><span class="token punctuation">:</span> <span class="token string">&#x27;Changed files or directory scope:&#x27;</span></span><span class="gatsby-highlight-code-line">      <span class="token key atrule">name</span><span class="token punctuation">:</span> changed_scope</span><span class="gatsby-highlight-code-line">      <span class="token key atrule">type</span><span class="token punctuation">:</span> path</span><span class="gatsby-highlight-code-line">    <span class="token punctuation">-</span> <span class="token key atrule">message</span><span class="token punctuation">:</span> <span class="token string">&#x27;Input message:&#x27;</span></span><span class="gatsby-highlight-code-line">      <span class="token key atrule">name</span><span class="token punctuation">:</span> message</span><span class="gatsby-highlight-code-line">      <span class="token key atrule">type</span><span class="token punctuation">:</span> input</span></code></pre></div><p><code class="language-text">questions</code> 에 대한 내용을 추가했다. 이 값들은 <code class="language-text">cz c</code> 하면 제일 먼저 보이는 질문들이다.</p><p><code class="language-text">questions</code> 는 <code class="language-text">message</code>, <code class="language-text">name</code>, <code class="language-text">type</code> 키를 가진 오브젝트를 담으며, <code class="language-text">type</code> 값에 따라 <code class="language-text">choices</code>와 같은 키가 추가로 붙기도 한다.
이 <code class="language-text">type</code> 값의 종류는 위에 등장한 <code class="language-text">input</code>, <code class="language-text">path</code>, <code class="language-text">list</code> 말고 더 있는데,
이에 대해 더 궁금하면 <a href="https://commitizen-tools.github.io/commitizen/customization/#detailed-questions-content">공식 문서</a>를 참고하자.</p><p><code class="language-text">questions</code> 내 오브젝트들은 각각이 하나의 질문이 되며 유저는 이 질문에 대한 값을 입력하게 된다.
사용자가 입력한 값은 <code class="language-text">name</code> 으로 정의한 변수에 담기게 되는데, 예를 들어 사용자가 <code class="language-text">Select type:</code> 질문에 <code class="language-text">config</code> 를 입력했다면,
<code class="language-text">type</code> 이라는 변수에는 <code class="language-text">config</code> 라는 값이 담기게 되는 것이다.</p><h2 id="메시지-템플릿-작성하기" style="position:relative"><a href="#%EB%A9%94%EC%8B%9C%EC%A7%80-%ED%85%9C%ED%94%8C%EB%A6%BF-%EC%9E%91%EC%84%B1%ED%95%98%EA%B8%B0" aria-label="메시지 템플릿 작성하기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>메시지 템플릿 작성하기</h2><p>이제 커밋 메시지 형태를 구성해보자.
<code class="language-text">.cz.yaml</code> 을 다음처럼 수정한다.</p><div class="gatsby-highlight has-highlighted-lines" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token comment"># .cz.yaml</span>

<span class="token key atrule">commitizen</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> cz_customize
  <span class="token key atrule">customize</span><span class="token punctuation">:</span>
    <span class="token key atrule">questions</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">choices</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> new feature
        <span class="token key atrule">value</span><span class="token punctuation">:</span> feature
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> bug fix
        <span class="token key atrule">value</span><span class="token punctuation">:</span> bug fix
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> config
        <span class="token key atrule">value</span><span class="token punctuation">:</span> config
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> breaking changes
        <span class="token key atrule">value</span><span class="token punctuation">:</span> break
      <span class="token key atrule">message</span><span class="token punctuation">:</span> <span class="token string">&#x27;Select type:&#x27;</span>
      <span class="token key atrule">name</span><span class="token punctuation">:</span> type
      <span class="token key atrule">type</span><span class="token punctuation">:</span> list
    <span class="token punctuation">-</span> <span class="token key atrule">message</span><span class="token punctuation">:</span> <span class="token string">&#x27;Changed files or directory scope:&#x27;</span>
      <span class="token key atrule">name</span><span class="token punctuation">:</span> changed_scope
      <span class="token key atrule">type</span><span class="token punctuation">:</span> path
    <span class="token punctuation">-</span> <span class="token key atrule">message</span><span class="token punctuation">:</span> <span class="token string">&#x27;Input message:&#x27;</span>
      <span class="token key atrule">name</span><span class="token punctuation">:</span> message
      <span class="token key atrule">type</span><span class="token punctuation">:</span> input
<span class="gatsby-highlight-code-line">    <span class="token key atrule">example</span><span class="token punctuation">:</span> <span class="token string">&#x27;[bug fix] (README.md) Fix Typo&#x27;</span></span><span class="gatsby-highlight-code-line">    <span class="token key atrule">message_template</span><span class="token punctuation">:</span> <span class="token string">&#x27;[{{ type }}]{% if changed_scope %} ({{ changed_scope }}){% endif %} {{ message }}&#x27;</span></span></code></pre></div><p><code class="language-text">example</code> 과 <code class="language-text">message_template</code> 을 추가했다.</p><ul><li><code class="language-text">example</code> 은 커밋 메시지의 예시를 보여준다.<ul><li><code class="language-text">cz example</code> 명령 시 이 예시 문구가 출력된다.</li></ul></li><li><code class="language-text">message_template</code>는 실제로 커밋 메시지를 구성하는 방식이다.<ul><li>위에서 입력받은 변수들을 가지고 메시지를 어떻게 구성할지에 대해 정의한다.</li><li>파이썬을 써본 사람들은 알겠지만, jinja2 템플릿 문법을 사용한다. (jinja2를 몰라도 상관없다. 다만 위같은 형태로 구성한다 정도만 알아도 충분하다.)</li></ul></li></ul><p>여기까지 작성하고 <code class="language-text">cz c</code> 를 치면 다음과 같이 의도한대로 잘 작동하는 것을 알 수 있다.</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ cz c

? Select type: config
? Changed files or directory scope: .cz.yaml
? Input message: Add .cz.yaml

<span class="token punctuation">[</span>config<span class="token punctuation">]</span> <span class="token punctuation">(</span>.cz.yaml<span class="token punctuation">)</span> Add .cz.yaml</code></pre></div><p>실제로 <code class="language-text">git log</code>를 통해 커밋 메시지를 확인해보자.</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">git</span> log --oneline

e9e996c <span class="token punctuation">(</span>HEAD -<span class="token operator">&gt;</span> main<span class="token punctuation">)</span> <span class="token punctuation">[</span>config<span class="token punctuation">]</span> <span class="token punctuation">(</span>.cz.yaml<span class="token punctuation">)</span> Add .cz.yaml</code></pre></div><p><code class="language-text">message_template</code> 에서 정의한대로 메시지가 잘 작성되었다.</p><h2 id="bump-규칙과-메시지-작성하기" style="position:relative"><a href="#bump-%EA%B7%9C%EC%B9%99%EA%B3%BC-%EB%A9%94%EC%8B%9C%EC%A7%80-%EC%9E%91%EC%84%B1%ED%95%98%EA%B8%B0" aria-label="bump 규칙과 메시지 작성하기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Bump 규칙과 메시지 작성하기</h2><p>이쯤에서 <code class="language-text">cz bump</code> 명령어를 실행해보자.</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ cz bump

<span class="token punctuation">[</span>NO_VERSION_SPECIFIED<span class="token punctuation">]</span>
Check <span class="token keyword">if</span> current version is specified <span class="token keyword">in</span> config file, like:
version <span class="token operator">=</span> <span class="token number">0.4</span>.3</code></pre></div><p>버전이 지정되지 않아서 아무런 일도 일어나지 않는다.</p><p><code class="language-text">cz bump</code> 를 제대로 실행시키기 위해 우리는 구체적으로 다음의 것들을 생각해야 한다.</p><ul><li>어떤 메시지(feature, bug fix 등)를 담은 커밋을 bump 규칙에 포함시킬 것인지?</li><li>각 커밋 메시지는 Semantic Versioning에서 어디(MAJOR, MINOR, PATCH 등)에 해당하는지?</li><li>bump 커밋 메시지는 어떤 내용을 담을지?</li><li>현재 버전은 몇이고, Versioning이 명시된 다른 파일이 있는지?</li></ul><p>이러한 내용을 담아 <code class="language-text">.cz.yaml</code> 을 다음처럼 수정하자.</p><div class="gatsby-highlight has-highlighted-lines" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token comment"># .cz.yaml</span>

<span class="token key atrule">commitizen</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> cz_customize
  <span class="token key atrule">customize</span><span class="token punctuation">:</span>
    <span class="token key atrule">questions</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">choices</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> new feature
        <span class="token key atrule">value</span><span class="token punctuation">:</span> feature
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> bug fix
        <span class="token key atrule">value</span><span class="token punctuation">:</span> bug fix
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> config
        <span class="token key atrule">value</span><span class="token punctuation">:</span> config
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> breaking changes
        <span class="token key atrule">value</span><span class="token punctuation">:</span> break
      <span class="token key atrule">message</span><span class="token punctuation">:</span> <span class="token string">&#x27;Select type:&#x27;</span>
      <span class="token key atrule">name</span><span class="token punctuation">:</span> type
      <span class="token key atrule">type</span><span class="token punctuation">:</span> list
    <span class="token punctuation">-</span> <span class="token key atrule">message</span><span class="token punctuation">:</span> <span class="token string">&#x27;Changed files or directory scope:&#x27;</span>
      <span class="token key atrule">name</span><span class="token punctuation">:</span> changed_scope
      <span class="token key atrule">type</span><span class="token punctuation">:</span> path
    <span class="token punctuation">-</span> <span class="token key atrule">message</span><span class="token punctuation">:</span> <span class="token string">&#x27;Input message:&#x27;</span>
      <span class="token key atrule">name</span><span class="token punctuation">:</span> message
      <span class="token key atrule">type</span><span class="token punctuation">:</span> input
    <span class="token key atrule">example</span><span class="token punctuation">:</span> <span class="token string">&#x27;[bug fix] (README.md) Fix Typo&#x27;</span>
    <span class="token key atrule">message_template</span><span class="token punctuation">:</span> <span class="token string">&#x27;[{{ type }}]{% if changed_scope %} ({{ changed_scope }}){% endif %} {{ message }}&#x27;</span>
<span class="gatsby-highlight-code-line">    <span class="token key atrule">bump_pattern</span><span class="token punctuation">:</span> feature<span class="token punctuation">|</span>bug fix<span class="token punctuation">|</span>config<span class="token punctuation">|</span>break</span><span class="gatsby-highlight-code-line">    <span class="token key atrule">bump_map</span><span class="token punctuation">:</span></span><span class="gatsby-highlight-code-line">      <span class="token key atrule">break</span><span class="token punctuation">:</span> MAJOR</span><span class="gatsby-highlight-code-line">      <span class="token key atrule">bug fix</span><span class="token punctuation">:</span> PATCH</span><span class="gatsby-highlight-code-line">      <span class="token key atrule">config</span><span class="token punctuation">:</span> PATCH</span><span class="gatsby-highlight-code-line">      <span class="token key atrule">feature</span><span class="token punctuation">:</span> MINOR</span><span class="gatsby-highlight-code-line">  <span class="token key atrule">bump_message</span><span class="token punctuation">:</span> <span class="token string">&#x27;[bump] from $current_version to $new_version&#x27;</span></span><span class="gatsby-highlight-code-line">  <span class="token key atrule">tag_format</span><span class="token punctuation">:</span> v$major.$minor.$patch$prerelease</span><span class="gatsby-highlight-code-line">  <span class="token key atrule">version</span><span class="token punctuation">:</span> 0.0.0</span><span class="gatsby-highlight-code-line">  <span class="token key atrule">version_files</span><span class="token punctuation">:</span></span><span class="gatsby-highlight-code-line">  <span class="token punctuation">-</span> project.yaml<span class="token punctuation">:</span>version</span></code></pre></div><ul><li><code class="language-text">bump_pattern</code> 은 bump 규칙에 포함할 커밋 메시지의 패턴이다.<ul><li>커밋 메시지에 <code class="language-text">feature</code>, <code class="language-text">bug fix</code>, <code class="language-text">config</code>, <code class="language-text">break</code> 이 포함되어 있다면 이 커밋은 bump 작업에 포함된다.</li></ul></li><li><code class="language-text">bump_map</code> 은 각 커밋 메시지가 Semantic Versioning 중 어디에 해당하는지를 매핑에 대한 정의다.<ul><li><code class="language-text">bump_pattern</code> 에서 정의한 커밋 메시지 패턴 값들을 키로 가지고, Semantic Versioning 하나를 값으로 가진다.</li><li>예를 들어 bump할 때 <code class="language-text">config</code> 가 하나라도 있으면, 해당 bump는 MINOR 버전을 업데이트 한다.</li></ul></li><li><code class="language-text">bump_message</code> 는 bump 커밋 메시지에 대한 정의다.<ul><li><code class="language-text">$current_version</code> 와 <code class="language-text">$new_version</code> 로 직전 버전과 현재 bump하는 버전 값을 가져올 수 있다.</li></ul></li><li><code class="language-text">tag_format</code> 은 bump로 만들어지는 태그의 포맷이다.</li><li><code class="language-text">version</code> 은 현재 프로젝트의 버전이다.</li><li><code class="language-text">version_files</code> 은 Semantic Versioning이 명시된 다른 파일 목록과 키 또는 변수 목록이다.<ul><li><code class="language-text">{파일 이름(경로 포함)}:{키 또는 변수 명}</code> 포맷으로 작성한다.</li><li>bump 시 이 목록의 아이템들도 같이 버전업을 한다.</li><li>항상 필요한 설정은 아닌데, 만약 프로젝트에서 <code class="language-text">.cz.yaml</code> 말고 다른 곳에서도 프로젝트 Versioning을 명시해주고 있다면 이 설정이 필요하다.</li></ul></li></ul><p><code class="language-text">version_files</code> 에 해당하는 <code class="language-text">project.yaml</code> 을 생성한 뒤 다음처럼 작성하자.</p><div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token comment"># project.yaml</span>

<span class="token key atrule">version</span><span class="token punctuation">:</span> 0.0.0</code></pre></div><blockquote><p>종종 프로젝트 내부에 프로젝트에 대한 메타 데이터를 명시한 별도의 파일을 만들어두곤 한다.
프로젝트 입장에서는 <code class="language-text">.cz.yaml</code> 은 그냥 커밋 관리 도구에 대한 설정 파일일 뿐이니, <code class="language-text">.cz.yaml</code> 에 의존할 게 아니라 위와 같은 별도의 메타 파일에 의존하는게 옳다고 판단하는 것이다.
마찬가지로 <code class="language-text">.cz.yaml</code>도 이 메타 파일에 의존하는 것이고, 이를 <code class="language-text">cz.yaml</code> 에서 <code class="language-text">version_files</code> 에 명시해주는 것이다.</p></blockquote><p>지금까지의 변경사항을 커밋해두자.</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">git</span> <span class="token function">add</span> .cz.yaml project.yaml
$ cz c

? Select type: config
? Changed files or directory scope: .cz.yaml, project.yaml
? Input message: Add versioning

<span class="token punctuation">[</span>config<span class="token punctuation">]</span> <span class="token punctuation">(</span>.cz.yaml, project.yaml<span class="token punctuation">)</span> Add versioning</code></pre></div><p>이제 <code class="language-text">cz bump</code> 명령어를 실행해보자.</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ cz bump

Tag v0.0.0 could not be found.
Possible causes:
- version <span class="token keyword">in</span> configuration is not the current version
- tag_format is missing, check them using <span class="token string">&#x27;git tag --list&#x27;</span>

? Is this the first tag created? Yes
<span class="token punctuation">[</span>bump<span class="token punctuation">]</span> from <span class="token number">0.0</span>.0 to <span class="token number">0.0</span>.1
tag to create: v0.0.1
increment detected: PATCH</code></pre></div><p>이번엔 성공적으로 잘 작동했다!</p><p><code class="language-text">git log</code> 명령어로 커밋 메시지와 태그가 잘 생성되었는지 확인해보자.</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">git</span> log --oneline

e397a76 <span class="token punctuation">(</span>HEAD -<span class="token operator">&gt;</span> main, tag: v0.0.1<span class="token punctuation">)</span> <span class="token punctuation">[</span>bump<span class="token punctuation">]</span> from <span class="token number">0.0</span>.0 to <span class="token number">0.0</span>.1
74f5e18 <span class="token punctuation">[</span>config<span class="token punctuation">]</span> <span class="token punctuation">(</span>.cz.yaml, project.yaml<span class="token punctuation">)</span> Add versioning
06d292b <span class="token punctuation">[</span>config<span class="token punctuation">]</span> <span class="token punctuation">(</span>.cz.yaml<span class="token punctuation">)</span> Add .cz.yaml</code></pre></div><p>태그가 잘 생성된 것을 확인했다.</p><p>이제 이 bump 커밋이 프로젝트 내 어떤 부분을 수정했는지를 다음처럼 확인해보자.</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">git</span> show e397a76

<span class="token function">diff</span> --git a/.cz.yaml b/.cz.yaml
-  version: <span class="token number">0.0</span>.0
+  version: <span class="token number">0.0</span>.1

<span class="token function">diff</span> --git a/project.yaml b/project.yaml
-version: <span class="token number">0.0</span>.0
+version: <span class="token number">0.0</span>.1</code></pre></div><p><code class="language-text">.cz.yaml</code> 내 <code class="language-text">commitizen.version</code> 의 값과 <code class="language-text">project.yaml</code> 내 <code class="language-text">version</code> 의 값을 모두 동일하게 수정한 것을 알 수 있다.</p><h2 id="changelog-관련-설정-작성하기" style="position:relative"><a href="#changelog-%EA%B4%80%EB%A0%A8-%EC%84%A4%EC%A0%95-%EC%9E%91%EC%84%B1%ED%95%98%EA%B8%B0" aria-label="changelog 관련 설정 작성하기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Changelog 관련 설정 작성하기</h2><p>다음처럼 <code class="language-text">cz changelog</code> 명령어를 실행해보자.</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ cz changelog
$ <span class="token function">ls</span>

CHANGELOG.md project.yaml</code></pre></div><p>실행 결과로 <code class="language-text">CHANGELOG.md</code> 파일이 생성되었는데, 이 파일을 확인해보자.</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">cat</span> changelog

<span class="token comment">## v0.0.1 (2022-06-25)</span>

- <span class="token punctuation">[</span>bump<span class="token punctuation">]</span> from <span class="token number">0.0</span>.0 to <span class="token number">0.0</span>.1
- <span class="token punctuation">[</span>config<span class="token punctuation">]</span> <span class="token punctuation">(</span>.cz.yaml, project.yaml<span class="token punctuation">)</span> Add versioning
- <span class="token punctuation">[</span>config<span class="token punctuation">]</span> <span class="token punctuation">(</span>.cz.yaml<span class="token punctuation">)</span> Add .cz.yaml</code></pre></div><p>버전과 해당 버전에 포함되는 커밋 목록들을 나열하고 있다.
뭐 이렇게만 써도 문제는 없지만, 보통 Changelog에는 타입별로 커밋 목록들이 구분되어있는게 일반적이다.
이제 이를 위한 이제 커스터마이징 설정을 작성해보자.</p><p>먼저 <a href="https://commitizen-tools.github.io/commitizen/changelog/#description">공식문서</a>에 따르면 Commitizen은 Changelog를 다음과 같은 포맷으로 작성한다고 한다.</p><div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text"># &lt;version&gt; (&lt;date&gt;)

## &lt;change_type&gt;

- **&lt;scope&gt;**: &lt;message&gt;</code></pre></div><p>우리의 <code class="language-text">CHANGELOG.md</code> 에는 현재 <code class="language-text">## &lt;change_type&gt;</code> 이 없는 것을 알 수 있다.</p><p><code class="language-text">.cz.yaml</code> 을 다음처럼 수정하자.</p><div class="gatsby-highlight has-highlighted-lines" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token comment"># .cz.yaml</span>

<span class="token key atrule">commitizen</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> cz_customize
  <span class="token key atrule">customize</span><span class="token punctuation">:</span>
    <span class="token key atrule">questions</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">choices</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> new feature
        <span class="token key atrule">value</span><span class="token punctuation">:</span> feature
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> bug fix
        <span class="token key atrule">value</span><span class="token punctuation">:</span> bug fix
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> config
        <span class="token key atrule">value</span><span class="token punctuation">:</span> config
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> breaking changes
        <span class="token key atrule">value</span><span class="token punctuation">:</span> break
      <span class="token key atrule">message</span><span class="token punctuation">:</span> <span class="token string">&#x27;Select type:&#x27;</span>
      <span class="token key atrule">name</span><span class="token punctuation">:</span> type
      <span class="token key atrule">type</span><span class="token punctuation">:</span> list
    <span class="token punctuation">-</span> <span class="token key atrule">message</span><span class="token punctuation">:</span> <span class="token string">&#x27;Changed files or directory scope:&#x27;</span>
      <span class="token key atrule">name</span><span class="token punctuation">:</span> changed_scope
      <span class="token key atrule">type</span><span class="token punctuation">:</span> path
    <span class="token punctuation">-</span> <span class="token key atrule">message</span><span class="token punctuation">:</span> <span class="token string">&#x27;Input message:&#x27;</span>
      <span class="token key atrule">name</span><span class="token punctuation">:</span> message
      <span class="token key atrule">type</span><span class="token punctuation">:</span> input
    <span class="token key atrule">example</span><span class="token punctuation">:</span> <span class="token string">&#x27;[bug fix] (README.md) Fix Typo&#x27;</span>
    <span class="token key atrule">message_template</span><span class="token punctuation">:</span> <span class="token string">&#x27;[{{ type }}]{% if changed_scope %} ({{ changed_scope }}){% endif %} {{ message }}&#x27;</span>
    <span class="token key atrule">bump_pattern</span><span class="token punctuation">:</span> feature<span class="token punctuation">|</span>bug fix<span class="token punctuation">|</span>config<span class="token punctuation">|</span>break
    <span class="token key atrule">bump_map</span><span class="token punctuation">:</span>
      <span class="token key atrule">break</span><span class="token punctuation">:</span> MAJOR
      <span class="token key atrule">bug fix</span><span class="token punctuation">:</span> PATCH
      <span class="token key atrule">config</span><span class="token punctuation">:</span> PATCH
      <span class="token key atrule">feature</span><span class="token punctuation">:</span> MINOR
<span class="gatsby-highlight-code-line">    <span class="token key atrule">commit_parser</span><span class="token punctuation">:</span> \<span class="token punctuation">[</span>(<span class="token punctuation">?</span>P&lt;change_type<span class="token punctuation">&gt;</span>feature<span class="token punctuation">|</span>bug fix<span class="token punctuation">|</span>config<span class="token punctuation">|</span>break)\<span class="token punctuation">]</span>(\s\((<span class="token punctuation">?</span>P&lt;scope<span class="token punctuation">&gt;</span>.<span class="token important">*)\))?\s(?P&lt;message&gt;.*)?</span></span><span class="gatsby-highlight-code-line">    <span class="token key atrule">change_type_map</span><span class="token punctuation">:</span></span><span class="gatsby-highlight-code-line">      <span class="token key atrule">feature</span><span class="token punctuation">:</span> Feature</span><span class="gatsby-highlight-code-line">      <span class="token key atrule">bug fix</span><span class="token punctuation">:</span> Fix</span><span class="gatsby-highlight-code-line">      <span class="token key atrule">config</span><span class="token punctuation">:</span> Config</span><span class="gatsby-highlight-code-line">      <span class="token key atrule">break</span><span class="token punctuation">:</span> Break</span><span class="gatsby-highlight-code-line">    <span class="token key atrule">change_type_order</span><span class="token punctuation">:</span></span><span class="gatsby-highlight-code-line">      <span class="token punctuation">-</span> Break</span><span class="gatsby-highlight-code-line">      <span class="token punctuation">-</span> Feature</span><span class="gatsby-highlight-code-line">      <span class="token punctuation">-</span> Fix</span><span class="gatsby-highlight-code-line">      <span class="token punctuation">-</span> Config</span>  <span class="token key atrule">bump_message</span><span class="token punctuation">:</span> <span class="token string">&#x27;[bump] from $current_version to $new_version&#x27;</span>
  <span class="token key atrule">tag_format</span><span class="token punctuation">:</span> v$major.$minor.$patch$prerelease
  <span class="token key atrule">version</span><span class="token punctuation">:</span> 0.0.0
  <span class="token key atrule">version_files</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> project.yaml<span class="token punctuation">:</span>version
<span class="gatsby-highlight-code-line">  <span class="token key atrule">changelog_file</span><span class="token punctuation">:</span> <span class="token string">&#x27;CHANGELOG.md&#x27;</span></span></code></pre></div><p>추가된 부분을 하나씩 살펴보자.</p><ul><li><code class="language-text">commit_parser</code> 는 Changelog 를 만들기 위해 커밋을 파싱하는 패턴이다.<ul><li>파이썬의 정규표현식으로 작성한다.</li><li>전반적으로 패턴은 <code class="language-text">message_template</code> 으로 만들어지는 커밋 메시지 형태를 고려하여 작성한다.</li><li>패턴 중간에 보면 <code class="language-text">change_type</code>, <code class="language-text">scope</code>, <code class="language-text">message</code> 있다. 위 Changelog 포맷에 들어가는 변수들이다.</li></ul></li><li><code class="language-text">change_type_map</code> 는 <code class="language-text">commit_parser</code> 를 통해 파싱한 커밋 메시지에서 <code class="language-text">change_type</code> 값에 대한 Alias 매핑이다.<ul><li>예를 들어 <code class="language-text">change_type</code> 이 <code class="language-text">feature</code> 였던 커밋은 Changelog 내 <code class="language-text">Feature</code> 하위 항목에 작성된다.</li><li>이 설정 값은 필수는 아니다. <code class="language-text">change_type_map</code> 을 이처럼 명시해주지 않으면, 기본적으로 <code class="language-text">change_type</code> 값 그대로 Chnagelog 내 들어간다.</li></ul></li><li><code class="language-text">change_type_order</code> 은 Changelog 내 <code class="language-text">change_type</code> 이 작성되는 순서를 정의한다.<ul><li>여기서는 <code class="language-text">Break</code> -&gt; <code class="language-text">Feature</code> -&gt; <code class="language-text">Fix</code> -&gt; <code class="language-text">Config</code> 순으로 작성된다.</li></ul></li><li><code class="language-text">changelog_file</code> 은 <code class="language-text">cz changelog</code> 명령 실행 시, Changelog 가 작성되는 파일 이름이다.</li></ul><p>여기까지 작성했으면 일단 기존의 <code class="language-text">CHANGELOG.md</code> 파일은 삭제하고 변경한 내용을 커밋해두자.</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">rm</span> CHANGELOG.md
$ <span class="token function">git</span> <span class="token function">add</span> .cz.yaml
$ cz c

? Select type: config
? Changed files or directory scope: .cz.yaml
? Input message: Add changelog config

<span class="token punctuation">[</span>config<span class="token punctuation">]</span> <span class="token punctuation">(</span>.cz.yaml<span class="token punctuation">)</span> Add changelog config</code></pre></div><p>이제 Changelog가 잘 작성되는지 확인해보자.
아까처럼 <code class="language-text">cz changelog</code> 명령어를 실행해도 되지만, <code class="language-text">cz bump</code> 와 함께 사용해보자.
다음처럼 <code class="language-text">cz bump</code> 명령어에 <code class="language-text">--changelog</code> 옵션을 추가해주면 된다.</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ cz bump --changelog

<span class="token punctuation">[</span>bump<span class="token punctuation">]</span> from <span class="token number">0.0</span>.1 to <span class="token number">0.0</span>.2
tag to create: v0.0.2
increment detected: PATCH</code></pre></div><p>bump 됨과 동시에 <code class="language-text">CHANGELOG.md</code> 파일도 새로 생기게 되는데 잘 작성되었는지 확인해보자.</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">cat</span> CHANGELOG.md

<span class="token comment">## v0.0.2 (2022-06-25)</span>

<span class="token comment">### Config</span>

- **.cz.yaml**: Add changelog config

<span class="token comment">## v0.0.1 (2022-06-25)</span>

<span class="token comment">### Config</span>

- **.cz.yaml, project.yaml**: Add versioning
- **.cz.yaml**: Add .cz.yaml</code></pre></div><p>아까와 다르게 <code class="language-text">## change_type</code> 추가 되고, 각 커밋이 잘 분류되었다!</p><blockquote><p>하나 주의해야할게, <code class="language-text">cz bump --changelog</code> 를 한다고 해서 bump 커밋에 <code class="language-text">CHANGELOG.md</code> 생성 이력이 추가되는 것은 아니다.
<code class="language-text">cz bump --changelog</code> 명령 이후 <code class="language-text">git status</code> 로 확인해보면 <code class="language-text">CHANGELOG.md</code> 는 아직 스테이징으로 올라오지 않은 것을 알 수 있다.</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">git</span> status
현재 브랜치 main
추적하지 않는 파일:
 <span class="token punctuation">(</span>커밋할 사항에 포함하려면 <span class="token string">&quot;git add &lt;파일&gt;...&quot;</span>을 사용하십시오<span class="token punctuation">)</span>
       CHANGELOG.md</code></pre></div><p><code class="language-text">CHANGELOG.md</code> 를 저장소에 담으려면 결국 커밋을 한번 더 찍어야 한다.
이게 귀찮기 때문에 사실 필자는 <code class="language-text">CHANGELOG.md</code> 를 따로 생성하지 않고, Github Releases 에만 담는다.
이 글 후반부에서 이 방법에 대해 다룰 것이다.</p></blockquote><h2 id="pre-commit-사용하기" style="position:relative"><a href="#pre-commit-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0" aria-label="pre commit 사용하기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>pre-commit 사용하기</h2><p>프로젝트에 커밋 찍을때 항상 <code class="language-text">cz c</code> 명령어를 사용하면 문제가 없다.
그런데 누군가가 <code class="language-text">git commit</code> 으로 커밋을 찍는다면, 커밋 메시지 규칙 항상 지켜지리란 법은 없다.
이 때문에 <a href="https://pre-commit.com/">pre-commit</a> 같은 툴로 커밋이 생성되기 전에 커밋 메시지가 규칙에 따라 잘 작성되었는지 확인해야 한다.
이제 pre-commit을 이용하여, 커밋할 때 커밋 메시지가 Commitizen에서 설정한 커밋 메시지 규칙대로 잘 작성되었는지 검증하는 작업을 추가해보자.</p><p>Commitizen에서는 <code class="language-text">cz check -m &quot;커밋 메시지&quot;</code> 명령어를 통해 <code class="language-text">&quot;커밋 메시지&quot;</code> 가 Commitizen에서 설정한 커밋 메시지 규칙을 따르는지 검증할 수 있다.</p><p><code class="language-text">.cz.yaml</code> 파일을 다음처럼 수정한다.</p><div class="gatsby-highlight has-highlighted-lines" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token comment"># .cz.yaml</span>

<span class="token key atrule">commitizen</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> cz_customize
  <span class="token key atrule">customize</span><span class="token punctuation">:</span>
    <span class="token key atrule">questions</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">choices</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> new feature
        <span class="token key atrule">value</span><span class="token punctuation">:</span> feature
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> bug fix
        <span class="token key atrule">value</span><span class="token punctuation">:</span> bug fix
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> config
        <span class="token key atrule">value</span><span class="token punctuation">:</span> config
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> breaking changes
        <span class="token key atrule">value</span><span class="token punctuation">:</span> break
      <span class="token key atrule">message</span><span class="token punctuation">:</span> <span class="token string">&#x27;Select type:&#x27;</span>
      <span class="token key atrule">name</span><span class="token punctuation">:</span> type
      <span class="token key atrule">type</span><span class="token punctuation">:</span> list
    <span class="token punctuation">-</span> <span class="token key atrule">message</span><span class="token punctuation">:</span> <span class="token string">&#x27;Changed files or directory scope:&#x27;</span>
      <span class="token key atrule">name</span><span class="token punctuation">:</span> changed_scope
      <span class="token key atrule">type</span><span class="token punctuation">:</span> path
    <span class="token punctuation">-</span> <span class="token key atrule">message</span><span class="token punctuation">:</span> <span class="token string">&#x27;Input message:&#x27;</span>
      <span class="token key atrule">name</span><span class="token punctuation">:</span> message
      <span class="token key atrule">type</span><span class="token punctuation">:</span> input
    <span class="token key atrule">example</span><span class="token punctuation">:</span> <span class="token string">&#x27;[bug fix] (README.md) Fix Typo&#x27;</span>
    <span class="token key atrule">message_template</span><span class="token punctuation">:</span> <span class="token string">&#x27;[{{ type }}]{% if changed_scope %} ({{ changed_scope }}){% endif %} {{ message }}&#x27;</span>
    <span class="token key atrule">bump_pattern</span><span class="token punctuation">:</span> feature<span class="token punctuation">|</span>bug fix<span class="token punctuation">|</span>config<span class="token punctuation">|</span>break
    <span class="token key atrule">bump_map</span><span class="token punctuation">:</span>
      <span class="token key atrule">break</span><span class="token punctuation">:</span> MAJOR
      <span class="token key atrule">bug fix</span><span class="token punctuation">:</span> PATCH
      <span class="token key atrule">config</span><span class="token punctuation">:</span> PATCH
      <span class="token key atrule">feature</span><span class="token punctuation">:</span> MINOR
    <span class="token key atrule">commit_parser</span><span class="token punctuation">:</span> \<span class="token punctuation">[</span>(<span class="token punctuation">?</span>P&lt;change_type<span class="token punctuation">&gt;</span>feature<span class="token punctuation">|</span>bug fix<span class="token punctuation">|</span>config<span class="token punctuation">|</span>break)\<span class="token punctuation">]</span>(\s\((<span class="token punctuation">?</span>P&lt;scope<span class="token punctuation">&gt;</span>.<span class="token important">*)\))?\s(?P&lt;message&gt;.*)?</span>
    <span class="token key atrule">change_type_map</span><span class="token punctuation">:</span>
      <span class="token key atrule">feature</span><span class="token punctuation">:</span> Feature
      <span class="token key atrule">bug fix</span><span class="token punctuation">:</span> Fix
      <span class="token key atrule">config</span><span class="token punctuation">:</span> Config
      <span class="token key atrule">break</span><span class="token punctuation">:</span> Break
    <span class="token key atrule">change_type_order</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> Break
      <span class="token punctuation">-</span> Feature
      <span class="token punctuation">-</span> Fix
      <span class="token punctuation">-</span> Config
<span class="gatsby-highlight-code-line">    <span class="token key atrule">schema_pattern</span><span class="token punctuation">:</span> \<span class="token punctuation">[</span>(<span class="token punctuation">?</span>P&lt;change_type<span class="token punctuation">&gt;</span>feature<span class="token punctuation">|</span>bug fix<span class="token punctuation">|</span>config<span class="token punctuation">|</span>break<span class="token punctuation">|</span>bump)\<span class="token punctuation">]</span>(\s\((<span class="token punctuation">?</span>P&lt;scope<span class="token punctuation">&gt;</span>.<span class="token important">*)\))?\s(?P&lt;message&gt;.*)?</span></span>  <span class="token key atrule">bump_message</span><span class="token punctuation">:</span> <span class="token string">&#x27;[bump] from $current_version to $new_version&#x27;</span>
  <span class="token key atrule">tag_format</span><span class="token punctuation">:</span> v$major.$minor.$patch$prerelease
  <span class="token key atrule">version</span><span class="token punctuation">:</span> 0.0.0
  <span class="token key atrule">version_files</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> project.yaml<span class="token punctuation">:</span>version
  <span class="token key atrule">changelog_file</span><span class="token punctuation">:</span> <span class="token string">&#x27;CHANGELOG.md&#x27;</span></code></pre></div><ul><li><code class="language-text">schema_pattern</code> 는 커밋 메시지 검증을 위해 쓰이는 커밋 메시지 스키마다.<ul><li><code class="language-text">cz check -m &quot;메시지&quot;</code> 명령 쓰이는 설정 값으로, 인자로 넘어온 메시지가 이 패턴을 따르는지 확인한다.</li><li>파이썬 정규표현식으로 작성한다.</li><li>사실상 <code class="language-text">commit_parser</code>와 동일하다.</li></ul></li></ul><p>변경 이력을 먼저 저장하자.</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">git</span> <span class="token function">add</span> .cz.yaml
$ cz c

? Select type: config
? Changed files or directory scope: .cz.yaml
? Input message: Add schema_pattern <span class="token keyword">for</span> cz check

<span class="token punctuation">[</span>config<span class="token punctuation">]</span> <span class="token punctuation">(</span>.cz.yaml<span class="token punctuation">)</span> Add schema_pattern <span class="token keyword">for</span> cz check</code></pre></div><p>이제 <code class="language-text">cz check -m &quot;메시지&quot;</code> 명령어로 잘 작동하는지 확인해보자.</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ cz check -m <span class="token string">&quot;[config] Valid Commit&quot;</span>
Commit validation: successful<span class="token operator">!</span>

$ cz check -m <span class="token string">&quot;[config] (file) Valid Commit&quot;</span>
Commit validation: successful<span class="token operator">!</span>

$ cz check -m <span class="token string">&quot;config: InValid Commit&quot;</span>
commit validation: failed<span class="token operator">!</span>
please enter a commit message <span class="token keyword">in</span> the commitizen format.
commit <span class="token string">&quot;&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;config: InValid Commit&quot;</span>
pattern: <span class="token punctuation">\</span><span class="token punctuation">[</span><span class="token punctuation">(</span>?P<span class="token operator">&lt;</span>change_type<span class="token operator">&gt;</span>feature<span class="token operator">|</span>bug fix<span class="token operator">|</span>config<span class="token operator">|</span><span class="token builtin class-name">break</span><span class="token punctuation">)</span><span class="token punctuation">\</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">\</span>s<span class="token punctuation">\</span><span class="token variable"><span class="token punctuation">((</span><span class="token operator">?</span>P<span class="token operator">&lt;</span>scope<span class="token operator">&gt;</span>.<span class="token operator">*</span><span class="token punctuation">)</span>\<span class="token punctuation">))</span></span>?<span class="token punctuation">\</span>s<span class="token punctuation">(</span>?P<span class="token operator">&lt;</span>message<span class="token operator">&gt;</span>.*<span class="token punctuation">)</span>?</code></pre></div><p>위처럼 규칙을 잘 따르는 메시지는 &quot;successful&quot; 을, 따르지 않는 메시지는 &quot;failed&quot; 를 반환하는 것을 알 수 있다.</p><p>이제 이를 pre-commit을 통해 사용해보자.
먼저 다음처럼 <code class="language-text">pre-commit</code> 패키지를 설치한다.</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ pip <span class="token function">install</span> pre-commit
$ pre-commit -V

pre-commit <span class="token number">2.19</span>.0</code></pre></div><p><code class="language-text">.pre-commit-config.yaml</code> 파일을 만든 뒤, 다음처럼 작성한다.</p><div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token comment"># .pre-commit-config.yaml</span>

<span class="token key atrule">repos</span><span class="token punctuation">:</span>
<span class="token punctuation">-</span> <span class="token key atrule">repo</span><span class="token punctuation">:</span> local
  <span class="token key atrule">hooks</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> commitizen
      <span class="token key atrule">name</span><span class="token punctuation">:</span> My commitizen check
      <span class="token key atrule">entry</span><span class="token punctuation">:</span> cz
      <span class="token key atrule">args</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;check&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;--commit-msg-file&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;.git/COMMIT_EDITMSG&#x27;</span><span class="token punctuation">]</span>
      <span class="token key atrule">pass_filenames</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
      <span class="token key atrule">language</span><span class="token punctuation">:</span> system
      <span class="token key atrule">stages</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>commit<span class="token punctuation">-</span>msg<span class="token punctuation">]</span></code></pre></div><p>이제 다음 명령어로 <code class="language-text">pre-commit</code> 설치를 완료한다.</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ pre-commit <span class="token function">install</span> --hook-type commit-msg</code></pre></div><p>정말 잘 동작하는지 확인해보자.
<code class="language-text">cz c</code> 가 아니라 <code class="language-text">git commit</code> 으로 일부러 규칙에 어긋난 커밋 메시지로 커밋을 시도해본다.</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">git</span> <span class="token function">add</span> .pre-commit-config.yaml
$ <span class="token function">git</span> commit -m <span class="token string">&quot;Add .pre-commit-config.yaml&quot;</span>

My commitizen check<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>Failed
- hook id: commitizen
- <span class="token builtin class-name">exit</span> code: <span class="token number">14</span>

commit validation: failed<span class="token operator">!</span>
please enter a commit message <span class="token keyword">in</span> the commitizen format.
commit <span class="token string">&quot;&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;Invalid commit&quot;</span>
pattern: <span class="token punctuation">\</span><span class="token punctuation">[</span><span class="token punctuation">(</span>?P<span class="token operator">&lt;</span>change_type<span class="token operator">&gt;</span>feature<span class="token operator">|</span>bug fix<span class="token operator">|</span>config<span class="token operator">|</span><span class="token builtin class-name">break</span><span class="token punctuation">)</span><span class="token punctuation">\</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">\</span>s<span class="token punctuation">\</span><span class="token variable"><span class="token punctuation">((</span><span class="token operator">?</span>P<span class="token operator">&lt;</span>scope<span class="token operator">&gt;</span>.<span class="token operator">*</span><span class="token punctuation">)</span>\<span class="token punctuation">))</span></span>?<span class="token punctuation">\</span>s<span class="token punctuation">(</span>?P<span class="token operator">&lt;</span>message<span class="token operator">&gt;</span>.*<span class="token punctuation">)</span>?</code></pre></div><p>의도한대로 커밋에 실패했다!</p><p>이번엔 규칙을 따르는 커밋 메시지로 커밋을 시도해보자.</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">git</span> commit -m <span class="token string">&quot;[config] (.pre-commit-config.yaml) Add cz check&quot;</span>

My commitizen check<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>Passed
<span class="token punctuation">[</span>main 1a0ca15<span class="token punctuation">]</span> <span class="token punctuation">[</span>config<span class="token punctuation">]</span> <span class="token punctuation">(</span>.pre-commit-config.yaml<span class="token punctuation">)</span> Add cz check
 <span class="token number">1</span> <span class="token function">file</span> changed, <span class="token number">10</span> insertions<span class="token punctuation">(</span>+<span class="token punctuation">)</span>
 create mode <span class="token number">100644</span> .pre-commit-config.yaml</code></pre></div><p>의도한대로 성공적으로 커밋이 찍혔다!</p><h2 id="github-actions으로-자동화하기" style="position:relative"><a href="#github-actions%EC%9C%BC%EB%A1%9C-%EC%9E%90%EB%8F%99%ED%99%94%ED%95%98%EA%B8%B0" aria-label="github actions으로 자동화하기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Github Actions으로 자동화하기</h2><h3 id="메뉴얼대로-사용하기" style="position:relative"><a href="#%EB%A9%94%EB%89%B4%EC%96%BC%EB%8C%80%EB%A1%9C-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0" aria-label="메뉴얼대로 사용하기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>메뉴얼대로 사용하기</h3><p>지금까지 Commitizen을 사용하는 것도 물론 충분히 좋다. 하지만 매번 버전을 올릴 때마다 개발자가 직접 <code class="language-text">cz bump</code> 명령어를 실행해야 한다.
결국 <code class="language-text">cz bump</code> 와 <code class="language-text">git push</code> 를 매번 해줘야 하는데, 이게 매우 번거롭다.</p><p>Github Action을 사용하면 개발자가 직접 bump 할 일 없이, bump 와 Github Releases 작성을 자동화할 수 있다.
이를 한번 구현해보자.</p><p>먼저 <code class="language-text">.github/workflows/bump_version.yaml</code> 를 만들고 다음처럼 작성한다.</p><div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token comment"># .github/workflows/bump_version.yaml</span>

<span class="token key atrule">name</span><span class="token punctuation">:</span> Bump version

<span class="token key atrule">on</span><span class="token punctuation">:</span>
  <span class="token key atrule">push</span><span class="token punctuation">:</span>
    <span class="token key atrule">branches</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> main

<span class="token key atrule">jobs</span><span class="token punctuation">:</span>
  <span class="token key atrule">bump-version</span><span class="token punctuation">:</span>
    <span class="token key atrule">if</span><span class="token punctuation">:</span> <span class="token string">&quot;!startsWith(github.event.head_commit.message, &#x27;[bump]&#x27;)&quot;</span>
    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest
    <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">&quot;Bump version and create changelog with commitizen&quot;</span>
    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Check out
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v2
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">token</span><span class="token punctuation">:</span> <span class="token string">&quot;${{ secrets.GITHUB_TOKEN }}&quot;</span>
          <span class="token key atrule">fetch-depth</span><span class="token punctuation">:</span> <span class="token number">0</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Create bump and changelog
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> commitizen<span class="token punctuation">-</span>tools/commitizen<span class="token punctuation">-</span>action@master
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">github_token</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.GITHUB_TOKEN <span class="token punctuation">}</span><span class="token punctuation">}</span>
          <span class="token key atrule">changelog_increment_filename</span><span class="token punctuation">:</span> body.md
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Release
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> softprops/action<span class="token punctuation">-</span>gh<span class="token punctuation">-</span>release@v1
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">body_path</span><span class="token punctuation">:</span> <span class="token string">&quot;body.md&quot;</span>
          <span class="token key atrule">tag_name</span><span class="token punctuation">:</span> v$<span class="token punctuation">{</span><span class="token punctuation">{</span> env.REVISION <span class="token punctuation">}</span><span class="token punctuation">}</span>
        <span class="token key atrule">env</span><span class="token punctuation">:</span>
          <span class="token key atrule">GITHUB_TOKEN</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.GITHUB_TOKEN <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></div><p>Github Action을 사용해본 사람이라면 쉽게 알겠지만, 모르는 분들을 위해 위 내용에 대해 간략히 설명해본다.</p><ul><li>Github Repo의 main branch에 push 이벤트가 발생할 때 이 워크플로우가 실행된다.<ul><li>이 때 커밋 메시지가 <code class="language-text">[bump]</code> 로 시작하지 않는 경우에만 실행하는 조건이 붙는다.<ul><li>로컬에서 <code class="language-text">cz bump</code> 명령어로 커밋 메시지를 만든 뒤 push 하는 경우를 고려한 조건이다.</li><li>로컬에서 이미 bump한 경우 Github Action으로 또 bump할 필요가 없기 때문이다.</li></ul></li></ul></li><li>워크 플로우 내용은 다음과 같다.<ul><li><code class="language-text">cz bump</code> 한 뒤 Github Repo로 커밋과 태그를 push한다.</li><li>Changelog 내용을 Releases에 게시한다.</li></ul></li></ul><p>여기까지 작성한 내용을 저장하자.</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">git</span> <span class="token function">add</span> .github/
$ cz c

? Select type: config
? Changed files or directory scope: .github
? Input message: Add changelog and release action when bump commit on main

<span class="token punctuation">[</span>config<span class="token punctuation">]</span> <span class="token punctuation">(</span>.github<span class="token punctuation">)</span> Add changelog and release action when bump commit on main</code></pre></div><p>이제 Github Repo로 <code class="language-text">git push</code> 하자.</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">git</span> push origin main</code></pre></div><p>웹 브라우저에서 Github Repo에 들어가 Actions 탭을 확인해보면 다음처럼 워크플로우가 성공적으로 잘 작동한 것을 볼 수 있다.</p><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:63.51351351351351%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACAElEQVQ4y52SUZOaMBDHeWvBtlfPSkVBAQkJJEAgICreS79NX+/urc59407Hx0phO4leO+2czrQPv9mdTfLP/jfRzPHbPSHBnqdkP3eme/31q/3A0PeGoat4Cbn+ZmDI+GVg6E/vDP3B0PUbjYsV1Ns7qNYNZKKGYrWFotqAWDWQFSsgNIOI8RfIgWUC4iQHXqxB8ApsZxFpEW/6MNsdg7Q5htmupdWnlmR1G7KyDZloES1aRMWZokVx0cZ806blXZuIRvKdiaaP881Xy/ZCjfAS0rLpJbzaQSa2QPM1UF6rSJISSFrBkmTgIQZemPyBj9OOFRvATBzGExtrtFhDzOuepFVPkgpYvgaWbyDiayDpCmQNMwFBxGEZcfBxpsQl57zDrAQU54ePswXWwkRASEWPmejlIRTnSsBFDBYBBS9kKncRVcjaX3TzZQyLID5Yjoc1Hyfyll7i4xSWUQaIFqoDxycwXSCYueE1upmr9hymcx9r51n0ZwDRXM0u5jW4IVOHbA9fRAqenCSHibR8HqwSlB26AYX5MgJpQ1r8bfkinYeTk6Dt/hLsnruU4v9IJxvxEDtYtpphKgVbH6c//pNWCYbsmxJ0g5M1afX5JWX+0p+7hovYcWK7RBvefniUvB+OVLwdjVU+Mq0Hczq/Ny3n3rTmV1Drj6blfB6OzJufORZT6bC6I6EAAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="1.png" title="1.png" src="/blog/static/71da462009217f5acba85b05de7a5caa/fcda8/1.png" srcSet="/blog/static/71da462009217f5acba85b05de7a5caa/12f09/1.png 148w,/blog/static/71da462009217f5acba85b05de7a5caa/e4a3f/1.png 295w,/blog/static/71da462009217f5acba85b05de7a5caa/fcda8/1.png 590w,/blog/static/71da462009217f5acba85b05de7a5caa/efc66/1.png 885w,/blog/static/71da462009217f5acba85b05de7a5caa/c83ae/1.png 1180w,/blog/static/71da462009217f5acba85b05de7a5caa/fa60d/1.png 1792w" sizes="(max-width: 590px) 100vw, 590px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
    </span></p><p>이제 Repo의 Code 탭에 들어와 확인해보면 bump 커밋이 생긴것과, Releases가 생성된 것을 볼 수 있다.</p><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:63.51351351351351%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACRElEQVQ4y4WSXW/TMBSGc8eSoU0I0a2l3ZK0seP4I048t0m/tmm/htvBHRX/GKFdsnR+UdJuDBhw8ej4HB898rHt9d4dbViabHJFN2ejwcY/eLUJ/IOneBgEm8PA/4Mg8DevD4M2fj4M/C9Hgf8x8P1jT5sppvUKtlogL6copwtoU0EVFiI3SHkOJvQLFN1+Jgvk5QxGWwxHIfN4uXRpsb5P1PKe6FXD7U3DdNWkatpQaZuEmybhZTNhRTNOi2ZMiybTVaMuVo0wi0aaxXdl146X86+nw5B4hOVIssJl+cyJogYRBoSXGKc5Jkx3ZHoGoWswY8HmpqvFVHU9MVUPEZEIE353Ogypt0uEY2rqiuoK6mIJaRbIdIVUWaTSQpRz5HYNXa0hqhosnyHh5aP4oZVHRNz1hxH1SKZ3Ql66croCUxYTlkMUFbieIVUXoKLsaqmwSLntpthJZMszYUi9NgmJdFRYJ8wliJqDqBqsWHVQNUciKoz5DMwuwEzdXcE4yxER9dsJ9yNHRLpEzBwz12DlFTJzBVZePq1JvkQilxDXa2R1DSYtxizvTviiMKbKRUS4MOF4iaiFCIQxRzSRSPUck8z8U9gW3f9oJ6G8cNXyxhFpXUyk+5uwiYjcRkRtY9oitzHZQ3/GtidheqtNtSXCdL0RVc1e+K175XaUVjphxf5f5YhTjTgt9lFjzMpf8pDkjy/8RJiI+9NhmHq9/tlty8ng/PZksFv3BufPeJbv907eh7t6f7Tn7FOvP/rw5m3v+AdmxFrb5JhslgAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="2.png" title="2.png" src="/blog/static/9115f02bfe640113b9553c08eb9ccc5d/fcda8/2.png" srcSet="/blog/static/9115f02bfe640113b9553c08eb9ccc5d/12f09/2.png 148w,/blog/static/9115f02bfe640113b9553c08eb9ccc5d/e4a3f/2.png 295w,/blog/static/9115f02bfe640113b9553c08eb9ccc5d/fcda8/2.png 590w,/blog/static/9115f02bfe640113b9553c08eb9ccc5d/efc66/2.png 885w,/blog/static/9115f02bfe640113b9553c08eb9ccc5d/c83ae/2.png 1180w,/blog/static/9115f02bfe640113b9553c08eb9ccc5d/fa60d/2.png 1792w" sizes="(max-width: 590px) 100vw, 590px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
    </span></p><p>Releases를 클릭해 그 내용을 확인해보면 Changelog 내용이 잘 들어가있는 것을 확인할 수 있다.</p><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:63.51351351351351%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB3ElEQVQ4y5WSSXPTMBTHfYIkdiYwDCamSfEmybIWL3KK04Xydbgabnj4xgzDkTjRY+Q4gdIUyuE3b7H091tkvZ4/a9MkagWL2+XZq9YeP2mnjt1Op07r2JPfsFvH2TOZjNvx6GlrGzsefbbHoy8ze/LRse2ZhaiAsr4Ftb4FWV1Bmq8hFQUkqYQYpxDhdLB0D6JAUglMlsAz1dusWAFPJbiuRy3CK434xSYW9QbLuiOy7jCvOpSWHWZqD6+6mBZdSLIuTLIuTssOMdWfQUz9QEzpiBZf5wsfWyHmECCmTTKRKwgwg8DksLhDSOQRE8c0hyjJjL8zsY/4d28REGu4oBNRadMykRWgtOwvxLSAiOZ3xA6CiVgBZqWJd/ucEfR/CWKutFCXwIq6P/hnVadEB/9hway6Bppd9H8nXPUMVfyN+4I+4mZ+uqzfg1RXYGZp5hMl+zn9t6CpMKa5zlc3kK1uwLSOmbq3mAcWdUIQ8R0Rlc4v3mlerjXhSodEPpaTFZo3tRXqcsuL9RazchtgsQ2JfAzdIPjt+Gx8xIGICrLVNbD87XER/25ZQDj4PuKb+cJPLNc7b1xv2czP3jQBoo0f0yaIaeMtg+blfNkcvp/m/MAn11t+eP7Cnf0EhhNWGuQxEwEAAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="3.png" title="3.png" src="/blog/static/c9bf719a1a221adcf00f7602a6868dcc/fcda8/3.png" srcSet="/blog/static/c9bf719a1a221adcf00f7602a6868dcc/12f09/3.png 148w,/blog/static/c9bf719a1a221adcf00f7602a6868dcc/e4a3f/3.png 295w,/blog/static/c9bf719a1a221adcf00f7602a6868dcc/fcda8/3.png 590w,/blog/static/c9bf719a1a221adcf00f7602a6868dcc/efc66/3.png 885w,/blog/static/c9bf719a1a221adcf00f7602a6868dcc/c83ae/3.png 1180w,/blog/static/c9bf719a1a221adcf00f7602a6868dcc/fa60d/3.png 1792w" sizes="(max-width: 590px) 100vw, 590px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
    </span></p><h3 id="직접-커스터마이징-하기" style="position:relative"><a href="#%EC%A7%81%EC%A0%91-%EC%BB%A4%EC%8A%A4%ED%84%B0%EB%A7%88%EC%9D%B4%EC%A7%95-%ED%95%98%EA%B8%B0" aria-label="직접 커스터마이징 하기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>직접 커스터마이징 하기</h3><p>위 내용은 공식 문서 메뉴얼에 있는 내용을 그대로 사용한 것이다.
그런데 이대로하면 Releases에 과거 버전부터 현재 버전까지 모든 내용이 담기게 된다.
버전이 업되고 커밋이 점점 많아지면 릴리즈 노트에 한 번에 많은 양이 담기게 된다.
또한 현재 릴리즈에 대한 내용만 있는게 아니라 관심 없는 이전의 내용도 한번에 봐야한다.</p><blockquote><p><code class="language-text">cz changelog &quot;특정 버전 이름&quot;</code> 명령어를 주면 모든 버전이 아닌 특정 버전에 대해서만 Changelog를 생성할 수 있다.
또한 <code class="language-text">--dry-run</code> 옵션을 주면 <code class="language-text">CHANGELOG.md</code> 파일을 생성하지 않고, stdout에 내용을 출력해준다.</p></blockquote><p>Githun Action 워크 플로우를 수정하여, 현재 bump 되는 버전의 Changelog만 Releases에 담기도록 수정해보자.</p><p><code class="language-text">.github/workflows/bump_version.yaml</code> 을 다음처럼 수정한다.</p><div class="gatsby-highlight has-highlighted-lines" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token comment"># .github/workflows/bump_version.yaml</span>
<span class="token key atrule">name</span><span class="token punctuation">:</span> Bump version

<span class="token key atrule">on</span><span class="token punctuation">:</span>
  <span class="token key atrule">push</span><span class="token punctuation">:</span>
    <span class="token key atrule">branches</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> main

<span class="token key atrule">jobs</span><span class="token punctuation">:</span>
  <span class="token key atrule">bump-version</span><span class="token punctuation">:</span>
    <span class="token key atrule">if</span><span class="token punctuation">:</span> <span class="token string">&quot;!startsWith(github.event.head_commit.message, &#x27;[bump]&#x27;)&quot;</span>
    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest
    <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">&quot;Bump version and create changelog with commitizen&quot;</span>
    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Check out
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v2
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">token</span><span class="token punctuation">:</span> <span class="token string">&quot;${{ secrets.GITHUB_TOKEN }}&quot;</span>
          <span class="token key atrule">fetch-depth</span><span class="token punctuation">:</span> <span class="token number">0</span>
<span class="gatsby-highlight-code-line">      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Set git user</span><span class="gatsby-highlight-code-line">        <span class="token key atrule">uses</span><span class="token punctuation">:</span> fregante/setup<span class="token punctuation">-</span>git<span class="token punctuation">-</span>user@v1</span><span class="gatsby-highlight-code-line">      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Set up Python 3.9</span><span class="gatsby-highlight-code-line">        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/setup<span class="token punctuation">-</span>python@v2</span><span class="gatsby-highlight-code-line">        <span class="token key atrule">with</span><span class="token punctuation">:</span></span><span class="gatsby-highlight-code-line">          <span class="token key atrule">python-version</span><span class="token punctuation">:</span> <span class="token number">3.9</span></span><span class="gatsby-highlight-code-line">      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Bump</span><span class="gatsby-highlight-code-line">        <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token punctuation">&gt;</span></span><span class="gatsby-highlight-code-line">          <span class="token comment"># Install commitizen.</span></span><span class="gatsby-highlight-code-line">          python <span class="token punctuation">-</span>m pip install <span class="token punctuation">-</span><span class="token punctuation">-</span>upgrade pip</span><span class="gatsby-highlight-code-line">          pip install commitizen</span><span class="gatsby-highlight-code-line">          </span><span class="gatsby-highlight-code-line">          <span class="token comment"># Bump version.</span></span><span class="gatsby-highlight-code-line">          cz bump</span><span class="gatsby-highlight-code-line">          </span><span class="gatsby-highlight-code-line">          <span class="token comment"># Push bump commit and tag.</span></span><span class="gatsby-highlight-code-line">          git push origin main</span><span class="gatsby-highlight-code-line">          git push origin &quot;HEAD<span class="token punctuation">:</span>main&quot; <span class="token punctuation">-</span><span class="token punctuation">-</span>tags</span><span class="gatsby-highlight-code-line">          </span><span class="gatsby-highlight-code-line">          <span class="token comment"># Save current version into environment var.</span></span><span class="gatsby-highlight-code-line">          echo &quot;REVISION=$(cz version <span class="token punctuation">-</span><span class="token punctuation">-</span>project)&quot; <span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span> $GITHUB_ENV</span><span class="gatsby-highlight-code-line">      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Create Changelog</span><span class="gatsby-highlight-code-line">        <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token punctuation">&gt;</span></span><span class="gatsby-highlight-code-line">          <span class="token comment"># Create Changelog for release.</span></span><span class="gatsby-highlight-code-line">          cz changelog <span class="token punctuation">-</span><span class="token punctuation">-</span>dry<span class="token punctuation">-</span>run $<span class="token punctuation">{</span><span class="token punctuation">{</span> env.REVISION <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token punctuation">&gt;</span> &quot;body.md&quot;</span>      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Release
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> softprops/action<span class="token punctuation">-</span>gh<span class="token punctuation">-</span>release@v1
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">body_path</span><span class="token punctuation">:</span> <span class="token string">&quot;body.md&quot;</span>
          <span class="token key atrule">tag_name</span><span class="token punctuation">:</span> v$<span class="token punctuation">{</span><span class="token punctuation">{</span> env.REVISION <span class="token punctuation">}</span><span class="token punctuation">}</span>
        <span class="token key atrule">env</span><span class="token punctuation">:</span>
          <span class="token key atrule">GITHUB_TOKEN</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.GITHUB_TOKEN <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></div><p>이전에는 Commitizen 측에서 만들어둔 <code class="language-text">commitizen-tools/commitizen-action@master</code> 워크 플로우를 가져다 사용했는데, 이제는 가져오지 않고 직접 워크플로우를 작성한다.</p><p>수정된 워크플로우는 다음과 같다.</p><ul><li>뒤에 있을 <code class="language-text">git push</code> 를 위해 git 유저를 셋업한다.</li><li><code class="language-text">pip</code> 를 사용할 수 있도록 <code class="language-text">python</code> 을 설치 및 셋업해둔다.</li><li><code class="language-text">pip</code>로 <code class="language-text">commitizen</code> 을 설치한다.</li><li><code class="language-text">cz bump</code> 명령어를 실행하고, 만들어진 bump 커밋과 태그를 push 한다.</li><li>방금 bump 된 현재 버전을 저장해둔다.</li><li><code class="language-text">cz changelog &quot;현재 버전&quot;</code> 명령으로 Changelog를 만들고, 이를 Releases에 작성한다.</li></ul><p>변경 내용을 저장하고 <code class="language-text">git push</code> 해보자.</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">git</span> <span class="token function">add</span> .github/
$ cz c

? Select type: config
? Changed files or directory scope: .github
? Input message: Add step <span class="token keyword">for</span> changelog about only current version

<span class="token punctuation">[</span>config<span class="token punctuation">]</span> <span class="token punctuation">(</span>.github<span class="token punctuation">)</span> Add step <span class="token keyword">for</span> changelog about only current version

$ <span class="token function">git</span> push origin main</code></pre></div><p>다음처럼 Action이 잘 성공한 뒤 Releases가 의도한대로 잘 작성된 것을 알 수 있다.</p><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:63.51351351351351%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB5UlEQVQ4y42STXPaMBCGfWtsOsmkFAoNpMZGli1ZlmVbBCghh/6aXkNv9eQfdzo5FgVtR7ZpjNOvwzPa1cerV7uyhoPzkkSoTBgur6fvS/vsVdlz7ArHPvsVd3Ecu3zdc8z4tefYD+eOvXNs+8JK8wUs1rcglx+BZwvI5BqEXIEolhDzAkLKIYxTiF4gIOY5ECaAZzeQpxIm0w+RRbONDsV2H/DNHoutihefVJQuFWaFwkwqRHMV0LwaEc0UIpki6Uol8laxfGP4kcitptn62+jKDSwUcUBEaBRLHcQFzKP0BEQEIJqBH3KYBazCCxi4KD7Ghzqnj6OJi61Zvagxk5rla/CiBDx8SnWwk0fJAgKam/xQz8WP48kMW159q8Y007FYQZhIQMQ4qh0aZ90LDHMiqvVTwZbDkEktbu6AZWsIWVEJ/Ums4/qloHE4j1JNuKxqhlkBOC6OT/qX6O8FA5ppkt+BT/Km+MlfxQxNsw5mb1fwYBwittQ+ybWHk//C/A4PG0HWEqxvU36UPvk4efIMYdrAK/yTvIkxr/fiRDVP/l512Z1T84daHeXghekzVS5acT0/a2p4xEXxfjRxQ+tNf7C77A92b99d3Q/G0/uhYTR5pp134/H1cfwyHE8/X/aHFz8B6nVWWlOGDUwAAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="4.png" title="4.png" src="/blog/static/201685241e9066266fb2882b575fe25f/fcda8/4.png" srcSet="/blog/static/201685241e9066266fb2882b575fe25f/12f09/4.png 148w,/blog/static/201685241e9066266fb2882b575fe25f/e4a3f/4.png 295w,/blog/static/201685241e9066266fb2882b575fe25f/fcda8/4.png 590w,/blog/static/201685241e9066266fb2882b575fe25f/efc66/4.png 885w,/blog/static/201685241e9066266fb2882b575fe25f/c83ae/4.png 1180w,/blog/static/201685241e9066266fb2882b575fe25f/fa60d/4.png 1792w" sizes="(max-width: 590px) 100vw, 590px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
    </span></p><h2 id="나가며" style="position:relative"><a href="#%EB%82%98%EA%B0%80%EB%A9%B0" aria-label="나가며 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>나가며</h2><p>사실 커스터마이징할려면 생각보다 작성해야할게 많기 때문에, 되도록이면 기존에 있는 프리셋을 사용하기를 권장한다.
내 경험상 대부분 따로 설정안하고 프리셋 기본 값인 Conventional Commit을 따라가도 충분했다.
그럼에도, 일반적인 상황이 아니거나 이미 나름의 커밋 규칙이 있는 팀들은 Commitizen을 커스터마이징해서 사용하지 않을까 싶다.</p><p>개인적으로 Commitizen은 간단하면서도 참 잘만든 도구라 생각한다.
Semantic Versioning에 묶여있기는 하지만, 아직까지 Semantic Versioning이 별로라 생각든적이 잘 없다.
다른 Versioning 방법으로 Calander Versioning이 있기는 한데, 글쎄? 아직까진 굳이 Semantic Versioning과 Commitizen을 쓰지 않을 이유를 찾지 못했다.</p><p>추후에 이렇게 쓰다 문제가 생기게 되면, 그 때 다시 관련 글을 적어봐야겠다.</p><blockquote><p>여기서 실습한 내용은 <a href="https://github.com/heumsi/commitizen-customize-playground">여기</a>에서 확인할 수 있다.</p></blockquote><h2 id="참고한-글" style="position:relative"><a href="#%EC%B0%B8%EA%B3%A0%ED%95%9C-%EA%B8%80" aria-label="참고한 글 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>참고한 글</h2><p>아래 내용들을 참고했다.</p><ul><li><a href="https://commitizen-tools.github.io/commitizen/">https://commitizen-tools.github.io/commitizen/</a></li><li><a href="https://github.com/commitizen-tools/commitizen-action">https://github.com/commitizen-tools/commitizen-action</a></li></ul></div><div id="disqus_thread"></div></main><footer><ul class="external-links"><li><a href="https://www.facebook.com/heumsi/"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="facebook" class="svg-inline--fa fa-facebook " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.8 90.69 226.4 209.3 245V327.7h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.3 482.4 504 379.8 504 256z"></path></svg></a></li><li><a href="https://www.linkedin.com/in/siheum-jeon-04222a1b3/"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="linkedin" class="svg-inline--fa fa-linkedin " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></a></li><li><a href="https://github.com/heumsi/"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" class="svg-inline--fa fa-github " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3 .3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5 .3-6.2 2.3zm44.2-1.7c-2.9 .7-4.9 2.6-4.6 4.9 .3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3 .7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3 .3 2.9 2.3 3.9 1.6 1 3.6 .7 4.3-.7 .7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3 .7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3 .7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></li><li><a href="https://bit.ly/3zAT8Ab"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="file-lines" class="svg-inline--fa fa-file-lines " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path fill="currentColor" d="M256 0v128h128L256 0zM224 128L224 0H48C21.49 0 0 21.49 0 48v416C0 490.5 21.49 512 48 512h288c26.51 0 48-21.49 48-48V160h-127.1C238.3 160 224 145.7 224 128zM272 416h-160C103.2 416 96 408.8 96 400C96 391.2 103.2 384 112 384h160c8.836 0 16 7.162 16 16C288 408.8 280.8 416 272 416zM272 352h-160C103.2 352 96 344.8 96 336C96 327.2 103.2 320 112 320h160c8.836 0 16 7.162 16 16C288 344.8 280.8 352 272 352zM288 272C288 280.8 280.8 288 272 288h-160C103.2 288 96 280.8 96 272C96 263.2 103.2 256 112 256h160C280.8 256 288 263.2 288 272z"></path></svg></a></li></ul><p class="copy-right">@ heumsi</p></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/posts/commitizen-customization/";window.___webpackCompilationHash="9023d6fb65f6071942db";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-4aa291e7e6681714b3e8.js"],"app":["/app-c321c5efdf12999a1dd7.js"],"component---src-components-templates-log-js":["/component---src-components-templates-log-js-8be2b192cec9967ef4ea.js"],"component---src-components-templates-post-js":["/component---src-components-templates-post-js-d80014afc9ad124b5ee3.js"],"component---src-pages-404-js":["/component---src-pages-404-js-5ed0d86fb0763a04a4b4.js"],"component---src-pages-index-js":["/component---src-pages-index-js-67136b30be5717c21631.js"],"component---src-pages-logs-index-js":["/component---src-pages-logs-index-js-bf19e8f568991d11bb86.js"],"component---src-pages-posts-index-js":["/component---src-pages-posts-index-js-2779df3cf8aef25ec545.js"]};/*]]>*/</script><script src="/blog/polyfill-4aa291e7e6681714b3e8.js" nomodule=""></script><script src="/blog/app-c321c5efdf12999a1dd7.js" async=""></script><script src="/blog/framework-c9b92197cbae3c33e091.js" async=""></script><script src="/blog/webpack-runtime-d16735df36b4c0712223.js" async=""></script></body></html>