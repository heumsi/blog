---
title: Commitizen ì„¤ì • ì»¤ìŠ¤í„°ë§ˆì´ì§•í•˜ê¸°
subTitle: í•˜ë‚˜ì”© ì‘ì„±í•˜ë©° ì•Œì•„ë³´ëŠ” Commitizenì˜ ì„¤ì • ê°’ë“¤
date: 2022-06-26
tags:
  - Commitizen
  - Git
thumbnail: ./thumbnail.png
---

## ë“¤ì–´ê°€ë©°

[Commitizen](https://commitizen-tools.github.io/commitizen/)ì€ git commit ê´€ë¦¬ ë° í”„ë¡œì íŠ¸ versioning ìë™í™”ì— ë§¤ìš° ìœ ìš©í•œ ë„êµ¬ë‹¤.
ì´ì „ì— ["Commitizenìœ¼ë¡œ ì»¤ë°‹, ë²„ì „ ê´€ë¦¬í•˜ê¸°"](https://dailyheumsi.tistory.com/266) ê¸€ì„ í†µí•´ Commitizenì´ ë¬´ì—‡ì´ê³  ì–´ë–»ê²Œ ì“°ëŠ”ì§€ë¥¼
ì†Œê°œí–ˆì—ˆë‹¤. ì € ê¸€ì„ ì“´ ì´í›„ì—ë„ ë‚˜ëŠ” ì­ˆìš± ì˜ ì“°ê³ ìˆë‹¤.

ê·¸ë ‡ê²Œ ì­ˆìš± ì“°ë‹¤ë³´ë‹ˆ ê²½ìš°ì— ë”°ë¼ì„œ Commitizenì„ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•˜ì—¬ ì“°ê³  ì‹¶ì„ ë•Œë„ ì¢…ì¢… ìˆì—ˆëŠ”ë°, ì»¤ìŠ¤í„°ë§ˆì´ì§•í•˜ëŠ” ì •í™•í•œ ë°©ë²•ì„ ì˜ ëª°ë¼ì„œ ê³µì‹ ë¬¸ì„œ ì½ëŠ” ê²ƒì„ ë¯¸ë¤„ë§Œ ë’€ë‹¤.
ê·¸ëŸ¬ë‹¤ ì´ë²ˆ ê¸°íšŒì— ê³µì‹ ë¬¸ì„œë¥¼ ì •ë…í•˜ë©° ì»¤ìŠ¤í„°ë§ˆì´ì§•í•˜ëŠ” ë°©ë²•ì„ ì‚´í´ë³´ì•˜ë‹¤.

ì´ ê¸€ì—ì„œëŠ” Commitizen ì„¤ì •ì„ ì°¨ê·¼ì°¨ê·¼ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•´ë‚˜ê°€ëŠ” ê³¼ì •ì— ëŒ€í•´ ì†Œê°œí•´ë³´ë ¤í•œë‹¤.
Commitizenì„ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•´ì„œ ì“°ê³  ì‹¶ì€ ë¶„ë“¤ì—ê²Œ ì´ ê¸€ì´ ë„ì›€ì´ ë˜ë©´ ì¢‹ê² ë‹¤.

> Commitizenì„ ì²˜ìŒ ì ‘í•˜ëŠ” ë¶„ë“¤ì—ê² ì´ ë‚´ìš©ì´ ì–´ë ¤ìš¸ ìˆ˜ ìˆë‹¤.
ë§Œì•½ Commitizenì— ëŒ€í•´ ë¨¼ì € ì•Œê³ ì‹¶ë‹¤ë©´ ì´ì „ì— ì‘ì„±í•œ ê¸€ì¸ ["Commitizenìœ¼ë¡œ ì»¤ë°‹, ë²„ì „ ê´€ë¦¬í•˜ê¸°"](https://dailyheumsi.tistory.com/266)ì„ ë¨¼ì € ì½ì–´ë³´ê¸°ë¥¼ ê¶Œì¥í•œë‹¤.

## ì„¤ì • íŒŒì¼ ìƒì„±í•˜ê¸°

Commitizen ì„¤ì • ê°’ì€ ë‹¤ìŒ ì¤‘ í•˜ë‚˜ì˜ íŒŒì¼ì— ì‘ì„±í•œ ë’¤, í”„ë¡œì íŠ¸ ë£¨íŠ¸ ê²½ë¡œì— ì €ì¥í•˜ë©´ ëœë‹¤.

- `pyproject.toml`
- `cz.toml` í˜¹ì€ `.cz.toml`
- `cz.yaml` í˜¹ì€ `.cz.yaml`
- `cz.json` í˜¹ì€ `.cz.json`

ì´ ì¤‘ì—ì„œ `pyproject.toml` ì€ íŒŒì´ì¬ì„ ì•ˆì“°ëŠ” ë¶„ë“¤ì—ê²ŒëŠ” ì¢€ ë‚¯ì„¤ ìˆ˜ ìˆëŠ”ë°, ì´ íŒŒì¼ì€ íŒŒì´ì¬ í”„ë¡œì íŠ¸ì—ì„œ ë©”íƒ€ ì •ë³´ë¥¼ ë‹´ì„ ë•Œ ì‚¬ìš©ë˜ëŠ” íŒŒì¼ì´ë‹¤.
ë‚˜ë¨¸ì§€ íŒŒì¼ í¬ë§·ì€ ì—¬íƒ€ ë‹¤ë¥¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì • íŒŒì¼ë“¤ê³¼ ë¹„ìŠ·í•œ í˜•íƒœê°™ë‹¤.

ì„¤ì • íŒŒì¼ì€ `.yaml` í¬ë§·ì— ë‹´ëŠ”ê²Œ ì•„ë¬´ë˜ë„ ì´ìœê±° ê°™ìœ¼ë‹ˆ, ë¨¼ì € ë‹¤ìŒì²˜ëŸ¼ `.cz.yaml` ì„ ë§Œë“  ë’¤ ë‹¤ìŒì²˜ëŸ¼ ì‘ì„±í•œë‹¤.

```yaml
# .cz.yaml

commitizen:
  name: cz_conventional_commits
```

> ì‚¬ì‹¤ `cz init` ëª…ë ¹ì–´ë¡œ `.cz.yaml` íŒŒì¼ì„ ë§Œë“¤ì–´ë„ ëœë‹¤. ë‹¤ë§Œ ì—¬ê¸°ì„œëŠ” ì²˜ìŒë¶€í„° ì§ì ‘ ì‘ì„±í•´ë³¸ë‹¤.

## í”„ë¦¬ì…‹ ì‚´í´ë³´ê¸°

`name` ì—ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ê°’ë“¤ì´ ë“¤ì–´ê°ˆ ìˆ˜ ìˆë‹¤.

- `cz_conventional_commits`
- `cz_jira`
- `cz_commitizen_emoji`
- `cz_customize`

ì´ ì¤‘ ìœ„ì— 3ê°œëŠ” í”„ë¦¬ì…‹ì´ë‹¤. ì¦‰ ë¯¸ë¦¬ ë§Œë“¤ì–´ì§„ ì„¤ì • ê°’ë“¤ì´ê³ , ê·¸ëƒ¥ ê°€ì ¸ë‹¤ ì“°ë©´ ì•Œì•„ì„œ ì ìš©ëœë‹¤.
ê·¸ë¦¬ê³  ë§ˆì§€ë§‰ `cz_customize` ëŠ” ì´ ê¸€ì—ì„œ ëª©ì ìœ¼ë¡œí•˜ëŠ” ì»¤ìŠ¤í„°ë§ˆì´ì§•ì„ í•  ë•Œ ì‚¬ìš©í•œë‹¤.

ì»¤ìŠ¤í„°ë§ˆì´ì§•í•˜ê¸° ì•ì„œ, ë¨¼ì € ìœ„ 3ê°œì˜ í”„ë¦¬ì…‹ì„ ê°„ë‹¨íˆ ì‚´í´ë³´ì.

### `cz_conventional_commits`

[conventional commits](https://www.conventionalcommits.org/en/v1.0.0/) ì„ ë”°ë¥´ëŠ” ì„¤ì •ì´ë‹¤.
ì´ëŠ” í”„ë¦¬ì…‹ì˜ ê¸°ë³¸ ê°’ìœ¼ë¡œ ìœ„ì²˜ëŸ¼ ì„¤ì • íŒŒì¼ì„ ë”°ë¡œ ì‘ì„±í•˜ì§€ ì•Šìœ¼ë©´ ì´ ì„¤ì •ì„ ê·¸ëŒ€ë¡œ ë”°ë¥´ê²Œ ëœë‹¤.
ì•„ë§ˆ Commitizenì„ ì‚¬ìš©í•˜ëŠ” ê±°ì˜ ëŒ€ë¶€ë¶„ì˜ ì‚¬ëŒë“¤ì´ ì´ í”„ë¦¬ì…‹ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ì§€ ì•Šì„ê¹Œ ì‹¶ë‹¤.

ì…¸ì—ì„œ `cz c` í–ˆì„ ë•Œ ë“±ì¥í•˜ëŠ” ëª¨ìŠµì€ ë‹¤ìŒê³¼ ê°™ë‹¤.
ê°€ì¥ ë§ˆì§€ë§‰ì— ìµœì¢… ì»¤ë°‹ì˜ í˜•íƒœê°€ ë‚˜ì˜¨ë‹¤.

```bash
$ cz c

? Select the type of change you are committing (Use arrow keys)
   fix: A bug fix. Correlates with PATCH in SemVer
   feat: A new feature. Correlates with MINOR in SemVer
 Â» docs: Documentation only changes
   style: Changes that do not affect the meaning of the code (white-space, formatting, missin
   refactor: A code change that neither fixes a bug nor adds a feature
   perf: A code change that improves performance
   test: Adding missing or correcting existing tests
   build: Changes that affect the build system or external dependencies (example scopes: pip,
   ci: Changes to our CI configuration files and scripts (example scopes: GitLabCI)

? What is the scope of this change? (class or file name): (press [enter] to skip)
 README.md

? Write a short and imperative summary of the code changes: (lower case and no period)
 í”„ë¡œì íŠ¸ ì†Œê°œ ë¶€ë¶„ì— ìˆëŠ” ì˜¤íƒ€ë¥¼ ìˆ˜ì •í•œë‹¤

? Provide additional contextual information about the code changes: (press [enter] to skip)
 í”„ë¡œì íŠ¸ ì†Œê°œì— ì´ì „ì— ì˜ëª»í•œ ë¶€ë¶„ì„ ìˆ˜ì •í•œë‹¤

? Is this a BREAKING CHANGE? Correlates with MAJOR in SemVer No
? Footer. Information about Breaking Changes and reference issues that this commit closes: (press [enter] to skip)


docs(README.md): í”„ë¡œì íŠ¸ ì†Œê°œ ë¶€ë¶„ì— ìˆëŠ” ì˜¤íƒ€ë¥¼ ìˆ˜ì •í•œë‹¤

í”„ë¡œì íŠ¸ ì†Œê°œì— ì´ì „ì— ì˜ëª»í•œ ë¶€ë¶„ì„ ìˆ˜ì •í•œë‹¤.
```

### `cz_jira`

ì´ë¦„ ê·¸ëŒ€ë¡œ jiraì˜ ì»¤ë°‹ ì»¨ë²¤ì…˜ì„ ë”°ë¥´ëŠ”ê±° ê°™ì€ë°, ì‚¬ì‹¤ ë‚˜ë„ ì•ˆì¨ë´ì„œ ì˜ ëª¨ë¥¸ë‹¤.

ì…¸ì—ì„œ `cz c` í–ˆì„ ë•Œ ë“±ì¥í•˜ëŠ” ëª¨ìŠµì€ ë‹¤ìŒê³¼ ê°™ë‹¤.
ê°€ì¥ ë§ˆì§€ë§‰ì— ìµœì¢… ì»¤ë°‹ì˜ í˜•íƒœê°€ ë‚˜ì˜¨ë‹¤.

```bash
$ cz c

? Git commit message (required):
 í”„ë¡œì íŠ¸ ì†Œê°œ ë¶€ë¶„ì— ìˆëŠ” ì˜¤íƒ€ë¥¼ ìˆ˜ì •í•œë‹¤
? Jira Issue ID(s) separated by spaces (required):
 H-0001
? Workflow command (testing, closed, etc.) (optional):

? Time spent (i.e. 3h 15m) (optional):
 1h
? Jira comment (optional):


í”„ë¡œì íŠ¸ ì†Œê°œ ë¶€ë¶„ì— ìˆëŠ” ì˜¤íƒ€ë¥¼ ìˆ˜ì •í•œë‹¤ H-0001 #time 1h
```

### `cz_commitizen_emoji`

`conventional commits` ì— ì´ëª¨ì§€ê°€ ë¶™ì€ í˜•íƒœë‹¤.
ì´ í”„ë¦¬ì…‹ì„ ì‚¬ìš©í•˜ë ¤ë©´ ë¨¼ì € ë‹¤ìŒì²˜ëŸ¼ `commitizen-emoji` íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•´ì•¼ í•œë‹¤.

```bash
$ pip install commitizen-emoji
```

ì…¸ì—ì„œ `cz c` í–ˆì„ ë•Œ ë“±ì¥í•˜ëŠ” ëª¨ìŠµì€ ë‹¤ìŒê³¼ ê°™ë‹¤.
ê°€ì¥ ë§ˆì§€ë§‰ì— ìµœì¢… ì»¤ë°‹ì˜ í˜•íƒœê°€ ë‚˜ì˜¨ë‹¤.

```bash
$ cz c

? Select the type of change you are committing (Use arrow keys)
   ğŸ› fix: A bug fix
   ğŸ‰ feat: A new feature
 Â» ğŸ“œ docs: Documentation only changes
   ğŸ˜ style: Changes that do not affect the meaning of the code (white-space, formatting, missing semi-colons, e
   ğŸ”§ refactor: A code change that neither fixes a bug nor adds a feature
   ğŸš€ perf: A code change that improves performance
   ğŸš¦ test: Adding missing or correcting existing tests
   ğŸš§ build: Changes that affect the build system or external dependencies (example scopes: pip, docker, npm)
   ğŸ›¸ ci: Changes to our CI configuration files and scripts (example scopes: GitLabCI)
? Scope. Could be anything specifying place of the commit change (users, db, poll):
 README.md
? Subject. Concise description of the changes. Imperative, lower case and no final dot:
 í”„ë¡œì íŠ¸ ì†Œê°œ ë¶€ë¶„ì— ìˆëŠ” ì˜¤íƒ€ë¥¼ ìˆ˜ì •í•œë‹¤
? Time spent (i.e. 3h 15m) (optional):
 1h
? Tasks ID(s) separated by spaces (optional):
 H-0001
? Is this a BREAKING CHANGE? No
? Body. Motivation for the change and contrast this with previous behavior:
 í”„ë¡œì íŠ¸ ì†Œê°œì— ì´ì „ì— ì˜ëª»í•œ ë¶€ë¶„ì„ ìˆ˜ì •í•œë‹¤

ğŸ“œ docs(README.md): í”„ë¡œì íŠ¸ ì†Œê°œ ë¶€ë¶„ì— ìˆëŠ” ì˜¤íƒ€ë¥¼ ìˆ˜ì •í•œë‹¤ >>> â° 1h >>> Tasks: #H-0001

í”„ë¡œì íŠ¸ ì†Œê°œì— ì´ì „ì— ì˜ëª»í•œ ë¶€ë¶„ì„ ìˆ˜ì •í•œë‹¤
```

## ì»¤ìŠ¤í„°ë§ˆì´ì§• ì‹œì‘í•˜ê¸°

ìœ„ í”„ë¦¬ì…‹ì„ ì•ˆì“°ê³ , ë‚´ê°€ ì›í•˜ëŠ”ëŒ€ë¡œ ì„¤ì • ê°’ì„ ì‘ì„±í•˜ê³  ì‹¶ë‹¤ë©´, ì§ì ‘ Commitizen ì„¤ì • íŒŒì¼ì„ ì‘ì„±í•˜ë©° ì»¤ìŠ¤í„°ë§ˆì´ì§• í•´ì•¼í•œë‹¤.
í”„ë¦¬ì…‹ë„ ì‚´í´ë´¤ìœ¼ë‹ˆ ì´ì œ ë³¸ê²©ì ìœ¼ë¡œ ì»¤ìŠ¤í„°ë§ˆì´ì§•ì„ ì‹œì‘í•´ë³´ì.

ë¨¼ì € ë‹¤ìŒì²˜ëŸ¼ `.cz.yaml` ì—ì„œ `name` ì˜ ê°’ì„ `cz_customize` ë¡œ ìˆ˜ì •í•˜ê³  `customize` ì„ ì¶”ê°€í•œë‹¤.

```yaml
# .cz.yaml

commitizen:
  name: cz_customize
  customize:
```

í”„ë¦¬ì…‹ì„ ì“°ì§€ ì•Šê³ , ì§ì ‘ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•´ì„œ ì“°ê² ë‹¤ëŠ” í‘œí˜„ì´ë‹¤.
ê·¸ë¦¬ê³  ëŒ€ë¶€ë¶„ì˜ ì»¤ìŠ¤í„°ë§ˆì´ì§• ì„¤ì • ê°’ë“¤ì€ `customize:` ë‚´ì— ë‹´ê¸¸ ì˜ˆì •ì´ë‹¤.

## ì§ˆë¬¸ ì‘ì„±í•˜ê¸°

ê°€ì¥ ë¨¼ì €í•  ì¼ì€ `cz c` ëª…ë ¹ì–´ ì‹œì— ì–´ë–¤ ì§ˆë¬¸ ë¦¬ìŠ¤íŠ¸ë¥¼ ë³´ì—¬ì¤„ ê²ƒì¸ê°€ë¥¼ ê²°ì •í•˜ëŠ” ì¼ì´ë‹¤.
`.cz.yaml` ì„ ë‹¤ìŒì²˜ëŸ¼ ìˆ˜ì •í•œë‹¤.

```yaml{6-24}
# .cz.yaml

commitizen:
  name: cz_customize
  customize:
    questions:
    - choices:
      - name: new feature
        value: feature
      - name: bug fix
        value: bug fix
      - name: config
        value: config
      - name: breaking changes
        value: break
      message: 'Select type:'
      name: type
      type: list
    - message: 'Changed files or directory scope:'
      name: changed_scope
      type: path
    - message: 'Input message:'
      name: message
      type: input
```

`questions` ì— ëŒ€í•œ ë‚´ìš©ì„ ì¶”ê°€í–ˆë‹¤. ì´ ê°’ë“¤ì€ `cz c` í•˜ë©´ ì œì¼ ë¨¼ì € ë³´ì´ëŠ” ì§ˆë¬¸ë“¤ì´ë‹¤.

`questions` ëŠ” `message`, `name`, `type` í‚¤ë¥¼ ê°€ì§„ ì˜¤ë¸Œì íŠ¸ë¥¼ ë‹´ìœ¼ë©°, `type` ê°’ì— ë”°ë¼ `choices`ì™€ ê°™ì€ í‚¤ê°€ ì¶”ê°€ë¡œ ë¶™ê¸°ë„ í•œë‹¤.
ì´ `type` ê°’ì˜ ì¢…ë¥˜ëŠ” ìœ„ì— ë“±ì¥í•œ `input`, `path`, `list` ë§ê³  ë” ìˆëŠ”ë°,
ì´ì— ëŒ€í•´ ë” ê¶ê¸ˆí•˜ë©´ [ê³µì‹ ë¬¸ì„œ](https://commitizen-tools.github.io/commitizen/customization/#detailed-questions-content)ë¥¼ ì°¸ê³ í•˜ì.

`questions` ë‚´ ì˜¤ë¸Œì íŠ¸ë“¤ì€ ê°ê°ì´ í•˜ë‚˜ì˜ ì§ˆë¬¸ì´ ë˜ë©° ìœ ì €ëŠ” ì´ ì§ˆë¬¸ì— ëŒ€í•œ ê°’ì„ ì…ë ¥í•˜ê²Œ ëœë‹¤.
ì‚¬ìš©ìê°€ ì…ë ¥í•œ ê°’ì€ `name` ìœ¼ë¡œ ì •ì˜í•œ ë³€ìˆ˜ì— ë‹´ê¸°ê²Œ ë˜ëŠ”ë°, ì˜ˆë¥¼ ë“¤ì–´ ì‚¬ìš©ìê°€ `Select type:` ì§ˆë¬¸ì— `config` ë¥¼ ì…ë ¥í–ˆë‹¤ë©´,
`type` ì´ë¼ëŠ” ë³€ìˆ˜ì—ëŠ” `config` ë¼ëŠ” ê°’ì´ ë‹´ê¸°ê²Œ ë˜ëŠ” ê²ƒì´ë‹¤.

## ë©”ì‹œì§€ í…œí”Œë¦¿ ì‘ì„±í•˜ê¸°

ì´ì œ ì»¤ë°‹ ë©”ì‹œì§€ í˜•íƒœë¥¼ êµ¬ì„±í•´ë³´ì.
`.cz.yaml` ì„ ë‹¤ìŒì²˜ëŸ¼ ìˆ˜ì •í•œë‹¤.

```yaml{25-26}
# .cz.yaml

commitizen:
  name: cz_customize
  customize:
    questions:
    - choices:
      - name: new feature
        value: feature
      - name: bug fix
        value: bug fix
      - name: config
        value: config
      - name: breaking changes
        value: break
      message: 'Select type:'
      name: type
      type: list
    - message: 'Changed files or directory scope:'
      name: changed_scope
      type: path
    - message: 'Input message:'
      name: message
      type: input
    example: '[bug fix] (README.md) Fix Typo'
    message_template: '[{{ type }}]{% if changed_scope %} ({{ changed_scope }}){% endif %} {{ message }}'
```

`example` ê³¼ `message_template` ì„ ì¶”ê°€í–ˆë‹¤.

- `example` ì€ ì»¤ë°‹ ë©”ì‹œì§€ì˜ ì˜ˆì‹œë¥¼ ë³´ì—¬ì¤€ë‹¤.
  - `cz example` ëª…ë ¹ ì‹œ ì´ ì˜ˆì‹œ ë¬¸êµ¬ê°€ ì¶œë ¥ëœë‹¤.
- `message_template`ëŠ” ì‹¤ì œë¡œ ì»¤ë°‹ ë©”ì‹œì§€ë¥¼ êµ¬ì„±í•˜ëŠ” ë°©ì‹ì´ë‹¤.
  - ìœ„ì—ì„œ ì…ë ¥ë°›ì€ ë³€ìˆ˜ë“¤ì„ ê°€ì§€ê³  ë©”ì‹œì§€ë¥¼ ì–´ë–»ê²Œ êµ¬ì„±í• ì§€ì— ëŒ€í•´ ì •ì˜í•œë‹¤.
  - íŒŒì´ì¬ì„ ì¨ë³¸ ì‚¬ëŒë“¤ì€ ì•Œê² ì§€ë§Œ, jinja2 í…œí”Œë¦¿ ë¬¸ë²•ì„ ì‚¬ìš©í•œë‹¤. (jinja2ë¥¼ ëª°ë¼ë„ ìƒê´€ì—†ë‹¤. ë‹¤ë§Œ ìœ„ê°™ì€ í˜•íƒœë¡œ êµ¬ì„±í•œë‹¤ ì •ë„ë§Œ ì•Œì•„ë„ ì¶©ë¶„í•˜ë‹¤.)

ì—¬ê¸°ê¹Œì§€ ì‘ì„±í•˜ê³  `cz c` ë¥¼ ì¹˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì˜ë„í•œëŒ€ë¡œ ì˜ ì‘ë™í•˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.

```bash
$ cz c

? Select type: config
? Changed files or directory scope: .cz.yaml
? Input message: Add .cz.yaml

[config] (.cz.yaml) Add .cz.yaml
```

ì‹¤ì œë¡œ `git log`ë¥¼ í†µí•´ ì»¤ë°‹ ë©”ì‹œì§€ë¥¼ í™•ì¸í•´ë³´ì.

```bash
$ git log --oneline

e9e996c (HEAD -> main) [config] (.cz.yaml) Add .cz.yaml
```

`message_template` ì—ì„œ ì •ì˜í•œëŒ€ë¡œ ë©”ì‹œì§€ê°€ ì˜ ì‘ì„±ë˜ì—ˆë‹¤.

## Bump ê·œì¹™ê³¼ ë©”ì‹œì§€ ì‘ì„±í•˜ê¸°

ì´ì¯¤ì—ì„œ `cz bump` ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•´ë³´ì.

```bash
$ cz bump

[NO_VERSION_SPECIFIED]
Check if current version is specified in config file, like:
version = 0.4.3
```

ë²„ì „ì´ ì§€ì •ë˜ì§€ ì•Šì•„ì„œ ì•„ë¬´ëŸ° ì¼ë„ ì¼ì–´ë‚˜ì§€ ì•ŠëŠ”ë‹¤.

`cz bump` ë¥¼ ì œëŒ€ë¡œ ì‹¤í–‰ì‹œí‚¤ê¸° ìœ„í•´ ìš°ë¦¬ëŠ” êµ¬ì²´ì ìœ¼ë¡œ ë‹¤ìŒì˜ ê²ƒë“¤ì„ ìƒê°í•´ì•¼ í•œë‹¤.

- ì–´ë–¤ ë©”ì‹œì§€(feature, bug fix ë“±)ë¥¼ ë‹´ì€ ì»¤ë°‹ì„ bump ê·œì¹™ì— í¬í•¨ì‹œí‚¬ ê²ƒì¸ì§€?
- ê° ì»¤ë°‹ ë©”ì‹œì§€ëŠ” Semantic Versioningì—ì„œ ì–´ë””(MAJOR, MINOR, PATCH ë“±)ì— í•´ë‹¹í•˜ëŠ”ì§€?
- bump ì»¤ë°‹ ë©”ì‹œì§€ëŠ” ì–´ë–¤ ë‚´ìš©ì„ ë‹´ì„ì§€?
- í˜„ì¬ ë²„ì „ì€ ëª‡ì´ê³ , Versioningì´ ëª…ì‹œëœ ë‹¤ë¥¸ íŒŒì¼ì´ ìˆëŠ”ì§€?

ì´ëŸ¬í•œ ë‚´ìš©ì„ ë‹´ì•„ `.cz.yaml` ì„ ë‹¤ìŒì²˜ëŸ¼ ìˆ˜ì •í•˜ì.

```yaml{27-37}
# .cz.yaml

commitizen:
  name: cz_customize
  customize:
    questions:
    - choices:
      - name: new feature
        value: feature
      - name: bug fix
        value: bug fix
      - name: config
        value: config
      - name: breaking changes
        value: break
      message: 'Select type:'
      name: type
      type: list
    - message: 'Changed files or directory scope:'
      name: changed_scope
      type: path
    - message: 'Input message:'
      name: message
      type: input
    example: '[bug fix] (README.md) Fix Typo'
    message_template: '[{{ type }}]{% if changed_scope %} ({{ changed_scope }}){% endif %} {{ message }}'
    bump_pattern: feature|bug fix|config|break
    bump_map:
      break: MAJOR
      bug fix: PATCH
      config: PATCH
      feature: MINOR
  bump_message: '[bump] from $current_version to $new_version'
  tag_format: v$major.$minor.$patch$prerelease
  version: 0.0.0
  version_files:
  - project.yaml:version
```

- `bump_pattern` ì€ bump ê·œì¹™ì— í¬í•¨í•  ì»¤ë°‹ ë©”ì‹œì§€ì˜ íŒ¨í„´ì´ë‹¤.
  - ì»¤ë°‹ ë©”ì‹œì§€ì— `feature`, `bug fix`, `config`, `break` ì´ í¬í•¨ë˜ì–´ ìˆë‹¤ë©´ ì´ ì»¤ë°‹ì€ bump ì‘ì—…ì— í¬í•¨ëœë‹¤.
- `bump_map` ì€ ê° ì»¤ë°‹ ë©”ì‹œì§€ê°€ Semantic Versioning ì¤‘ ì–´ë””ì— í•´ë‹¹í•˜ëŠ”ì§€ë¥¼ ë§¤í•‘ì— ëŒ€í•œ ì •ì˜ë‹¤.
  - `bump_pattern` ì—ì„œ ì •ì˜í•œ ì»¤ë°‹ ë©”ì‹œì§€ íŒ¨í„´ ê°’ë“¤ì„ í‚¤ë¡œ ê°€ì§€ê³ , Semantic Versioning í•˜ë‚˜ë¥¼ ê°’ìœ¼ë¡œ ê°€ì§„ë‹¤.
  - ì˜ˆë¥¼ ë“¤ì–´ bumpí•  ë•Œ `config` ê°€ í•˜ë‚˜ë¼ë„ ìˆìœ¼ë©´, í•´ë‹¹ bumpëŠ” MINOR ë²„ì „ì„ ì—…ë°ì´íŠ¸ í•œë‹¤.
- `bump_message` ëŠ” bump ì»¤ë°‹ ë©”ì‹œì§€ì— ëŒ€í•œ ì •ì˜ë‹¤.
  - `$current_version` ì™€ `$new_version` ë¡œ ì§ì „ ë²„ì „ê³¼ í˜„ì¬ bumpí•˜ëŠ” ë²„ì „ ê°’ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.
- `tag_format` ì€ bumpë¡œ ë§Œë“¤ì–´ì§€ëŠ” íƒœê·¸ì˜ í¬ë§·ì´ë‹¤.
- `version` ì€ í˜„ì¬ í”„ë¡œì íŠ¸ì˜ ë²„ì „ì´ë‹¤.
- `version_files` ì€ Semantic Versioningì´ ëª…ì‹œëœ ë‹¤ë¥¸ íŒŒì¼ ëª©ë¡ê³¼ í‚¤ ë˜ëŠ” ë³€ìˆ˜ ëª©ë¡ì´ë‹¤.
  - `{íŒŒì¼ ì´ë¦„(ê²½ë¡œ í¬í•¨)}:{í‚¤ ë˜ëŠ” ë³€ìˆ˜ ëª…}` í¬ë§·ìœ¼ë¡œ ì‘ì„±í•œë‹¤.
  - bump ì‹œ ì´ ëª©ë¡ì˜ ì•„ì´í…œë“¤ë„ ê°™ì´ ë²„ì „ì—…ì„ í•œë‹¤.
  - í•­ìƒ í•„ìš”í•œ ì„¤ì •ì€ ì•„ë‹Œë°, ë§Œì•½ í”„ë¡œì íŠ¸ì—ì„œ `.cz.yaml` ë§ê³  ë‹¤ë¥¸ ê³³ì—ì„œë„ í”„ë¡œì íŠ¸ Versioningì„ ëª…ì‹œí•´ì£¼ê³  ìˆë‹¤ë©´ ì´ ì„¤ì •ì´ í•„ìš”í•˜ë‹¤.


`version_files` ì— í•´ë‹¹í•˜ëŠ” `project.yaml` ì„ ìƒì„±í•œ ë’¤ ë‹¤ìŒì²˜ëŸ¼ ì‘ì„±í•˜ì.

```yaml
# project.yaml

version: 0.0.0
```

> ì¢…ì¢… í”„ë¡œì íŠ¸ ë‚´ë¶€ì— í”„ë¡œì íŠ¸ì— ëŒ€í•œ ë©”íƒ€ ë°ì´í„°ë¥¼ ëª…ì‹œí•œ ë³„ë„ì˜ íŒŒì¼ì„ ë§Œë“¤ì–´ë‘ê³¤ í•œë‹¤.
í”„ë¡œì íŠ¸ ì…ì¥ì—ì„œëŠ” `.cz.yaml` ì€ ê·¸ëƒ¥ ì»¤ë°‹ ê´€ë¦¬ ë„êµ¬ì— ëŒ€í•œ ì„¤ì • íŒŒì¼ì¼ ë¿ì´ë‹ˆ, `.cz.yaml` ì— ì˜ì¡´í•  ê²Œ ì•„ë‹ˆë¼ ìœ„ì™€ ê°™ì€ ë³„ë„ì˜ ë©”íƒ€ íŒŒì¼ì— ì˜ì¡´í•˜ëŠ”ê²Œ ì˜³ë‹¤ê³  íŒë‹¨í•˜ëŠ” ê²ƒì´ë‹¤.
ë§ˆì°¬ê°€ì§€ë¡œ `.cz.yaml`ë„ ì´ ë©”íƒ€ íŒŒì¼ì— ì˜ì¡´í•˜ëŠ” ê²ƒì´ê³ , ì´ë¥¼ `cz.yaml` ì—ì„œ `version_files` ì— ëª…ì‹œí•´ì£¼ëŠ” ê²ƒì´ë‹¤.

ì§€ê¸ˆê¹Œì§€ì˜ ë³€ê²½ì‚¬í•­ì„ ì»¤ë°‹í•´ë‘ì.

```bash
$ git add .cz.yaml project.yaml
$ cz c

? Select type: config
? Changed files or directory scope: .cz.yaml, project.yaml
? Input message: Add versioning

[config] (.cz.yaml, project.yaml) Add versioning
```

ì´ì œ `cz bump` ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•´ë³´ì.

```bash
$ cz bump

Tag v0.0.0 could not be found.
Possible causes:
- version in configuration is not the current version
- tag_format is missing, check them using 'git tag --list'

? Is this the first tag created? Yes
[bump] from 0.0.0 to 0.0.1
tag to create: v0.0.1
increment detected: PATCH
```

ì´ë²ˆì—” ì„±ê³µì ìœ¼ë¡œ ì˜ ì‘ë™í–ˆë‹¤!

`git log` ëª…ë ¹ì–´ë¡œ ì»¤ë°‹ ë©”ì‹œì§€ì™€ íƒœê·¸ê°€ ì˜ ìƒì„±ë˜ì—ˆëŠ”ì§€ í™•ì¸í•´ë³´ì.

```bash
$ git log --oneline

e397a76 (HEAD -> main, tag: v0.0.1) [bump] from 0.0.0 to 0.0.1
74f5e18 [config] (.cz.yaml, project.yaml) Add versioning
06d292b [config] (.cz.yaml) Add .cz.yaml
```

íƒœê·¸ê°€ ì˜ ìƒì„±ëœ ê²ƒì„ í™•ì¸í–ˆë‹¤.

ì´ì œ ì´ bump ì»¤ë°‹ì´ í”„ë¡œì íŠ¸ ë‚´ ì–´ë–¤ ë¶€ë¶„ì„ ìˆ˜ì •í–ˆëŠ”ì§€ë¥¼ ë‹¤ìŒì²˜ëŸ¼ í™•ì¸í•´ë³´ì.

```bash
$ git show e397a76

diff --git a/.cz.yaml b/.cz.yaml
-  version: 0.0.0
+  version: 0.0.1

diff --git a/project.yaml b/project.yaml
-version: 0.0.0
+version: 0.0.1
```

`.cz.yaml` ë‚´ `commitizen.version` ì˜ ê°’ê³¼ `project.yaml` ë‚´ `version` ì˜ ê°’ì„ ëª¨ë‘ ë™ì¼í•˜ê²Œ ìˆ˜ì •í•œ ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.

## Changelog ê´€ë ¨ ì„¤ì • ì‘ì„±í•˜ê¸°

ë‹¤ìŒì²˜ëŸ¼ `cz changelog` ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•´ë³´ì.

```bash
$ cz changelog
$ ls

CHANGELOG.md project.yaml
```

ì‹¤í–‰ ê²°ê³¼ë¡œ `CHANGELOG.md` íŒŒì¼ì´ ìƒì„±ë˜ì—ˆëŠ”ë°, ì´ íŒŒì¼ì„ í™•ì¸í•´ë³´ì.

```bash
$ cat changelog

## v0.0.1 (2022-06-25)

- [bump] from 0.0.0 to 0.0.1
- [config] (.cz.yaml, project.yaml) Add versioning
- [config] (.cz.yaml) Add .cz.yaml
```

ë²„ì „ê³¼ í•´ë‹¹ ë²„ì „ì— í¬í•¨ë˜ëŠ” ì»¤ë°‹ ëª©ë¡ë“¤ì„ ë‚˜ì—´í•˜ê³  ìˆë‹¤.
ë­ ì´ë ‡ê²Œë§Œ ì¨ë„ ë¬¸ì œëŠ” ì—†ì§€ë§Œ, ë³´í†µ Changelogì—ëŠ” íƒ€ì…ë³„ë¡œ ì»¤ë°‹ ëª©ë¡ë“¤ì´ êµ¬ë¶„ë˜ì–´ìˆëŠ”ê²Œ ì¼ë°˜ì ì´ë‹¤.
ì´ì œ ì´ë¥¼ ìœ„í•œ ì´ì œ ì»¤ìŠ¤í„°ë§ˆì´ì§• ì„¤ì •ì„ ì‘ì„±í•´ë³´ì.

ë¨¼ì € [ê³µì‹ë¬¸ì„œ](https://commitizen-tools.github.io/commitizen/changelog/#description)ì— ë”°ë¥´ë©´ Commitizenì€ Changelogë¥¼ ë‹¤ìŒê³¼ ê°™ì€ í¬ë§·ìœ¼ë¡œ ì‘ì„±í•œë‹¤ê³  í•œë‹¤.

```
# <version> (<date>)

## <change_type>

- **<scope>**: <message>
```

ìš°ë¦¬ì˜ `CHANGELOG.md` ì—ëŠ” í˜„ì¬ `## <change_type>` ì´ ì—†ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.

`.cz.yaml` ì„ ë‹¤ìŒì²˜ëŸ¼ ìˆ˜ì •í•˜ì.

```yaml{33-43,49}
# .cz.yaml

commitizen:
  name: cz_customize
  customize:
    questions:
    - choices:
      - name: new feature
        value: feature
      - name: bug fix
        value: bug fix
      - name: config
        value: config
      - name: breaking changes
        value: break
      message: 'Select type:'
      name: type
      type: list
    - message: 'Changed files or directory scope:'
      name: changed_scope
      type: path
    - message: 'Input message:'
      name: message
      type: input
    example: '[bug fix] (README.md) Fix Typo'
    message_template: '[{{ type }}]{% if changed_scope %} ({{ changed_scope }}){% endif %} {{ message }}'
    bump_pattern: feature|bug fix|config|break
    bump_map:
      break: MAJOR
      bug fix: PATCH
      config: PATCH
      feature: MINOR
    commit_parser: \[(?P<change_type>feature|bug fix|config|break)\](\s\((?P<scope>.*)\))?\s(?P<message>.*)?
    change_type_map:
      feature: Feature
      bug fix: Fix
      config: Config
      break: Break
    change_type_order:
      - Break
      - Feature
      - Fix
      - Config
  bump_message: '[bump] from $current_version to $new_version'
  tag_format: v$major.$minor.$patch$prerelease
  version: 0.0.0
  version_files:
  - project.yaml:version
  changelog_file: 'CHANGELOG.md'
```

ì¶”ê°€ëœ ë¶€ë¶„ì„ í•˜ë‚˜ì”© ì‚´í´ë³´ì.

- `commit_parser` ëŠ” Changelog ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ ì»¤ë°‹ì„ íŒŒì‹±í•˜ëŠ” íŒ¨í„´ì´ë‹¤.
  - íŒŒì´ì¬ì˜ ì •ê·œí‘œí˜„ì‹ìœ¼ë¡œ ì‘ì„±í•œë‹¤.
  - ì „ë°˜ì ìœ¼ë¡œ íŒ¨í„´ì€ `message_template` ìœ¼ë¡œ ë§Œë“¤ì–´ì§€ëŠ” ì»¤ë°‹ ë©”ì‹œì§€ í˜•íƒœë¥¼ ê³ ë ¤í•˜ì—¬ ì‘ì„±í•œë‹¤.
  - íŒ¨í„´ ì¤‘ê°„ì— ë³´ë©´ `change_type`, `scope`, `message` ìˆë‹¤. ìœ„ Changelog í¬ë§·ì— ë“¤ì–´ê°€ëŠ” ë³€ìˆ˜ë“¤ì´ë‹¤.
- `change_type_map` ëŠ” `commit_parser` ë¥¼ í†µí•´ íŒŒì‹±í•œ ì»¤ë°‹ ë©”ì‹œì§€ì—ì„œ `change_type` ê°’ì— ëŒ€í•œ Alias ë§¤í•‘ì´ë‹¤.
  - ì˜ˆë¥¼ ë“¤ì–´ `change_type` ì´ `feature` ì˜€ë˜ ì»¤ë°‹ì€ Changelog ë‚´ `Feature` í•˜ìœ„ í•­ëª©ì— ì‘ì„±ëœë‹¤.
  - ì´ ì„¤ì • ê°’ì€ í•„ìˆ˜ëŠ” ì•„ë‹ˆë‹¤. `change_type_map` ì„ ì´ì²˜ëŸ¼ ëª…ì‹œí•´ì£¼ì§€ ì•Šìœ¼ë©´, ê¸°ë³¸ì ìœ¼ë¡œ `change_type` ê°’ ê·¸ëŒ€ë¡œ Chnagelog ë‚´ ë“¤ì–´ê°„ë‹¤.
- `change_type_order` ì€ Changelog ë‚´ `change_type` ì´ ì‘ì„±ë˜ëŠ” ìˆœì„œë¥¼ ì •ì˜í•œë‹¤.
  - ì—¬ê¸°ì„œëŠ” `Break` -> `Feature` -> `Fix` -> `Config` ìˆœìœ¼ë¡œ ì‘ì„±ëœë‹¤.
- `changelog_file` ì€ `cz changelog` ëª…ë ¹ ì‹¤í–‰ ì‹œ, Changelog ê°€ ì‘ì„±ë˜ëŠ” íŒŒì¼ ì´ë¦„ì´ë‹¤.

ì—¬ê¸°ê¹Œì§€ ì‘ì„±í–ˆìœ¼ë©´ ì¼ë‹¨ ê¸°ì¡´ì˜ `CHANGELOG.md` íŒŒì¼ì€ ì‚­ì œí•˜ê³  ë³€ê²½í•œ ë‚´ìš©ì„ ì»¤ë°‹í•´ë‘ì.

```bash
$ rm CHANGELOG.md
$ git add .cz.yaml
$ cz c

? Select type: config
? Changed files or directory scope: .cz.yaml
? Input message: Add changelog config

[config] (.cz.yaml) Add changelog config
```

ì´ì œ Changelogê°€ ì˜ ì‘ì„±ë˜ëŠ”ì§€ í™•ì¸í•´ë³´ì.
ì•„ê¹Œì²˜ëŸ¼ `cz changelog` ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•´ë„ ë˜ì§€ë§Œ, `cz bump` ì™€ í•¨ê»˜ ì‚¬ìš©í•´ë³´ì.
ë‹¤ìŒì²˜ëŸ¼ `cz bump` ëª…ë ¹ì–´ì— `--changelog` ì˜µì…˜ì„ ì¶”ê°€í•´ì£¼ë©´ ëœë‹¤.

```bash
$ cz bump --changelog

[bump] from 0.0.1 to 0.0.2
tag to create: v0.0.2
increment detected: PATCH
```

bump ë¨ê³¼ ë™ì‹œì— `CHANGELOG.md` íŒŒì¼ë„ ìƒˆë¡œ ìƒê¸°ê²Œ ë˜ëŠ”ë° ì˜ ì‘ì„±ë˜ì—ˆëŠ”ì§€ í™•ì¸í•´ë³´ì.

```bash
$ cat CHANGELOG.md

## v0.0.2 (2022-06-25)

### Config

- **.cz.yaml**: Add changelog config

## v0.0.1 (2022-06-25)

### Config

- **.cz.yaml, project.yaml**: Add versioning
- **.cz.yaml**: Add .cz.yaml
```

ì•„ê¹Œì™€ ë‹¤ë¥´ê²Œ `## change_type` ì¶”ê°€ ë˜ê³ , ê° ì»¤ë°‹ì´ ì˜ ë¶„ë¥˜ë˜ì—ˆë‹¤!


> í•˜ë‚˜ ì£¼ì˜í•´ì•¼í• ê²Œ, `cz bump --changelog` ë¥¼ í•œë‹¤ê³  í•´ì„œ bump ì»¤ë°‹ì— `CHANGELOG.md` ìƒì„± ì´ë ¥ì´ ì¶”ê°€ë˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤.
`cz bump --changelog` ëª…ë ¹ ì´í›„ `git status` ë¡œ í™•ì¸í•´ë³´ë©´ `CHANGELOG.md` ëŠ” ì•„ì§ ìŠ¤í…Œì´ì§•ìœ¼ë¡œ ì˜¬ë¼ì˜¤ì§€ ì•Šì€ ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.
>
> ```bash
> $ git status
> í˜„ì¬ ë¸Œëœì¹˜ main
> ì¶”ì í•˜ì§€ ì•ŠëŠ” íŒŒì¼:
>  (ì»¤ë°‹í•  ì‚¬í•­ì— í¬í•¨í•˜ë ¤ë©´ "git add <íŒŒì¼>..."ì„ ì‚¬ìš©í•˜ì‹­ì‹œì˜¤)
>        CHANGELOG.md
> ```
>
> `CHANGELOG.md` ë¥¼ ì €ì¥ì†Œì— ë‹´ìœ¼ë ¤ë©´ ê²°êµ­ ì»¤ë°‹ì„ í•œë²ˆ ë” ì°ì–´ì•¼ í•œë‹¤.
> ì´ê²Œ ê·€ì°®ê¸° ë•Œë¬¸ì— ì‚¬ì‹¤ í•„ìëŠ” `CHANGELOG.md` ë¥¼ ë”°ë¡œ ìƒì„±í•˜ì§€ ì•Šê³ , Github Releases ì—ë§Œ ë‹´ëŠ”ë‹¤.
> ì´ ê¸€ í›„ë°˜ë¶€ì—ì„œ ì´ ë°©ë²•ì— ëŒ€í•´ ë‹¤ë£° ê²ƒì´ë‹¤.


## pre-commit ì‚¬ìš©í•˜ê¸°

í”„ë¡œì íŠ¸ì— ì»¤ë°‹ ì°ì„ë•Œ í•­ìƒ `cz c` ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ë©´ ë¬¸ì œê°€ ì—†ë‹¤.
ê·¸ëŸ°ë° ëˆ„êµ°ê°€ê°€ `git commit` ìœ¼ë¡œ ì»¤ë°‹ì„ ì°ëŠ”ë‹¤ë©´, ì»¤ë°‹ ë©”ì‹œì§€ ê·œì¹™ í•­ìƒ ì§€ì¼œì§€ë¦¬ë€ ë²•ì€ ì—†ë‹¤.
ì´ ë•Œë¬¸ì— [pre-commit](https://pre-commit.com/) ê°™ì€ íˆ´ë¡œ ì»¤ë°‹ì´ ìƒì„±ë˜ê¸° ì „ì— ì»¤ë°‹ ë©”ì‹œì§€ê°€ ê·œì¹™ì— ë”°ë¼ ì˜ ì‘ì„±ë˜ì—ˆëŠ”ì§€ í™•ì¸í•´ì•¼ í•œë‹¤.
ì´ì œ pre-commitì„ ì´ìš©í•˜ì—¬, ì»¤ë°‹í•  ë•Œ ì»¤ë°‹ ë©”ì‹œì§€ê°€ Commitizenì—ì„œ ì„¤ì •í•œ ì»¤ë°‹ ë©”ì‹œì§€ ê·œì¹™ëŒ€ë¡œ ì˜ ì‘ì„±ë˜ì—ˆëŠ”ì§€ ê²€ì¦í•˜ëŠ” ì‘ì—…ì„ ì¶”ê°€í•´ë³´ì.

Commitizenì—ì„œëŠ” `cz check -m "ì»¤ë°‹ ë©”ì‹œì§€"` ëª…ë ¹ì–´ë¥¼ í†µí•´ `"ì»¤ë°‹ ë©”ì‹œì§€"` ê°€ Commitizenì—ì„œ ì„¤ì •í•œ ì»¤ë°‹ ë©”ì‹œì§€ ê·œì¹™ì„ ë”°ë¥´ëŠ”ì§€ ê²€ì¦í•  ìˆ˜ ìˆë‹¤.

`.cz.yaml` íŒŒì¼ì„ ë‹¤ìŒì²˜ëŸ¼ ìˆ˜ì •í•œë‹¤.

```yaml{44}
# .cz.yaml

commitizen:
  name: cz_customize
  customize:
    questions:
    - choices:
      - name: new feature
        value: feature
      - name: bug fix
        value: bug fix
      - name: config
        value: config
      - name: breaking changes
        value: break
      message: 'Select type:'
      name: type
      type: list
    - message: 'Changed files or directory scope:'
      name: changed_scope
      type: path
    - message: 'Input message:'
      name: message
      type: input
    example: '[bug fix] (README.md) Fix Typo'
    message_template: '[{{ type }}]{% if changed_scope %} ({{ changed_scope }}){% endif %} {{ message }}'
    bump_pattern: feature|bug fix|config|break
    bump_map:
      break: MAJOR
      bug fix: PATCH
      config: PATCH
      feature: MINOR
    commit_parser: \[(?P<change_type>feature|bug fix|config|break)\](\s\((?P<scope>.*)\))?\s(?P<message>.*)?
    change_type_map:
      feature: Feature
      bug fix: Fix
      config: Config
      break: Break
    change_type_order:
      - Break
      - Feature
      - Fix
      - Config
    schema_pattern: \[(?P<change_type>feature|bug fix|config|break|bump)\](\s\((?P<scope>.*)\))?\s(?P<message>.*)?
  bump_message: '[bump] from $current_version to $new_version'
  tag_format: v$major.$minor.$patch$prerelease
  version: 0.0.0
  version_files:
  - project.yaml:version
  changelog_file: 'CHANGELOG.md'
```

- `schema_pattern` ëŠ” ì»¤ë°‹ ë©”ì‹œì§€ ê²€ì¦ì„ ìœ„í•´ ì“°ì´ëŠ” ì»¤ë°‹ ë©”ì‹œì§€ ìŠ¤í‚¤ë§ˆë‹¤.
  - `cz check -m "ë©”ì‹œì§€"` ëª…ë ¹ ì“°ì´ëŠ” ì„¤ì • ê°’ìœ¼ë¡œ, ì¸ìë¡œ ë„˜ì–´ì˜¨ ë©”ì‹œì§€ê°€ ì´ íŒ¨í„´ì„ ë”°ë¥´ëŠ”ì§€ í™•ì¸í•œë‹¤.
  - íŒŒì´ì¬ ì •ê·œí‘œí˜„ì‹ìœ¼ë¡œ ì‘ì„±í•œë‹¤.
  - ì‚¬ì‹¤ìƒ `commit_parser`ì™€ ë™ì¼í•˜ë‹¤.

ë³€ê²½ ì´ë ¥ì„ ë¨¼ì € ì €ì¥í•˜ì.

```bash
$ git add .cz.yaml
$ cz c

? Select type: config
? Changed files or directory scope: .cz.yaml
? Input message: Add schema_pattern for cz check

[config] (.cz.yaml) Add schema_pattern for cz check
```

ì´ì œ `cz check -m "ë©”ì‹œì§€"` ëª…ë ¹ì–´ë¡œ ì˜ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•´ë³´ì.

```bash
$ cz check -m "[config] Valid Commit"
Commit validation: successful!

$ cz check -m "[config] (file) Valid Commit"
Commit validation: successful!

$ cz check -m "config: InValid Commit"
commit validation: failed!
please enter a commit message in the commitizen format.
commit "": "config: InValid Commit"
pattern: \[(?P<change_type>feature|bug fix|config|break)\](\s\((?P<scope>.*)\))?\s(?P<message>.*)?
```

ìœ„ì²˜ëŸ¼ ê·œì¹™ì„ ì˜ ë”°ë¥´ëŠ” ë©”ì‹œì§€ëŠ” "successful" ì„, ë”°ë¥´ì§€ ì•ŠëŠ” ë©”ì‹œì§€ëŠ” "failed" ë¥¼ ë°˜í™˜í•˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.

ì´ì œ ì´ë¥¼ pre-commitì„ í†µí•´ ì‚¬ìš©í•´ë³´ì.
ë¨¼ì € ë‹¤ìŒì²˜ëŸ¼ `pre-commit` íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•œë‹¤.

```bash
$ pip install pre-commit
$ pre-commit -V

pre-commit 2.19.0
```

`.pre-commit-config.yaml` íŒŒì¼ì„ ë§Œë“  ë’¤, ë‹¤ìŒì²˜ëŸ¼ ì‘ì„±í•œë‹¤.

```yaml
# .pre-commit-config.yaml

repos:
- repo: local
  hooks:
    - id: commitizen
      name: My commitizen check
      entry: cz
      args: ['check', '--commit-msg-file', '.git/COMMIT_EDITMSG']
      pass_filenames: false
      language: system
      stages: [commit-msg]
```

ì´ì œ ë‹¤ìŒ ëª…ë ¹ì–´ë¡œ `pre-commit` ì„¤ì¹˜ë¥¼ ì™„ë£Œí•œë‹¤.

```bash
$ pre-commit install --hook-type commit-msg
```

ì •ë§ ì˜ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•´ë³´ì.
`cz c` ê°€ ì•„ë‹ˆë¼ `git commit` ìœ¼ë¡œ ì¼ë¶€ëŸ¬ ê·œì¹™ì— ì–´ê¸‹ë‚œ ì»¤ë°‹ ë©”ì‹œì§€ë¡œ ì»¤ë°‹ì„ ì‹œë„í•´ë³¸ë‹¤.

```bash
$ git add .pre-commit-config.yaml
$ git commit -m "Add .pre-commit-config.yaml"

My commitizen check......................................................Failed
- hook id: commitizen
- exit code: 14

commit validation: failed!
please enter a commit message in the commitizen format.
commit "": "Invalid commit"
pattern: \[(?P<change_type>feature|bug fix|config|break)\](\s\((?P<scope>.*)\))?\s(?P<message>.*)?
```

ì˜ë„í•œëŒ€ë¡œ ì»¤ë°‹ì— ì‹¤íŒ¨í–ˆë‹¤!

ì´ë²ˆì—” ê·œì¹™ì„ ë”°ë¥´ëŠ” ì»¤ë°‹ ë©”ì‹œì§€ë¡œ ì»¤ë°‹ì„ ì‹œë„í•´ë³´ì.

```bash
$ git commit -m "[config] (.pre-commit-config.yaml) Add cz check"

My commitizen check......................................................Passed
[main 1a0ca15] [config] (.pre-commit-config.yaml) Add cz check
 1 file changed, 10 insertions(+)
 create mode 100644 .pre-commit-config.yaml
```

ì˜ë„í•œëŒ€ë¡œ ì„±ê³µì ìœ¼ë¡œ ì»¤ë°‹ì´ ì°í˜”ë‹¤!

## Github Actionsìœ¼ë¡œ ìë™í™”í•˜ê¸°

### ë©”ë‰´ì–¼ëŒ€ë¡œ ì‚¬ìš©í•˜ê¸°

ì§€ê¸ˆê¹Œì§€ Commitizenì„ ì‚¬ìš©í•˜ëŠ” ê²ƒë„ ë¬¼ë¡  ì¶©ë¶„íˆ ì¢‹ë‹¤. í•˜ì§€ë§Œ ë§¤ë²ˆ ë²„ì „ì„ ì˜¬ë¦´ ë•Œë§ˆë‹¤ ê°œë°œìê°€ ì§ì ‘ `cz bump` ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•´ì•¼ í•œë‹¤.
ê²°êµ­ `cz bump` ì™€ `git push` ë¥¼ ë§¤ë²ˆ í•´ì¤˜ì•¼ í•˜ëŠ”ë°, ì´ê²Œ ë§¤ìš° ë²ˆê±°ë¡­ë‹¤.

Github Actionì„ ì‚¬ìš©í•˜ë©´ ê°œë°œìê°€ ì§ì ‘ bump í•  ì¼ ì—†ì´, bump ì™€ Github Releases ì‘ì„±ì„ ìë™í™”í•  ìˆ˜ ìˆë‹¤.
ì´ë¥¼ í•œë²ˆ êµ¬í˜„í•´ë³´ì.

ë¨¼ì € `.github/workflows/bump_version.yaml` ë¥¼ ë§Œë“¤ê³  ë‹¤ìŒì²˜ëŸ¼ ì‘ì„±í•œë‹¤.

```yaml
# .github/workflows/bump_version.yaml

name: Bump version

on:
  push:
    branches:
      - main

jobs:
  bump-version:
    if: "!startsWith(github.event.head_commit.message, '[bump]')"
    runs-on: ubuntu-latest
    name: "Bump version and create changelog with commitizen"
    steps:
      - name: Check out
        uses: actions/checkout@v2
        with:
          token: "${{ secrets.GITHUB_TOKEN }}"
          fetch-depth: 0
      - name: Create bump and changelog
        uses: commitizen-tools/commitizen-action@master
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          changelog_increment_filename: body.md
      - name: Release
        uses: softprops/action-gh-release@v1
        with:
          body_path: "body.md"
          tag_name: v${{ env.REVISION }}
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
```

Github Actionì„ ì‚¬ìš©í•´ë³¸ ì‚¬ëŒì´ë¼ë©´ ì‰½ê²Œ ì•Œê² ì§€ë§Œ, ëª¨ë¥´ëŠ” ë¶„ë“¤ì„ ìœ„í•´ ìœ„ ë‚´ìš©ì— ëŒ€í•´ ê°„ëµíˆ ì„¤ëª…í•´ë³¸ë‹¤.

- Github Repoì˜ main branchì— push ì´ë²¤íŠ¸ê°€ ë°œìƒí•  ë•Œ ì´ ì›Œí¬í”Œë¡œìš°ê°€ ì‹¤í–‰ëœë‹¤.
  - ì´ ë•Œ ì»¤ë°‹ ë©”ì‹œì§€ê°€ `[bump]` ë¡œ ì‹œì‘í•˜ì§€ ì•ŠëŠ” ê²½ìš°ì—ë§Œ ì‹¤í–‰í•˜ëŠ” ì¡°ê±´ì´ ë¶™ëŠ”ë‹¤.
    - ë¡œì»¬ì—ì„œ `cz bump` ëª…ë ¹ì–´ë¡œ ì»¤ë°‹ ë©”ì‹œì§€ë¥¼ ë§Œë“  ë’¤ push í•˜ëŠ” ê²½ìš°ë¥¼ ê³ ë ¤í•œ ì¡°ê±´ì´ë‹¤.
    - ë¡œì»¬ì—ì„œ ì´ë¯¸ bumpí•œ ê²½ìš° Github Actionìœ¼ë¡œ ë˜ bumpí•  í•„ìš”ê°€ ì—†ê¸° ë•Œë¬¸ì´ë‹¤.
- ì›Œí¬ í”Œë¡œìš° ë‚´ìš©ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.
  - `cz bump` í•œ ë’¤ Github Repoë¡œ ì»¤ë°‹ê³¼ íƒœê·¸ë¥¼ pushí•œë‹¤.
  - Changelog ë‚´ìš©ì„ Releasesì— ê²Œì‹œí•œë‹¤.

ì—¬ê¸°ê¹Œì§€ ì‘ì„±í•œ ë‚´ìš©ì„ ì €ì¥í•˜ì.

```bash
$ git add .github/
$ cz c

? Select type: config
? Changed files or directory scope: .github
? Input message: Add changelog and release action when bump commit on main

[config] (.github) Add changelog and release action when bump commit on main
```

ì´ì œ Github Repoë¡œ `git push` í•˜ì.

```bash
$ git push origin main
```

ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ Github Repoì— ë“¤ì–´ê°€ Actions íƒ­ì„ í™•ì¸í•´ë³´ë©´ ë‹¤ìŒì²˜ëŸ¼ ì›Œí¬í”Œë¡œìš°ê°€ ì„±ê³µì ìœ¼ë¡œ ì˜ ì‘ë™í•œ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.

![1.png](./1.png)

ì´ì œ Repoì˜ Code íƒ­ì— ë“¤ì–´ì™€ í™•ì¸í•´ë³´ë©´ bump ì»¤ë°‹ì´ ìƒê¸´ê²ƒê³¼, Releasesê°€ ìƒì„±ëœ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.

![2.png](./2.png)

Releasesë¥¼ í´ë¦­í•´ ê·¸ ë‚´ìš©ì„ í™•ì¸í•´ë³´ë©´ Changelog ë‚´ìš©ì´ ì˜ ë“¤ì–´ê°€ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

![3.png](./3.png)

### ì§ì ‘ ì»¤ìŠ¤í„°ë§ˆì´ì§• í•˜ê¸°

ìœ„ ë‚´ìš©ì€ ê³µì‹ ë¬¸ì„œ ë©”ë‰´ì–¼ì— ìˆëŠ” ë‚´ìš©ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•œ ê²ƒì´ë‹¤.
ê·¸ëŸ°ë° ì´ëŒ€ë¡œí•˜ë©´ Releasesì— ê³¼ê±° ë²„ì „ë¶€í„° í˜„ì¬ ë²„ì „ê¹Œì§€ ëª¨ë“  ë‚´ìš©ì´ ë‹´ê¸°ê²Œ ëœë‹¤.
ë²„ì „ì´ ì—…ë˜ê³  ì»¤ë°‹ì´ ì ì  ë§ì•„ì§€ë©´ ë¦´ë¦¬ì¦ˆ ë…¸íŠ¸ì— í•œ ë²ˆì— ë§ì€ ì–‘ì´ ë‹´ê¸°ê²Œ ëœë‹¤.
ë˜í•œ í˜„ì¬ ë¦´ë¦¬ì¦ˆì— ëŒ€í•œ ë‚´ìš©ë§Œ ìˆëŠ”ê²Œ ì•„ë‹ˆë¼ ê´€ì‹¬ ì—†ëŠ” ì´ì „ì˜ ë‚´ìš©ë„ í•œë²ˆì— ë´ì•¼í•œë‹¤.

> `cz changelog "íŠ¹ì • ë²„ì „ ì´ë¦„"` ëª…ë ¹ì–´ë¥¼ ì£¼ë©´ ëª¨ë“  ë²„ì „ì´ ì•„ë‹Œ íŠ¹ì • ë²„ì „ì— ëŒ€í•´ì„œë§Œ Changelogë¥¼ ìƒì„±í•  ìˆ˜ ìˆë‹¤.
> ë˜í•œ `--dry-run` ì˜µì…˜ì„ ì£¼ë©´ `CHANGELOG.md` íŒŒì¼ì„ ìƒì„±í•˜ì§€ ì•Šê³ , stdoutì— ë‚´ìš©ì„ ì¶œë ¥í•´ì¤€ë‹¤.

Githun Action ì›Œí¬ í”Œë¡œìš°ë¥¼ ìˆ˜ì •í•˜ì—¬, í˜„ì¬ bump ë˜ëŠ” ë²„ì „ì˜ Changelogë§Œ Releasesì— ë‹´ê¸°ë„ë¡ ìˆ˜ì •í•´ë³´ì.

`.github/workflows/bump_version.yaml` ì„ ë‹¤ìŒì²˜ëŸ¼ ìˆ˜ì •í•œë‹¤.

```yaml{20-44}
# .github/workflows/bump_version.yaml
name: Bump version

on:
  push:
    branches:
      - main

jobs:
  bump-version:
    if: "!startsWith(github.event.head_commit.message, '[bump]')"
    runs-on: ubuntu-latest
    name: "Bump version and create changelog with commitizen"
    steps:
      - name: Check out
        uses: actions/checkout@v2
        with:
          token: "${{ secrets.GITHUB_TOKEN }}"
          fetch-depth: 0
      - name: Set git user
        uses: fregante/setup-git-user@v1
      - name: Set up Python 3.9
        uses: actions/setup-python@v2
        with:
          python-version: 3.9
      - name: Bump
        run: |>
          # Install commitizen.
          python -m pip install --upgrade pip
          pip install commitizen
          
          # Bump version.
          cz bump
          
          # Push bump commit and tag.
          git push origin main
          git push origin "HEAD:main" --tags
          
          # Save current version into environment var.
          echo "REVISION=$(cz version --project)" >> $GITHUB_ENV
      - name: Create Changelog
        run: |>
          # Create Changelog for release.
          cz changelog --dry-run ${{ env.REVISION }} > "body.md"
      - name: Release
        uses: softprops/action-gh-release@v1
        with:
          body_path: "body.md"
          tag_name: v${{ env.REVISION }}
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
```

ì´ì „ì—ëŠ” Commitizen ì¸¡ì—ì„œ ë§Œë“¤ì–´ë‘” `commitizen-tools/commitizen-action@master` ì›Œí¬ í”Œë¡œìš°ë¥¼ ê°€ì ¸ë‹¤ ì‚¬ìš©í–ˆëŠ”ë°, ì´ì œëŠ” ê°€ì ¸ì˜¤ì§€ ì•Šê³  ì§ì ‘ ì›Œí¬í”Œë¡œìš°ë¥¼ ì‘ì„±í•œë‹¤.

ìˆ˜ì •ëœ ì›Œí¬í”Œë¡œìš°ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.
- ë’¤ì— ìˆì„ `git push` ë¥¼ ìœ„í•´ git ìœ ì €ë¥¼ ì…‹ì—…í•œë‹¤.
- `pip` ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ `python` ì„ ì„¤ì¹˜ ë° ì…‹ì—…í•´ë‘”ë‹¤.
- `pip`ë¡œ `commitizen` ì„ ì„¤ì¹˜í•œë‹¤.
- `cz bump` ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ê³ , ë§Œë“¤ì–´ì§„ bump ì»¤ë°‹ê³¼ íƒœê·¸ë¥¼ push í•œë‹¤.
- ë°©ê¸ˆ bump ëœ í˜„ì¬ ë²„ì „ì„ ì €ì¥í•´ë‘”ë‹¤.
- `cz changelog "í˜„ì¬ ë²„ì „"` ëª…ë ¹ìœ¼ë¡œ Changelogë¥¼ ë§Œë“¤ê³ , ì´ë¥¼ Releasesì— ì‘ì„±í•œë‹¤.

ë³€ê²½ ë‚´ìš©ì„ ì €ì¥í•˜ê³  `git push` í•´ë³´ì.

```bash
$ git add .github/
$ cz c

? Select type: config
? Changed files or directory scope: .github
? Input message: Add step for changelog about only current version

[config] (.github) Add step for changelog about only current version

$ git push origin main
```

ë‹¤ìŒì²˜ëŸ¼ Actionì´ ì˜ ì„±ê³µí•œ ë’¤ Releasesê°€ ì˜ë„í•œëŒ€ë¡œ ì˜ ì‘ì„±ëœ ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.

![4.png](./4.png)

## ë‚˜ê°€ë©°

ì‚¬ì‹¤ ì»¤ìŠ¤í„°ë§ˆì´ì§•í• ë ¤ë©´ ìƒê°ë³´ë‹¤ ì‘ì„±í•´ì•¼í• ê²Œ ë§ê¸° ë•Œë¬¸ì—, ë˜ë„ë¡ì´ë©´ ê¸°ì¡´ì— ìˆëŠ” í”„ë¦¬ì…‹ì„ ì‚¬ìš©í•˜ê¸°ë¥¼ ê¶Œì¥í•œë‹¤.
ë‚´ ê²½í—˜ìƒ ëŒ€ë¶€ë¶„ ë”°ë¡œ ì„¤ì •ì•ˆí•˜ê³  í”„ë¦¬ì…‹ ê¸°ë³¸ ê°’ì¸ Conventional Commitì„ ë”°ë¼ê°€ë„ ì¶©ë¶„í–ˆë‹¤.
ê·¸ëŸ¼ì—ë„, ì¼ë°˜ì ì¸ ìƒí™©ì´ ì•„ë‹ˆê±°ë‚˜ ì´ë¯¸ ë‚˜ë¦„ì˜ ì»¤ë°‹ ê·œì¹™ì´ ìˆëŠ” íŒ€ë“¤ì€ Commitizenì„ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•´ì„œ ì‚¬ìš©í•˜ì§€ ì•Šì„ê¹Œ ì‹¶ë‹¤.

ê°œì¸ì ìœ¼ë¡œ Commitizenì€ ê°„ë‹¨í•˜ë©´ì„œë„ ì°¸ ì˜ë§Œë“  ë„êµ¬ë¼ ìƒê°í•œë‹¤.
Semantic Versioningì— ë¬¶ì—¬ìˆê¸°ëŠ” í•˜ì§€ë§Œ, ì•„ì§ê¹Œì§€ Semantic Versioningì´ ë³„ë¡œë¼ ìƒê°ë“ ì ì´ ì˜ ì—†ë‹¤.
ë‹¤ë¥¸ Versioning ë°©ë²•ìœ¼ë¡œ Calander Versioningì´ ìˆê¸°ëŠ” í•œë°, ê¸€ì„? ì•„ì§ê¹Œì§„ êµ³ì´ Semantic Versioningê³¼ Commitizenì„ ì“°ì§€ ì•Šì„ ì´ìœ ë¥¼ ì°¾ì§€ ëª»í–ˆë‹¤.

ì¶”í›„ì— ì´ë ‡ê²Œ ì“°ë‹¤ ë¬¸ì œê°€ ìƒê¸°ê²Œ ë˜ë©´, ê·¸ ë•Œ ë‹¤ì‹œ ê´€ë ¨ ê¸€ì„ ì ì–´ë´ì•¼ê² ë‹¤.

> ì—¬ê¸°ì„œ ì‹¤ìŠµí•œ ë‚´ìš©ì€ [ì—¬ê¸°](https://github.com/heumsi/commitizen-customize-playground)ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

## ì°¸ê³ í•œ ê¸€

ì•„ë˜ ë‚´ìš©ë“¤ì„ ì°¸ê³ í–ˆë‹¤.

- https://commitizen-tools.github.io/commitizen/
- https://github.com/commitizen-tools/commitizen-action